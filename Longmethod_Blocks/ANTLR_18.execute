void#execute#(#)#throws#BuildException#{#validateAttributes#(#)#;##//TODO: use ANTLR to parse the grammar file to do this.#File#generatedFile#=#getGeneratedFile#(#)#;#boolean#targetIsOutOfDate#=#targetFile#.#lastModified#(#)#>#generatedFile#.#lastModified#(#)#;#boolean#superGrammarIsOutOfDate#=#superGrammar#!=#null#&&#(#superGrammar#.#lastModified#(#)#>#generatedFile#.#lastModified#(#)#)#;##if#(#targetIsOutOfDate#||#superGrammarIsOutOfDate#)#{##if#(#targetIsOutOfDate#)#{#log#(#"Compiling "#+#targetFile#+#" as it is newer than "#+#generatedFile#,#Project#.#MSG_VERBOSE#)#;#}#else#{#log#(#"Compiling "#+#targetFile#+#" as "#+#superGrammar#+#" is newer than "#+#generatedFile#,#Project#.#MSG_VERBOSE#)#;#}##populateAttributes#(#)#;#commandline#.#createArgument#(#)#.#setValue#(#targetFile#.#toString#(#)#)#;#log#(#commandline#.#describeCommand#(#)#,#Project#.#MSG_VERBOSE#)#;#int#err#=#run#(#commandline#.#getCommandline#(#)#)#;##if#(#err#!=#0#)#{#throw#new#BuildException#(#"ANTLR returned: "#+#err#,#getLocation#(#)#)#;#}#else#{#String#output#=#bos#.#toString#(#)#;##if#(#output#.#indexOf#(#"error:"#)#>#-#1#)#{#throw#new#BuildException#(#"ANTLR signaled an error: "#+#output#,#getLocation#(#)#)#;#}#}#}#else#{#log#(#"Skipped grammar file. Generated file "#+#generatedFile#+#" is newer."#,#Project#.#MSG_VERBOSE#)#;#}#}