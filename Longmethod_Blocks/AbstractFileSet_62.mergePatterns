PatternSet#mergePatterns#(#Project#p#)#{##if#(#isReference#(#)#)#{##return#getRef#(#p#)#.#mergePatterns#(#p#)#;#}##dieOnCircularReference#(#)#;#PatternSet#ps#=#(#PatternSet#)#defaultPatterns#.#clone#(#)#;#final#int#count#=#additionalPatterns#.#size#(#)#;##for#(#int#i#=#0#;##i#<#count#;#i#++#)#{#Object#o#=#additionalPatterns#.#elementAt#(#i#)#;#ps#.#append#(#(#PatternSet#)#o#,#p#)#;#}##return#ps#;#}