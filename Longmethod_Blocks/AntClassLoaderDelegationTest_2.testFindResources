void#testFindResources#(#)#throws#Exception#{##// This path should contain the class files for these testcases:#String#buildTestcases#=#System#.#getProperty#(#"build.tests"#)#;#assertNotNull#(#"defined ${build.tests}"#,#buildTestcases#)#;#assertTrue#(#"have a dir "#+#buildTestcases#,#new#File#(#buildTestcases#)#.#isDirectory#(#)#)#;#Path#path#=#new#Path#(#p#,#buildTestcases#+#"/org"#)#;##// A special parent loader which is not the system class loader:#ClassLoader#parent#=#new#ParentLoader#(#)#;##// An AntClassLoader which is supposed to delegate to##// the parent and then to the disk path:#ClassLoader#acl#=#new#AntClassLoader#(#parent#,#p#,#path#,#true#)#;##// The intended result URLs:#URL#urlFromPath#=#new#URL#(#FILE_UTILS#.#toURI#(#buildTestcases#)#+#"org/"#+#TEST_RESOURCE#)#;#URL#urlFromParent#=#new#URL#(#"http://ant.apache.org/"#+#TEST_RESOURCE#)#;#assertEquals#(#"correct resources (regular delegation order)"#,#Arrays#.#asList#(#new#URL#[#]#{#urlFromParent#,#urlFromPath#}#)#,#enum2List#(#acl#.#getResources#(#TEST_RESOURCE#)#)#)#;#acl#=#new#AntClassLoader#(#parent#,#p#,#path#,#false#)#;#assertEquals#(#"correct resources (reverse delegation order)"#,#Arrays#.#asList#(#new#URL#[#]#{#urlFromPath#,#urlFromParent#}#)#,#enum2List#(#acl#.#getResources#(#TEST_RESOURCE#)#)#)#;#}