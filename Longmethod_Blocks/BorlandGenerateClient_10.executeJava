void#executeJava#(#)#throws#BuildException#{#try#{##if#(#version#==#BorlandDeploymentTool#.#BES#)#{#throw#new#BuildException#(#"java mode is supported only for "#+#"previous version <="#+#BorlandDeploymentTool#.#BAS#)#;#}##log#(#"mode : java"#)#;#Java#execTask#=#null#;#execTask#=#new#Java#(#this#)#;#execTask#.#setDir#(#new#File#(#"."#)#)#;#execTask#.#setClassname#(#"com.inprise.server.commandline.EJBUtilities"#)#;##//classpath##//add at the end of the classpath##//the system classpath in order to find the tools.jar file#execTask#.#setClasspath#(#classpath#.#concatSystemClasspath#(#)#)#;#execTask#.#setFork#(#true#)#;#execTask#.#createArg#(#)#.#setValue#(#"generateclient"#)#;##if#(#debug#)#{#execTask#.#createArg#(#)#.#setValue#(#"-trace"#)#;#}##execTask#.#createArg#(#)#.#setValue#(#"-short"#)#;#execTask#.#createArg#(#)#.#setValue#(#"-jarfile"#)#;##// ejb jar file#execTask#.#createArg#(#)#.#setValue#(#ejbjarfile#.#getAbsolutePath#(#)#)#;##//client jar file#execTask#.#createArg#(#)#.#setValue#(#"-single"#)#;#execTask#.#createArg#(#)#.#setValue#(#"-clientjarfile"#)#;#execTask#.#createArg#(#)#.#setValue#(#clientjarfile#.#getAbsolutePath#(#)#)#;#log#(#"Calling EJBUtilities"#,#Project#.#MSG_VERBOSE#)#;#execTask#.#execute#(#)#;#}##catch#(#Exception#e#)#{##// Have to catch this because of the semantics of calling main()#String#msg#=#"Exception while calling generateclient Details: "#+#e#.#toString#(#)#;#throw#new#BuildException#(#msg#,#e#)#;#}#}