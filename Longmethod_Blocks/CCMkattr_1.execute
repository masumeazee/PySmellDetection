void#execute#(#)#throws#BuildException#{#Commandline#commandLine#=#new#Commandline#(#)#;#Project#aProj#=#getProject#(#)#;#int#result#=#0#;##// Check for required attributes##if#(#getTypeName#(#)#==#null#)#{#throw#new#BuildException#(#"Required attribute TypeName not specified"#)#;#}##if#(#getTypeValue#(#)#==#null#)#{#throw#new#BuildException#(#"Required attribute TypeValue not specified"#)#;#}##// Default the viewpath to basedir if it is not specified##if#(#getViewPath#(#)#==#null#)#{#setViewPath#(#aProj#.#getBaseDir#(#)#.#getPath#(#)#)#;#}##// build the command line from what we got. the format is##// cleartool mkattr [options...] [viewpath ...]##// as specified in the CLEARTOOL help#commandLine#.#setExecutable#(#getClearToolCommand#(#)#)#;#commandLine#.#createArgument#(#)#.#setValue#(#COMMAND_MKATTR#)#;#checkOptions#(#commandLine#)#;##if#(#!#getFailOnErr#(#)#)#{#getProject#(#)#.#log#(#"Ignoring any errors that occur for: "#+#getViewPathBasename#(#)#,#Project#.#MSG_VERBOSE#)#;#}##// For debugging##// System.out.println(commandLine.toString());#result#=#run#(#commandLine#)#;##if#(#Execute#.#isFailure#(#result#)#&&#getFailOnErr#(#)#)#{#String#msg#=#"Failed executing: "#+#commandLine#.#toString#(#)#;#throw#new#BuildException#(#msg#,#getLocation#(#)#)#;#}#}