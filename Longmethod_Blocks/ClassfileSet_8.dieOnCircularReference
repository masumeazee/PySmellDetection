void#dieOnCircularReference#(#Stack#stk#,#Project#p#)#{##if#(#isChecked#(#)#)#{##return#;#}##// takes care of nested selectors#super#.#dieOnCircularReference#(#stk#,#p#)#;##if#(#!#isReference#(#)#)#{#for#(#Enumeration#e#=#rootFileSets#.#elements#(#)#;##e#.#hasMoreElements#(#)#;#)#{#FileSet#additionalRootSet#=#(#FileSet#)#e#.#nextElement#(#)#;#pushAndInvokeCircularReferenceCheck#(#additionalRootSet#,#stk#,#p#)#;#}##setChecked#(#true#)#;#}#}