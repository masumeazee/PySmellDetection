int#read#(#)#throws#IOException#{##if#(#eof#)#{##return#EOF#;#}##int#result#=#readCurrent#(#)#;##if#(#result#==#EOF#)#{#nextResource#(#)#;#result#=#readCurrent#(#)#;#}##return#result#;#}