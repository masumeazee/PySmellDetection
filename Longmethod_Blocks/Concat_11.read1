int#read#(#)#throws#IOException#{##if#(#needAddSeparator#)#{#int#ret#=#eolString#.#charAt#(#lastPos#++#)#;##if#(#lastPos#>=#eolString#.#length#(#)#)#{#lastPos#=#0#;#needAddSeparator#=#false#;#}##return#ret#;#}##while#(#getReader#(#)#!=#null#)#{#int#ch#=#getReader#(#)#.#read#(#)#;##if#(#ch#==#-#1#)#{#nextReader#(#)#;##if#(#isFixLastLine#(#)#&&#isMissingEndOfLine#(#)#)#{#needAddSeparator#=#true#;#lastPos#=#0#;#}#}#else#{#addLastChar#(#(#char#)#ch#)#;##return#ch#;#}#}##return#-#1#;#}