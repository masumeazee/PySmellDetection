InputStream#getInputStream#(#)#throws#IOException#{##if#(#binary#)#{#ConcatResourceInputStream#result#=#new#ConcatResourceInputStream#(#c#)#;#result#.#setManagingComponent#(#this#)#;##return#result#;#}##Reader#resourceReader#=#getFilteredReader#(#new#MultiReader#(#c#.#iterator#(#)#,#resourceReaderFactory#)#)#;#Reader#rdr#;##if#(#header#==#null#&&#footer#==#null#)#{#rdr#=#resourceReader#;#}#else#{#int#readerCount#=#1#;##if#(#header#!=#null#)#{#readerCount#++#;#}##if#(#footer#!=#null#)#{#readerCount#++#;#}##Reader#[#]#readers#=#new#Reader#[#readerCount#]#;#int#pos#=#0#;##if#(#header#!=#null#)#{#readers#[#pos#]#=#new#StringReader#(#header#.#getValue#(#)#)#;##if#(#header#.#getFiltering#(#)#)#{#readers#[#pos#]#=#getFilteredReader#(#readers#[#pos#]#)#;#}##pos#++#;#}##readers#[#pos#++#]#=#resourceReader#;##if#(#footer#!=#null#)#{#readers#[#pos#]#=#new#StringReader#(#footer#.#getValue#(#)#)#;##if#(#footer#.#getFiltering#(#)#)#{#readers#[#pos#]#=#getFilteredReader#(#readers#[#pos#]#)#;#}#}##rdr#=#new#MultiReader#(#Arrays#.#asList#(#readers#)#.#iterator#(#)#,#identityReaderFactory#)#;#}##return#outputEncoding#==#null#?#new#ReaderInputStream#(#rdr#)#:#new#ReaderInputStream#(#rdr#,#outputEncoding#)#;#}