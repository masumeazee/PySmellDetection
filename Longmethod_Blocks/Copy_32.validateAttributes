void#validateAttributes#(#)#throws#BuildException#{##if#(#file#==#null#&&#rcs#.#size#(#)#==#0#)#{#throw#new#BuildException#(#"Specify at least one source--a file or a resource collection."#)#;#}##if#(#destFile#!=#null#&&#destDir#!=#null#)#{#throw#new#BuildException#(#"Only one of tofile and todir may be set."#)#;#}##if#(#destFile#==#null#&&#destDir#==#null#)#{#throw#new#BuildException#(#"One of tofile or todir must be set."#)#;#}##if#(#file#!=#null#&&#file#.#isDirectory#(#)#)#{#throw#new#BuildException#(#"Use a resource collection to copy directories."#)#;#}##if#(#destFile#!=#null#&&#rcs#.#size#(#)#>#0#)#{##if#(#rcs#.#size#(#)#>#1#)#{#throw#new#BuildException#(#"Cannot concatenate multiple files into a single file."#)#;#}#else#{#ResourceCollection#rc#=#(#ResourceCollection#)#rcs#.#elementAt#(#0#)#;##if#(#!#rc#.#isFilesystemOnly#(#)#)#{#throw#new#BuildException#(#"Only FileSystem resources are"#+#" supported when concatenating"#+#" files."#)#;#}##if#(#rc#.#size#(#)#==#0#)#{#throw#new#BuildException#(#"Cannot perform operation from directory to file."#)#;#}#else##if#(#rc#.#size#(#)#==#1#)#{#Resource#res#=#(#Resource#)#rc#.#iterator#(#)#.#next#(#)#;#FileProvider#r#=#(#FileProvider#)#res#.#as#(#FileProvider#.#class#)#;##if#(#file#==#null#)#{#file#=#r#.#getFile#(#)#;#rcs#.#removeElementAt#(#0#)#;#}#else#{#throw#new#BuildException#(#"Cannot concatenate multiple files into a single file."#)#;#}#}#else#{#throw#new#BuildException#(#"Cannot concatenate multiple files into a single file."#)#;#}#}#}##if#(#destFile#!=#null#)#{#destDir#=#destFile#.#getParentFile#(#)#;#}#}