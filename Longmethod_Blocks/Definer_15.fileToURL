URL#fileToURL#(#)#{#String#message#=#null#;##if#(#!#(#file#.#exists#(#)#)#)#{#message#=#"File "#+#file#+#" does not exist"#;#}##if#(#message#==#null#&&#!#(#file#.#isFile#(#)#)#)#{#message#=#"File "#+#file#+#" is not a file"#;#}##if#(#message#==#null#)#{#try#{##return#FileUtils#.#getFileUtils#(#)#.#getFileURL#(#file#)#;#}##catch#(#Exception#ex#)#{#message#=#"File "#+#file#+#" cannot use as URL: "#+#ex#.#toString#(#)#;#}#}##// Here if there is an error#switch#(#onError#)#{#case#OnError#.#FAIL_ALL#:#throw#new#BuildException#(#message#)#;#case#OnError#.#FAIL#:##// Fall Through#case#OnError#.#REPORT#:#log#(#message#,#Project#.#MSG_WARN#)#;#break#;#case#OnError#.#IGNORE#:##// log at a lower level#log#(#message#,#Project#.#MSG_VERBOSE#)#;#break#;#default#:##// Ignore the problem#break#;#}##return#null#;#}