void#addClassFiles#(#Vector#classFileList#,#File#dir#,#File#root#)#{#String#[#]#filesInDir#=#dir#.#list#(#)#;##if#(#filesInDir#==#null#)#{##return#;#}##int#length#=#filesInDir#.#length#;#int#rootLength#=#root#.#getPath#(#)#.#length#(#)#;#File#sourceFileKnownToExist#=#null#;##// speed optimization#for#(#int#i#=#0#;##i#<#length#;#++#i#)#{#File#file#=#new#File#(#dir#,#filesInDir#[#i#]#)#;##if#(#filesInDir#[#i#]#.#endsWith#(#".class"#)#)#{#ClassFileInfo#info#=#new#ClassFileInfo#(#)#;#info#.#absoluteFile#=#file#;#String#relativeName#=#file#.#getPath#(#)#.#substring#(#rootLength#+#1#,#file#.#getPath#(#)#.#length#(#)#-#".class"#.#length#(#)#)#;#info#.#className#=#ClassFileUtils#.#convertSlashName#(#relativeName#)#;#info#.#sourceFile#=#sourceFileKnownToExist#=#findSourceFile#(#relativeName#,#sourceFileKnownToExist#)#;#classFileList#.#addElement#(#info#)#;#}#else#{#addClassFiles#(#classFileList#,#file#,#root#)#;#}#}#}