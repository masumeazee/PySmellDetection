void#execute#(#)#throws#BuildException#{#validateConfig#(#)#;##if#(#deploymentTools#.#size#(#)#==#0#)#{#GenericDeploymentTool#genericTool#=#new#GenericDeploymentTool#(#)#;#genericTool#.#setTask#(#this#)#;#genericTool#.#setDestdir#(#destDir#)#;#genericTool#.#setGenericJarSuffix#(#genericJarSuffix#)#;#deploymentTools#.#add#(#genericTool#)#;#}##for#(#Iterator#i#=#deploymentTools#.#iterator#(#)#;##i#.#hasNext#(#)#;#)#{#EJBDeploymentTool#tool#=#(#EJBDeploymentTool#)#i#.#next#(#)#;#tool#.#configure#(#config#)#;#tool#.#validateConfigured#(#)#;#}##try#{##// Create the parser using whatever parser the system dictates#SAXParserFactory#saxParserFactory#=#SAXParserFactory#.#newInstance#(#)#;#saxParserFactory#.#setValidating#(#true#)#;#SAXParser#saxParser#=#saxParserFactory#.#newSAXParser#(#)#;#DirectoryScanner#ds#=#getDirectoryScanner#(#config#.#descriptorDir#)#;#ds#.#scan#(#)#;#String#[#]#files#=#ds#.#getIncludedFiles#(#)#;#log#(#files#.#length#+#" deployment descriptors located."#,#Project#.#MSG_VERBOSE#)#;##// Loop through the files. Each file represents one deployment##// descriptor, and hence one bean in our model.#for#(#int#index#=#0#;##index#<#files#.#length#;#++#index#)#{##// process the deployment descriptor in each tool#for#(#Iterator#i#=#deploymentTools#.#iterator#(#)#;##i#.#hasNext#(#)#;#)#{#EJBDeploymentTool#tool#=#(#EJBDeploymentTool#)#i#.#next#(#)#;#tool#.#processDescriptor#(#files#[#index#]#,#saxParser#)#;#}#}#}##catch#(#SAXException#se#)#{#String#msg#=#"SAXException while creating parser."#+#"  Details: "#+#se#.#getMessage#(#)#;#throw#new#BuildException#(#msg#,#se#)#;#}##catch#(#ParserConfigurationException#pce#)#{#String#msg#=#"ParserConfigurationException while creating parser. "#+#"Details: "#+#pce#.#getMessage#(#)#;#throw#new#BuildException#(#msg#,#pce#)#;#}#}