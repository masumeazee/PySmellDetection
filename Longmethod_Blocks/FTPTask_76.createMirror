FTPTaskMirror#createMirror#(#FTPTask#task#,#ClassLoader#loader#)#{#try#{#loader#.#loadClass#(#"org.apache.commons.net.ftp.FTP"#)#;##// sanity check#}##catch#(#ClassNotFoundException#e#)#{#throw#new#BuildException#(#"The <classpath> for <ftp> must include"#+#" commons-net.jar if not in Ant's own "#+#" classpath"#,#e#,#task#.#getLocation#(#)#)#;#}##try#{#Class#c#=#loader#.#loadClass#(#FTPTaskMirror#.#class#.#getName#(#)#+#"Impl"#)#;##if#(#c#.#getClassLoader#(#)#!=#loader#)#{#throw#new#BuildException#(#"Overdelegating loader"#,#task#.#getLocation#(#)#)#;#}##Constructor#cons#=#c#.#getConstructor#(#new#Class#[#]#{#FTPTask#.#class#}#)#;##return#(#FTPTaskMirror#)#cons#.#newInstance#(#new#Object#[#]#{#task#}#)#;#}##catch#(#Exception#e#)#{#throw#new#BuildException#(#e#,#task#.#getLocation#(#)#)#;#}#}