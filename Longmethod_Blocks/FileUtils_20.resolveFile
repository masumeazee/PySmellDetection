File#resolveFile#(#File#file#,#String#filename#)#{##if#(#!#isAbsolutePath#(#filename#)#)#{#char#sep#=#File#.#separatorChar#;#filename#=#filename#.#replace#(#'/'#,#sep#)#.#replace#(#'\\'#,#sep#)#;##if#(#isContextRelativePath#(#filename#)#)#{#file#=#null#;##// on cygwin, our current directory can be a UNC;##// assume user.dir is absolute or all hell breaks loose...#String#udir#=#System#.#getProperty#(#"user.dir"#)#;##if#(#filename#.#charAt#(#0#)#==#sep#&&#udir#.#charAt#(#0#)#==#sep#)#{#filename#=#dissect#(#udir#)#[#0#]#+#filename#.#substring#(#1#)#;#}#}##filename#=#new#File#(#file#,#filename#)#.#getAbsolutePath#(#)#;#}##return#normalize#(#filename#)#;#}