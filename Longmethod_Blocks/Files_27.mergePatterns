PatternSet#mergePatterns#(#Project#p#)#{##if#(#isReference#(#)#)#{##return#getRef#(#)#.#mergePatterns#(#p#)#;#}##dieOnCircularReference#(#)#;#PatternSet#ps#=#new#PatternSet#(#)#;#ps#.#append#(#defaultPatterns#,#p#)#;#final#int#count#=#additionalPatterns#.#size#(#)#;##for#(#int#i#=#0#;##i#<#count#;#i#++#)#{#Object#o#=#additionalPatterns#.#elementAt#(#i#)#;#ps#.#append#(#(#PatternSet#)#o#,#p#)#;#}##return#ps#;#}