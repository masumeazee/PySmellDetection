MethodAndObject#createRestricted#(#ComponentHelper#helper#,#String#elementName#,#List#addTypeMethods#)#{#Project#project#=#helper#.#getProject#(#)#;#AntTypeDefinition#restrictedDefinition#=#findRestrictedDefinition#(#helper#,#elementName#,#addTypeMethods#)#;##if#(#restrictedDefinition#==#null#)#{##return#null#;#}##Method#addMethod#=#findMatchingMethod#(#restrictedDefinition#.#getExposedClass#(#project#)#,#addTypeMethods#)#;##if#(#addMethod#==#null#)#{#throw#new#BuildException#(#"Ant Internal Error - contract mismatch for "#+#elementName#)#;#}##Object#addedObject#=#restrictedDefinition#.#create#(#project#)#;##if#(#addedObject#==#null#)#{#throw#new#BuildException#(#"Failed to create object "#+#elementName#+#" of type "#+#restrictedDefinition#.#getTypeClass#(#project#)#)#;#}##return#new#MethodAndObject#(#addMethod#,#addedObject#)#;#}