String#createOutputFileName#(#File#destFile#,#String#optionalOutputFile#,#String#outputDir#)#{#optionalOutputFile#=#validateOutputFile#(#optionalOutputFile#,#outputDir#)#;#String#jjtreeFile#=#destFile#.#getAbsolutePath#(#)#.#replace#(#'\\'#,#'/'#)#;##if#(#(#optionalOutputFile#==#null#)#||#optionalOutputFile#.#equals#(#""#)#)#{#int#filePos#=#jjtreeFile#.#lastIndexOf#(#"/"#)#;##if#(#filePos#>=#0#)#{#jjtreeFile#=#jjtreeFile#.#substring#(#filePos#+#1#)#;#}##int#suffixPos#=#jjtreeFile#.#lastIndexOf#(#'.'#)#;##if#(#suffixPos#==#-#1#)#{#optionalOutputFile#=#jjtreeFile#+#DEFAULT_SUFFIX#;#}#else#{#String#currentSuffix#=#jjtreeFile#.#substring#(#suffixPos#)#;##if#(#currentSuffix#.#equals#(#DEFAULT_SUFFIX#)#)#{#optionalOutputFile#=#jjtreeFile#+#DEFAULT_SUFFIX#;#}#else#{#optionalOutputFile#=#jjtreeFile#.#substring#(#0#,#suffixPos#)#+#DEFAULT_SUFFIX#;#}#}#}##if#(#(#outputDir#==#null#)#||#outputDir#.#equals#(#""#)#)#{#outputDir#=#getDefaultOutputDirectory#(#)#;#}##return#(#outputDir#+#"/"#+#optionalOutputFile#)#.#replace#(#'\\'#,#'/'#)#;#}