void#createClassLoader#(#)#{#Path#userClasspath#=#getCommandline#(#)#.#getClasspath#(#)#;##if#(#userClasspath#!=#null#)#{##if#(#reloading#||#classLoader#==#null#)#{#deleteClassLoader#(#)#;#Path#classpath#=#(#Path#)#userClasspath#.#clone#(#)#;##if#(#includeAntRuntime#)#{#log#(#"Implicitly adding "#+#antRuntimeClasses#+#" to CLASSPATH"#,#Project#.#MSG_VERBOSE#)#;#classpath#.#append#(#antRuntimeClasses#)#;#}##classLoader#=#getProject#(#)#.#createClassLoader#(#classpath#)#;##if#(#getClass#(#)#.#getClassLoader#(#)#!=#null#&&#getClass#(#)#.#getClassLoader#(#)#!=#Project#.#class#.#getClassLoader#(#)#)#{#classLoader#.#setParent#(#getClass#(#)#.#getClassLoader#(#)#)#;#}##classLoader#.#setParentFirst#(#false#)#;#classLoader#.#addJavaLibraries#(#)#;#log#(#"Using CLASSPATH "#+#classLoader#.#getClasspath#(#)#,#Project#.#MSG_VERBOSE#)#;##// make sure the test will be accepted as a TestCase#classLoader#.#addSystemPackageRoot#(#"junit"#)#;##// make sure the test annotation are accepted#classLoader#.#addSystemPackageRoot#(#"org.junit"#)#;##// will cause trouble in JDK 1.1 if omitted#classLoader#.#addSystemPackageRoot#(#"org.apache.tools.ant"#)#;#}#}#}