void#actOnTestResult#(#TestResultHolder#result#,#JUnitTest#test#,#String#name#)#{##// if there is an error/failure and that it should halt, stop##// everything otherwise just log a statement#boolean#fatal#=#result#.#timedOut#||#result#.#crashed#;#boolean#errorOccurredHere#=#result#.#exitCode#==#JUnitTaskMirror#.#JUnitTestRunnerMirror#.#ERRORS#||#fatal#;#boolean#failureOccurredHere#=#result#.#exitCode#!=#JUnitTaskMirror#.#JUnitTestRunnerMirror#.#SUCCESS#||#fatal#;##if#(#errorOccurredHere#||#failureOccurredHere#)#{##if#(#(#errorOccurredHere#&&#test#.#getHaltonerror#(#)#)#||#(#failureOccurredHere#&&#test#.#getHaltonfailure#(#)#)#)#{#throw#new#BuildException#(#name#+#" failed"#+#(#result#.#timedOut#?#" (timeout)"#:#""#)#+#(#result#.#crashed#?#" (crashed)"#:#""#)#,#getLocation#(#)#)#;#}#else#{##if#(#logFailedTests#)#{#log#(#name#+#" FAILED"#+#(#result#.#timedOut#?#" (timeout)"#:#""#)#+#(#result#.#crashed#?#" (crashed)"#:#""#)#,#Project#.#MSG_ERR#)#;#}##if#(#errorOccurredHere#&&#test#.#getErrorProperty#(#)#!=#null#)#{#getProject#(#)#.#setNewProperty#(#test#.#getErrorProperty#(#)#,#"true"#)#;#}##if#(#failureOccurredHere#&&#test#.#getFailureProperty#(#)#!=#null#)#{#getProject#(#)#.#setNewProperty#(#test#.#getFailureProperty#(#)#,#"true"#)#;#}#}#}#}