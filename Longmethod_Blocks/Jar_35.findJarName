String#findJarName#(#String#fileName#,#String#[#]#classpath#)#{##if#(#classpath#==#null#)#{##return#(#new#File#(#fileName#)#)#.#getName#(#)#;#}##fileName#=#fileName#.#replace#(#File#.#separatorChar#,#'/'#)#;#TreeMap#matches#=#new#TreeMap#(#new#Comparator#(#)#{##// longest match comes first#public#int#compare#(#Object#o1#,#Object#o2#)#{##if#(#o1#instanceof#String#&&#o2#instanceof#String#)#{##return#(#(#String#)#o2#)#.#length#(#)#-#(#(#String#)#o1#)#.#length#(#)#;#}##return#0#;#}#}#)#;##for#(#int#i#=#0#;##i#<#classpath#.#length#;#i#++#)#{##if#(#fileName#.#endsWith#(#classpath#[#i#]#)#)#{#matches#.#put#(#classpath#[#i#]#,#classpath#[#i#]#)#;#}#else#{#int#slash#=#classpath#[#i#]#.#indexOf#(#"/"#)#;#String#candidate#=#classpath#[#i#]#;##while#(#slash#>#-#1#)#{#candidate#=#candidate#.#substring#(#slash#+#1#)#;##if#(#fileName#.#endsWith#(#candidate#)#)#{#matches#.#put#(#candidate#,#classpath#[#i#]#)#;#break#;#}##slash#=#candidate#.#indexOf#(#"/"#)#;#}#}#}##return#matches#.#size#(#)#==#0#?#null#:#(#String#)#matches#.#get#(#matches#.#firstKey#(#)#)#;#}