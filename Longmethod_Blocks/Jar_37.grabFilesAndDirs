void#grabFilesAndDirs#(#String#file#,#List#dirs#,#List#files#)#throws#IOException#{#org#.#apache#.#tools#.#zip#.#ZipFile#zf#=#null#;##try#{#zf#=#new#org#.#apache#.#tools#.#zip#.#ZipFile#(#file#,#"utf-8"#)#;#Enumeration#entries#=#zf#.#getEntries#(#)#;#HashSet#dirSet#=#new#HashSet#(#)#;##while#(#entries#.#hasMoreElements#(#)#)#{#org#.#apache#.#tools#.#zip#.#ZipEntry#ze#=#(#org#.#apache#.#tools#.#zip#.#ZipEntry#)#entries#.#nextElement#(#)#;#String#name#=#ze#.#getName#(#)#;##if#(#ze#.#isDirectory#(#)#)#{#dirSet#.#add#(#name#)#;#}#else##if#(#name#.#indexOf#(#"/"#)#==#-#1#)#{#files#.#add#(#name#)#;#}#else#{##// a file, not in the root##// since the jar may be one without directory##// entries, add the parent dir of this file as##// well.#dirSet#.#add#(#name#.#substring#(#0#,#name#.#lastIndexOf#(#"/"#)#+#1#)#)#;#}#}##dirs#.#addAll#(#dirSet#)#;#}##finally#{##if#(#zf#!=#null#)#{#zf#.#close#(#)#;#}#}#}