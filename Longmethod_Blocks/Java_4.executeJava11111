int#executeJava#(#CommandlineJava#commandLine#)#{#try#{##if#(#fork#)#{##if#(#!#spawn#)#{##return#fork#(#commandLine#.#getCommandline#(#)#)#;#}#else#{#spawn#(#commandLine#.#getCommandline#(#)#)#;##return#0#;#}#}#else#{#try#{#run#(#commandLine#)#;##return#0#;#}##catch#(#ExitException#ex#)#{##return#ex#.#getStatus#(#)#;#}#}#}##catch#(#BuildException#e#)#{##if#(#e#.#getLocation#(#)#==#null#&&#getLocation#(#)#!=#null#)#{#e#.#setLocation#(#getLocation#(#)#)#;#}##if#(#failOnError#)#{#throw#e#;#}#else#{##if#(#TIMEOUT_MESSAGE#.#equals#(#e#.#getMessage#(#)#)#)#{#log#(#TIMEOUT_MESSAGE#)#;#}#else#{#log#(#e#)#;#}##return#-#1#;#}#}##catch#(#ThreadDeath#t#)#{#throw#t#;##// cf. NB #47191#}##catch#(#Throwable#t#)#{##if#(#failOnError#)#{#throw#new#BuildException#(#t#,#getLocation#(#)#)#;#}#else#{#log#(#t#)#;##return#-#1#;#}#}#}