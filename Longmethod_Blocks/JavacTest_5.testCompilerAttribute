void#testCompilerAttribute#(#)#{##// check defaults#String#compiler#=#javac#.#getCompiler#(#)#;#assertNotNull#(#compiler#)#;##if#(#System#.#getProperty#(#"build.compiler"#)#!=#null#)#{#assertEquals#(#System#.#getProperty#(#"build.compiler"#)#,#compiler#)#;#}#else#{#assertTrue#(#"default value"#,#"javac1.1"#.#equals#(#compiler#)#||#"javac1.2"#.#equals#(#compiler#)#||#"javac1.3"#.#equals#(#compiler#)#||#"javac1.4"#.#equals#(#compiler#)#||#"javac1.5"#.#equals#(#compiler#)#||#"classic"#.#equals#(#compiler#)#)#;#}##javac#.#setFork#(#true#)#;#assertNotNull#(#javac#.#getCompiler#(#)#)#;#assertEquals#(#"extJavac"#,#javac#.#getCompiler#(#)#)#;#assertEquals#(#compiler#,#javac#.#getCompilerVersion#(#)#)#;##// check build.compiler provides defaults#javac#=#new#Javac#(#)#;#javac#.#setProject#(#project#)#;##// setUserProperty to override system properties#project#.#setUserProperty#(#"build.compiler"#,#"jikes"#)#;#compiler#=#javac#.#getCompiler#(#)#;#assertNotNull#(#compiler#)#;#assertEquals#(#"jikes"#,#compiler#)#;#javac#.#setFork#(#true#)#;#compiler#=#javac#.#getCompiler#(#)#;#assertNotNull#(#compiler#)#;#assertEquals#(#"jikes"#,#compiler#)#;##// check attribute overrides build.compiler#javac#.#setFork#(#false#)#;#javac#.#setCompiler#(#"jvc"#)#;#compiler#=#javac#.#getCompiler#(#)#;#assertNotNull#(#compiler#)#;#assertEquals#(#"jvc"#,#compiler#)#;#javac#.#setFork#(#true#)#;#compiler#=#javac#.#getCompiler#(#)#;#assertNotNull#(#compiler#)#;#assertEquals#(#"jvc"#,#compiler#)#;#}