void#doSourceAndPackageNames#(#Commandline#toExecute#,#Vector#packagesToDoc#,#Vector#sourceFilesToDoc#,#boolean#useExternalFile#,#File#tmpList#,#BufferedWriter#srcListWriter#)#throws#IOException#{#Enumeration#e#=#packagesToDoc#.#elements#(#)#;##while#(#e#.#hasMoreElements#(#)#)#{#String#packageName#=#(#String#)#e#.#nextElement#(#)#;##if#(#useExternalFile#)#{#srcListWriter#.#write#(#packageName#)#;#srcListWriter#.#newLine#(#)#;#}#else#{#toExecute#.#createArgument#(#)#.#setValue#(#packageName#)#;#}#}##e#=#sourceFilesToDoc#.#elements#(#)#;##while#(#e#.#hasMoreElements#(#)#)#{#SourceFile#sf#=#(#SourceFile#)#e#.#nextElement#(#)#;#String#sourceFileName#=#sf#.#getFile#(#)#.#getAbsolutePath#(#)#;##if#(#useExternalFile#)#{##// XXX what is the following doing?##//     should it run if !javadoc4 && executable != null?##if#(#sourceFileName#.#indexOf#(#" "#)#>#-#1#)#{#String#name#=#sourceFileName#;##if#(#File#.#separatorChar#==#'\\'#)#{#name#=#sourceFileName#.#replace#(#File#.#separatorChar#,#'/'#)#;#}##srcListWriter#.#write#(#"\""#+#name#+#"\""#)#;#}#else#{#srcListWriter#.#write#(#sourceFileName#)#;#}##srcListWriter#.#newLine#(#)#;#}#else#{#toExecute#.#createArgument#(#)#.#setValue#(#sourceFileName#)#;#}#}#}