String#getJarBaseName#(#String#descriptorFileName#)#{#String#baseName#=#null#;##if#(#getConfig#(#)#.#namingScheme#.#getValue#(#)#.#equals#(#EjbJar#.#NamingScheme#.#DESCRIPTOR#)#)#{##// try to find JOnAS specific convention name##if#(#descriptorFileName#.#indexOf#(#getConfig#(#)#.#baseNameTerminator#)#==#-#1#)#{##// baseNameTerminator not found: the descriptor use the##// JOnAS naming convention, ie [Foo.xml,jonas-Foo.xml] and##// not [Foo<baseNameTerminator>-ejb-jar.xml,##// Foo<baseNameTerminator>-jonas-ejb-jar.xml].#String#aCanonicalDescriptor#=#descriptorFileName#.#replace#(#'\\'#,#'/'#)#;#int#lastSeparatorIndex#=#aCanonicalDescriptor#.#lastIndexOf#(#'/'#)#;#int#endOfBaseName#;##if#(#lastSeparatorIndex#!=#-#1#)#{#endOfBaseName#=#descriptorFileName#.#indexOf#(#".xml"#,#lastSeparatorIndex#)#;#}#else#{#endOfBaseName#=#descriptorFileName#.#indexOf#(#".xml"#)#;#}##if#(#endOfBaseName#!=#-#1#)#{#baseName#=#descriptorFileName#.#substring#(#0#,#endOfBaseName#)#;#}#}#}##if#(#baseName#==#null#)#{##// else get standard baseName#baseName#=#super#.#getJarBaseName#(#descriptorFileName#)#;#}##log#(#"JAR base name: "#+#baseName#,#Project#.#MSG_VERBOSE#)#;##return#baseName#;#}