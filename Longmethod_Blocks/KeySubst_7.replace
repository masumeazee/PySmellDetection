String#replace#(#String#origString#,#Hashtable#keys#)#throws#BuildException#{#StringBuffer#finalString#=#new#StringBuffer#(#)#;#int#index#=#0#;#int#i#=#0#;#String#key#=#null#;##// CheckStyle:MagicNumber OFF#while#(#(#index#=#origString#.#indexOf#(#"${"#,#i#)#)#>#-#1#)#{#key#=#origString#.#substring#(#index#+#2#,#origString#.#indexOf#(#"}"#,#index#+#3#)#)#;#finalString#.#append#(#origString#.#substring#(#i#,#index#)#)#;##if#(#keys#.#containsKey#(#key#)#)#{#finalString#.#append#(#keys#.#get#(#key#)#)#;#}#else#{#finalString#.#append#(#"${"#)#;#finalString#.#append#(#key#)#;#finalString#.#append#(#"}"#)#;#}##i#=#index#+#3#+#key#.#length#(#)#;#}##// CheckStyle:MagicNumber ON#finalString#.#append#(#origString#.#substring#(#i#)#)#;##return#finalString#.#toString#(#)#;#}