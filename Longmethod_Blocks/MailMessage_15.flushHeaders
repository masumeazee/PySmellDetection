void#flushHeaders#(#)#throws#IOException#{##// RFC 822 s4.1:##//   "Header fields are NOT required to occur in any particular order,##//    except that the message body MUST occur AFTER the headers"##// (the same section specifies a reccommended order, which we ignore)#for#(#int#i#=#0#;##i#<#headersKeys#.#size#(#)#;#i#++#)#{#String#name#=#(#String#)#headersKeys#.#elementAt#(#i#)#;#String#value#=#(#String#)#headersValues#.#elementAt#(#i#)#;#out#.#println#(#name#+#": "#+#value#)#;#}##out#.#println#(#)#;#out#.#flush#(#)#;#}