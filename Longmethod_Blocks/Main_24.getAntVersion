String#getAntVersion#(#)#throws#BuildException#{##if#(#antVersion#==#null#)#{#try#{#Properties#props#=#new#Properties#(#)#;#InputStream#in#=#Main#.#class#.#getResourceAsStream#(#"/org/apache/tools/ant/version.txt"#)#;#props#.#load#(#in#)#;#in#.#close#(#)#;#StringBuffer#msg#=#new#StringBuffer#(#)#;#msg#.#append#(#"Apache Ant version "#)#;#msg#.#append#(#props#.#getProperty#(#"VERSION"#)#)#;#msg#.#append#(#" compiled on "#)#;#msg#.#append#(#props#.#getProperty#(#"DATE"#)#)#;#antVersion#=#msg#.#toString#(#)#;#}##catch#(#IOException#ioe#)#{#throw#new#BuildException#(#"Could not load the version information:"#+#ioe#.#getMessage#(#)#)#;#}##catch#(#NullPointerException#npe#)#{#throw#new#BuildException#(#"Could not load the version information."#)#;#}#}##return#antVersion#;#}