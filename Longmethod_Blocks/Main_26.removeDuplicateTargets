Map#removeDuplicateTargets#(#Map#targets#)#{#Map#locationMap#=#new#HashMap#(#)#;##for#(#Iterator#i#=#targets#.#entrySet#(#)#.#iterator#(#)#;##i#.#hasNext#(#)#;#)#{#Map#.#Entry#entry#=#(#Map#.#Entry#)#i#.#next#(#)#;#String#name#=#(#String#)#entry#.#getKey#(#)#;#Target#target#=#(#Target#)#entry#.#getValue#(#)#;#Target#otherTarget#=#(#Target#)#locationMap#.#get#(#target#.#getLocation#(#)#)#;##// Place this entry in the location map if##//  a) location is not in the map##//  b) location is in map, but it's name is longer##//     (an imported target will have a name. prefix)##if#(#otherTarget#==#null#||#otherTarget#.#getName#(#)#.#length#(#)#>#name#.#length#(#)#)#{#locationMap#.#put#(#target#.#getLocation#(#)#,#target#)#;##// Smallest name wins#}#}##Map#ret#=#new#HashMap#(#)#;##for#(#Iterator#i#=#locationMap#.#values#(#)#.#iterator#(#)#;##i#.#hasNext#(#)#;#)#{#Target#target#=#(#Target#)#i#.#next#(#)#;#ret#.#put#(#target#.#getName#(#)#,#target#)#;#}##return#ret#;#}