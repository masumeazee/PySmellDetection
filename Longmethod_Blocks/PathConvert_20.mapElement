String#mapElement#(#String#elem#)#{#int#size#=#prefixMap#.#size#(#)#;##if#(#size#!=#0#)#{##// Iterate over the map entries and apply each one.##// Stop when one of the entries actually changes the element.#for#(#int#i#=#0#;##i#<#size#;#i#++#)#{#MapEntry#entry#=#(#MapEntry#)#prefixMap#.#elementAt#(#i#)#;#String#newElem#=#entry#.#apply#(#elem#)#;##// Note I'm using "!=" to see if we got a new object back from##// the apply method.##if#(#newElem#!=#elem#)#{#elem#=#newElem#;#break#;##// We applied one, so we're done#}#}#}##return#elem#;#}