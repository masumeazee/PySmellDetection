void#endTestSuite#(#JUnitTest#suite#)#throws#BuildException#{#StringBuffer#sb#=#new#StringBuffer#(#"Tests run: "#)#;#sb#.#append#(#suite#.#runCount#(#)#)#;#sb#.#append#(#", Failures: "#)#;#sb#.#append#(#suite#.#failureCount#(#)#)#;#sb#.#append#(#", Errors: "#)#;#sb#.#append#(#suite#.#errorCount#(#)#)#;#sb#.#append#(#", Time elapsed: "#)#;#sb#.#append#(#nf#.#format#(#suite#.#getRunTime#(#)#/#ONE_SECOND#)#)#;#sb#.#append#(#" sec"#)#;#sb#.#append#(#StringUtils#.#LINE_SEP#)#;##// append the err and output streams to the log##if#(#systemOutput#!=#null#&&#systemOutput#.#length#(#)#>#0#)#{#sb#.#append#(#"------------- Standard Output ---------------"#)#.#append#(#StringUtils#.#LINE_SEP#)#.#append#(#systemOutput#)#.#append#(#"------------- ---------------- ---------------"#)#.#append#(#StringUtils#.#LINE_SEP#)#;#}##if#(#systemError#!=#null#&&#systemError#.#length#(#)#>#0#)#{#sb#.#append#(#"------------- Standard Error -----------------"#)#.#append#(#StringUtils#.#LINE_SEP#)#.#append#(#systemError#)#.#append#(#"------------- ---------------- ---------------"#)#.#append#(#StringUtils#.#LINE_SEP#)#;#}##sb#.#append#(#StringUtils#.#LINE_SEP#)#;##if#(#out#!=#null#)#{#try#{#out#.#write#(#sb#.#toString#(#)#.#getBytes#(#)#)#;#wri#.#close#(#)#;#out#.#write#(#inner#.#toString#(#)#.#getBytes#(#)#)#;#out#.#flush#(#)#;#}##catch#(#IOException#ioex#)#{#throw#new#BuildException#(#"Unable to write output"#,#ioex#)#;#}##finally#{##if#(#out#!=#System#.#out#&&#out#!=#System#.#err#)#{#FileUtils#.#close#(#out#)#;#}#}#}#}