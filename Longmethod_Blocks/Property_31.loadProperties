void#loadProperties#(#Properties#props#,#InputStream#is#,#boolean#isXml#)#throws#IOException#{##if#(#isXml#)#{##// load the xml based property definition##// use reflection because of bwc to Java 1.3#try#{#Method#loadXmlMethod#=#props#.#getClass#(#)#.#getMethod#(#"loadFromXML"#,#new#Class#[#]#{#InputStream#.#class#}#)#;#loadXmlMethod#.#invoke#(#props#,#new#Object#[#]#{#is#}#)#;#}##catch#(#NoSuchMethodException#e#)#{#e#.#printStackTrace#(#)#;#log#(#"Can not load xml based property definition on Java < 5"#)#;#}##catch#(#Exception#e#)#{##// no-op#e#.#printStackTrace#(#)#;#}#}#else#{##// load ".properties" format#props#.#load#(#is#)#;#}#}