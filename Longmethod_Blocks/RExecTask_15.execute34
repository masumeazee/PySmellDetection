void#execute#(#)#throws#BuildException#{##/**  A server name is required to continue */##if#(#server#==#null#)#{#throw#new#BuildException#(#"No Server Specified"#)#;#}##/**  A userid and password must appear together
         *   if they appear.  They are not required.
         */##if#(#userid#==#null#&&#password#!=#null#)#{#throw#new#BuildException#(#"No Userid Specified"#)#;#}##if#(#password#==#null#&&#userid#!=#null#)#{#throw#new#BuildException#(#"No Password Specified"#)#;#}##/**  Create the telnet client object */#AntRExecClient#rexec#=#null#;##try#{#rexec#=#new#AntRExecClient#(#)#;##try#{#rexec#.#connect#(#server#,#port#)#;#}##catch#(#IOException#e#)#{#throw#new#BuildException#(#"Can't connect to "#+#server#)#;#}##if#(#userid#!=#null#&&#password#!=#null#&&#command#!=#null#&&#rexecTasks#.#size#(#)#==#0#)#{##// simple one-shot execution#rexec#.#rexec#(#userid#,#password#,#command#)#;#}#else#{##// need nested read/write elements#handleMultipleTasks#(#rexec#)#;#}##/** Keep reading input stream until end of it or time-out */#rexec#.#waitForEOF#(#defaultTimeout#)#;#}##catch#(#IOException#e#)#{#throw#new#BuildException#(#"Error r-executing command"#,#e#)#;#}##finally#{##if#(#rexec#!=#null#&&#rexec#.#isConnected#(#)#)#{#try#{#rexec#.#disconnect#(#)#;#}##catch#(#IOException#e#)#{#throw#new#BuildException#(#"Error disconnecting from "#+#server#)#;#}#}#}#}