void#errorStreams#(#)#{##if#(#error#!=#null#&&#error#.#length#>#0#)#{#String#logHead#=#new#StringBuffer#(#"Error "#)#.#append#(#(#(#appendErr#)#?#"appended"#:#"redirected"#)#)#.#append#(#" to "#)#.#toString#(#)#;#errorStream#=#foldFiles#(#error#,#logHead#,#Project#.#MSG_VERBOSE#,#appendErr#,#createEmptyFilesErr#)#;#}#else##if#(#!#(#logError#||#outputStream#==#null#)#)#{#long#funnelTimeout#=#0L#;#OutputStreamFunneler#funneler#=#new#OutputStreamFunneler#(#outputStream#,#funnelTimeout#)#;##try#{#outputStream#=#funneler#.#getFunnelInstance#(#)#;#errorStream#=#funneler#.#getFunnelInstance#(#)#;#}##catch#(#IOException#eyeOhEx#)#{#throw#new#BuildException#(#"error splitting output/error streams"#,#eyeOhEx#)#;#}#}##if#(#errorProperty#!=#null#)#{##if#(#errorBaos#==#null#)#{#errorBaos#=#new#PropertyOutputStream#(#errorProperty#)#;#managingTask#.#log#(#"Error redirected to property: "#+#errorProperty#,#Project#.#MSG_VERBOSE#)#;#}##// shield it from being closed by a filtering StreamPumper#OutputStream#keepAliveError#=#new#KeepAliveOutputStream#(#errorBaos#)#;#errorStream#=#(#error#==#null#||#error#.#length#==#0#)#?#keepAliveError#:#new#TeeOutputStream#(#errorStream#,#keepAliveError#)#;#}#else#{#errorBaos#=#null#;#}#}