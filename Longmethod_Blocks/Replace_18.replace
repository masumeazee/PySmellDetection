int#replace#(#)#{#String#t#=#getToken#(#)#;#int#found#=#inputBuffer#.#indexOf#(#t#)#;#int#pos#=#-#1#;#final#int#tokenLength#=#t#.#length#(#)#;#final#int#replaceValueLength#=#replaceValue#.#length#(#)#;##while#(#found#>=#0#)#{#inputBuffer#.#replace#(#found#,#found#+#tokenLength#,#replaceValue#)#;#pos#=#found#+#replaceValueLength#;#found#=#inputBuffer#.#indexOf#(#t#,#pos#)#;#++#replaceCount#;#}##return#pos#;#}