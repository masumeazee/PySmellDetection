void#resolveRefid#(#)#{#try#{##if#(#getProject#(#)#==#null#)#{#throw#new#BuildException#(#"Cannot retrieve refid; project unset"#)#;#}##Object#o#=#getProject#(#)#.#getReference#(#refid#)#;##if#(#!#(#o#instanceof#Resource#)#)#{##if#(#o#instanceof#ResourceCollection#)#{#ResourceCollection#rc#=#(#ResourceCollection#)#o#;##if#(#rc#.#size#(#)#==#1#)#{#o#=#rc#.#iterator#(#)#.#next#(#)#;#}#}#else#{#throw#new#BuildException#(#"Illegal value at '"#+#refid#+#"': "#+#String#.#valueOf#(#o#)#)#;#}#}##this#.#resource#=#(#Resource#)#o#;#}##finally#{#refid#=#null#;#}#}