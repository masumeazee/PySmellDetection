void#upload#(#String#fromPath#,#String#toSshUri#)#throws#IOException#,#JSchException#{#String#file#=#parseUri#(#toSshUri#)#;#Session#session#=#null#;##try#{#session#=#openSession#(#)#;#ScpToMessage#message#=#null#;##if#(#!#isSftp#)#{#message#=#new#ScpToMessage#(#getVerbose#(#)#,#session#,#getProject#(#)#.#resolveFile#(#fromPath#)#,#file#)#;#}#else#{#message#=#new#ScpToMessageBySftp#(#getVerbose#(#)#,#session#,#getProject#(#)#.#resolveFile#(#fromPath#)#,#file#)#;#}##message#.#setLogListener#(#this#)#;#message#.#execute#(#)#;#}##finally#{##if#(#session#!=#null#)#{#session#.#disconnect#(#)#;#}#}#}