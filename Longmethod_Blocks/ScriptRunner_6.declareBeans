void#declareBeans#(#BSFManager#m#)#throws#BSFException#{#for#(#Iterator#i#=#getBeans#(#)#.#keySet#(#)#.#iterator#(#)#;##i#.#hasNext#(#)#;#)#{#String#key#=#(#String#)#i#.#next#(#)#;#Object#value#=#getBeans#(#)#.#get#(#key#)#;##if#(#value#!=#null#)#{#m#.#declareBean#(#key#,#value#,#value#.#getClass#(#)#)#;#}#else#{##// BSF uses a hashtable to store values##// so cannot declareBean with a null value##// So need to remove any bean of this name as##// that bean should not be visible#m#.#undeclareBean#(#key#)#;#}#}#}