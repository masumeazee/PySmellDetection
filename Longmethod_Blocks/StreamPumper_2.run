void#run#(#)#{#synchronized#(#this#)#{#started#=#true#;#}##finished#=#false#;#finish#=#false#;#final#byte#[#]#buf#=#new#byte#[#bufferSize#]#;#int#length#;##try#{#while#(#true#)#{#waitForInput#(#is#)#;##if#(#finish#||#Thread#.#interrupted#(#)#)#{#break#;#}##length#=#is#.#read#(#buf#)#;##if#(#length#<=#0#||#finish#||#Thread#.#interrupted#(#)#)#{#break#;#}##os#.#write#(#buf#,#0#,#length#)#;##if#(#autoflush#)#{#os#.#flush#(#)#;#}#}##os#.#flush#(#)#;#}##catch#(#InterruptedException#ie#)#{##// likely PumpStreamHandler trying to stop us#}##catch#(#Exception#e#)#{#synchronized#(#this#)#{#exception#=#e#;#}#}##finally#{##if#(#closeWhenExhausted#)#{#FileUtils#.#close#(#os#)#;#}##finished#=#true#;##synchronized#(#this#)#{#notifyAll#(#)#;#}#}#}