void#doLink#(#String#res#,#String#lnk#)#throws#BuildException#{#File#linkfil#=#new#File#(#lnk#)#;#String#options#=#"-s"#;##if#(#overwrite#)#{#options#+=#"f"#;##if#(#linkfil#.#exists#(#)#)#{#try#{#SYMLINK_UTILS#.#deleteSymbolicLink#(#linkfil#,#this#)#;#}##catch#(#FileNotFoundException#fnfe#)#{#log#(#"Symlink disappeared before it was deleted: "#+#lnk#)#;#}##catch#(#IOException#ioe#)#{#log#(#"Unable to overwrite preexisting link or file: "#+#lnk#,#ioe#,#Project#.#MSG_INFO#)#;#}#}#}##String#[#]#cmd#=#new#String#[#]#{#"ln"#,#options#,#res#,#lnk#}#;##try#{#Execute#.#runCommand#(#this#,#cmd#)#;#}##catch#(#BuildException#failedToExecute#)#{##if#(#failonerror#)#{#throw#failedToExecute#;#}#else#{##//log at the info level, and keep going.#log#(#failedToExecute#.#getMessage#(#)#,#failedToExecute#,#Project#.#MSG_INFO#)#;#}#}#}