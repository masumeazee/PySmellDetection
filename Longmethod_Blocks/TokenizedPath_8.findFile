File#findFile#(#File#base#,#final#String#[#]#pathElements#,#final#boolean#cs#)#{#for#(#int#current#=#0#;##current#<#pathElements#.#length#;#current#++#)#{##if#(#!#base#.#isDirectory#(#)#)#{##return#null#;#}##String#[#]#files#=#base#.#list#(#)#;##if#(#files#==#null#)#{#throw#new#BuildException#(#"IO error scanning directory "#+#base#.#getAbsolutePath#(#)#)#;#}##boolean#found#=#false#;#boolean#[#]#matchCase#=#cs#?#CS_SCAN_ONLY#:#CS_THEN_NON_CS#;##for#(#int#i#=#0#;##!#found#&&#i#<#matchCase#.#length#;#i#++#)#{#for#(#int#j#=#0#;##!#found#&&#j#<#files#.#length#;#j#++#)#{##if#(#matchCase#[#i#]#?#files#[#j#]#.#equals#(#pathElements#[#current#]#)#:#files#[#j#]#.#equalsIgnoreCase#(#pathElements#[#current#]#)#)#{#base#=#new#File#(#base#,#files#[#j#]#)#;#found#=#true#;#}#}#}##if#(#!#found#)#{##return#null#;#}#}##return#pathElements#.#length#==#0#&&#!#base#.#isDirectory#(#)#?#null#:#base#;#}