void#createTransformer#(#)#throws#Exception#{##if#(#templates#==#null#)#{#readTemplates#(#)#;#}##transformer#=#templates#.#newTransformer#(#)#;##// configure the transformer...#transformer#.#setErrorListener#(#this#)#;##if#(#uriResolver#!=#null#)#{#transformer#.#setURIResolver#(#uriResolver#)#;#}##for#(#int#i#=#0#;##i#<#outputProperties#.#size#(#)#;#i#++#)#{#final#String#[#]#pair#=#(#String#[#]#)#outputProperties#.#elementAt#(#i#)#;#transformer#.#setOutputProperty#(#pair#[#0#]#,#pair#[#1#]#)#;#}##if#(#traceConfiguration#!=#null#)#{##if#(#"org.apache.xalan.transformer.TransformerImpl"#.#equals#(#transformer#.#getClass#(#)#.#getName#(#)#)#)#{#try#{#Class#traceSupport#=#Class#.#forName#(#"org.apache.tools.ant.taskdefs.optional."#+#"Xalan2TraceSupport"#,#true#,#Thread#.#currentThread#(#)#.#getContextClassLoader#(#)#)#;#XSLTTraceSupport#ts#=#(#XSLTTraceSupport#)#traceSupport#.#newInstance#(#)#;#ts#.#configureTrace#(#transformer#,#traceConfiguration#)#;#}##catch#(#Exception#e#)#{#String#msg#=#"Failed to enable tracing because of "#+#e#;##if#(#project#!=#null#)#{#project#.#log#(#msg#,#Project#.#MSG_WARN#)#;#}#else#{#System#.#err#.#println#(#msg#)#;#}#}#}#else#{#String#msg#=#"Not enabling trace support for transformer"#+#" implementation"#+#transformer#.#getClass#(#)#.#getName#(#)#;##if#(#project#!=#null#)#{#project#.#log#(#msg#,#Project#.#MSG_WARN#)#;#}#else#{#System#.#err#.#println#(#msg#)#;#}#}#}#}