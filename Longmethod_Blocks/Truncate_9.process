void#process#(#File#f#)#{#long#len#=#f#.#length#(#)#;#long#newLength#=#length#==#null#?#len#+#adjust#.#longValue#(#)#:#length#.#longValue#(#)#;##if#(#len#==#newLength#)#{##//nothing to do!##return#;#}##RandomAccessFile#raf#=#null#;##try#{#raf#=#new#RandomAccessFile#(#f#,#READ_WRITE#)#;#}##catch#(#Exception#e#)#{#throw#new#BuildException#(#"Could not open "#+#f#+#" for writing"#,#e#)#;#}##try#{##if#(#newLength#>#len#)#{#long#pos#=#len#;#raf#.#seek#(#pos#)#;##while#(#pos#<#newLength#)#{#long#writeCount#=#Math#.#min#(#FILL_BUFFER#.#length#,#newLength#-#pos#)#;#raf#.#write#(#FILL_BUFFER#,#0#,#(#int#)#writeCount#)#;#pos#+=#writeCount#;#}#}#else#{#raf#.#setLength#(#newLength#)#;#}#}##catch#(#IOException#e#)#{#throw#new#BuildException#(#"Exception working with "#+#raf#,#e#)#;#}##finally#{#try#{#raf#.#close#(#)#;#}##catch#(#IOException#e#)#{#log#(#"Caught "#+#e#+#" closing "#+#raf#,#Project#.#MSG_WARN#)#;#}#}#}