InputStream#decompress#(#final#String#name#,#final#InputStream#istream#)#throws#IOException#,#BuildException#{#final#String#v#=#getValue#(#)#;##if#(#GZIP#.#equals#(#v#)#)#{##return#new#GZIPInputStream#(#istream#)#;#}#else#{##if#(#BZIP2#.#equals#(#v#)#)#{#final#char#[#]#magic#=#new#char#[#]#{#'B'#,#'Z'#}#;##for#(#int#i#=#0#;##i#<#magic#.#length#;#i#++#)#{##if#(#istream#.#read#(#)#!=#magic#[#i#]#)#{#throw#new#BuildException#(#"Invalid bz2 file."#+#name#)#;#}#}##return#new#CBZip2InputStream#(#istream#)#;#}#}##return#istream#;#}