DescriptorHandler#getWeblogicDescriptorHandler#(#final#File#srcDir#)#{#DescriptorHandler#handler#=#new#DescriptorHandler#(#getTask#(#)#,#srcDir#)#{#protected#void#processElement#(#)#{##if#(#currentElement#.#equals#(#"type-storage"#)#)#{##// Get the filename of vendor specific descriptor#String#fileNameWithMETA#=#currentText#;##//trim the META_INF\ off of the file name#String#fileName#=#fileNameWithMETA#.#substring#(#META_DIR#.#length#(#)#,#fileNameWithMETA#.#length#(#)#)#;#File#descriptorFile#=#new#File#(#srcDir#,#fileName#)#;#ejbFiles#.#put#(#fileNameWithMETA#,#descriptorFile#)#;#}#}#}#;#handler#.#registerDTD#(#PUBLICID_WEBLOGIC_EJB510#,#DEFAULT_WL51_DTD_LOCATION#)#;#handler#.#registerDTD#(#PUBLICID_WEBLOGIC_EJB510#,#DEFAULT_WL60_51_DTD_LOCATION#)#;#handler#.#registerDTD#(#PUBLICID_WEBLOGIC_EJB600#,#DEFAULT_WL60_DTD_LOCATION#)#;#handler#.#registerDTD#(#PUBLICID_WEBLOGIC_EJB700#,#DEFAULT_WL70_DTD_LOCATION#)#;#handler#.#registerDTD#(#PUBLICID_WEBLOGIC_EJB510#,#weblogicDTD#)#;#handler#.#registerDTD#(#PUBLICID_WEBLOGIC_EJB600#,#weblogicDTD#)#;##for#(#Iterator#i#=#getConfig#(#)#.#dtdLocations#.#iterator#(#)#;##i#.#hasNext#(#)#;#)#{#EjbJar#.#DTDLocation#dtdLocation#=#(#EjbJar#.#DTDLocation#)#i#.#next#(#)#;#handler#.#registerDTD#(#dtdLocation#.#getPublicId#(#)#,#dtdLocation#.#getLocation#(#)#)#;#}##return#handler#;#}