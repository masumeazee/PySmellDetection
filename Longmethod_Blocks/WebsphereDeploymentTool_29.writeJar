void#writeJar#(#String#baseName#,#File#jarFile#,#Hashtable#files#,#String#publicId#)#throws#BuildException#{##if#(#ejbdeploy#)#{##// create the -generic.jar, if required#File#genericJarFile#=#super#.#getVendorOutputJarFile#(#baseName#)#;#super#.#writeJar#(#baseName#,#genericJarFile#,#files#,#publicId#)#;##// create the output .jar, if required##if#(#alwaysRebuild#||#isRebuildRequired#(#genericJarFile#,#jarFile#)#)#{#buildWebsphereJar#(#genericJarFile#,#jarFile#)#;#}##if#(#!#keepGeneric#)#{#log#(#"deleting generic jar "#+#genericJarFile#.#toString#(#)#,#Project#.#MSG_VERBOSE#)#;#genericJarFile#.#delete#(#)#;#}#}#else#{##// create the "undeployed" output .jar, if required#super#.#writeJar#(#baseName#,#jarFile#,#files#,#publicId#)#;#}#}