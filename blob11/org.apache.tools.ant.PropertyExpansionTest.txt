void#setUp#(#)#{#configureProject#(#"src/etc/testcases/core/immutable.xml"#)#;#}##void#testPropertyExpansion#(#)#{#assertExpandsTo#(#""#,#""#)#;#assertExpandsTo#(#"$"#,#"$"#)#;#assertExpandsTo#(#"$$-"#,#"$-"#)#;#assertExpandsTo#(#"$$"#,#"$"#)#;#project#.#setProperty#(#"expanded"#,#"EXPANDED"#)#;#assertExpandsTo#(#"a${expanded}b"#,#"aEXPANDEDb"#)#;#assertExpandsTo#(#"${expanded}${expanded}"#,#"EXPANDEDEXPANDED"#)#;#assertExpandsTo#(#"$$$"#,#"$$"#)#;#assertExpandsTo#(#"$$$$-"#,#"$$-"#)#;#assertExpandsTo#(#""#,#""#)#;#assertExpandsTo#(#"Class$$subclass"#,#"Class$subclass"#)#;#}##void#testDollarPassthru#(#)#{#assertExpandsTo#(#"$-"#,#"$-"#)#;#assertExpandsTo#(#"Class$subclass"#,#"Class$subclass"#)#;#assertExpandsTo#(#"$$$-"#,#"$$-"#)#;#assertExpandsTo#(#"$$$$$"#,#"$$$"#)#;#assertExpandsTo#(#"${unassigned.property}"#,#"${unassigned.property}"#)#;#assertExpandsTo#(#"a$b"#,#"a$b"#)#;#assertExpandsTo#(#"$}}"#,#"$}}"#)#;#}##void#oldtestQuirkyLegacyBehavior#(#)#{#assertExpandsTo#(#"Class$subclass"#,#"Classsubclass"#)#;#assertExpandsTo#(#"$$$-"#,#"$-"#)#;#assertExpandsTo#(#"a$b"#,#"ab"#)#;#assertExpandsTo#(#"$}}"#,#"}}"#)#;#}##void#assertExpandsTo#(#String#source#,#String#expected#)#{#String#actual#=#project#.#replaceProperties#(#source#)#;#assertEquals#(#source#,#expected#,#actual#)#;#}##