int#read#(#)#throws#IOException#{#if#(#!#getInitialized#(#)#)#{#initialize#(#)#;#setInitialized#(#true#)#;#}#while#(#line#==#null#||#line#.#length#(#)#==#0#)#{#line#=#lineTokenizer#.#getToken#(#in#)#;#if#(#line#==#null#)#{#return#-#1#;#}#line#=#headFilter#(#line#)#;#if#(#eof#)#{#return#-#1#;#}#linePos#=#0#;#}#int#ch#=#line#.#charAt#(#linePos#)#;#linePos#++#;#if#(#linePos#==#line#.#length#(#)#)#{#line#=#null#;#}#return#ch#;#}##void#setLines#(#final#long#lines#)#{#this#.#lines#=#lines#;#}##long#getLines#(#)#{#return#lines#;#}##void#setSkip#(#final#long#skip#)#{#this#.#skip#=#skip#;#}##long#getSkip#(#)#{#return#skip#;#}##Reader#chain#(#final#Reader#rdr#)#{#HeadFilter#newFilter#=#new#HeadFilter#(#rdr#)#;#newFilter#.#setLines#(#getLines#(#)#)#;#newFilter#.#setSkip#(#getSkip#(#)#)#;#newFilter#.#setInitialized#(#true#)#;#return#newFilter#;#}##void#initialize#(#)#{#Parameter#[#]#params#=#getParameters#(#)#;#if#(#params#!=#null#)#{#for#(#int#i#=#0#;#i#<#params#.#length#;#i#++#)#{#if#(#LINES_KEY#.#equals#(#params#[#i#]#.#getName#(#)#)#)#{#lines#=#Long#.#parseLong#(#params#[#i#]#.#getValue#(#)#)#;#continue#;#}#if#(#SKIP_KEY#.#equals#(#params#[#i#]#.#getName#(#)#)#)#{#skip#=#Long#.#parseLong#(#params#[#i#]#.#getValue#(#)#)#;#continue#;#}#}#}#}##String#headFilter#(#String#line#)#{#linesRead#++#;#if#(#skip#>#0#)#{#if#(#(#linesRead#-#1#)#<#skip#)#{#return#null#;#}#}#if#(#lines#>#0#)#{#if#(#linesRead#>#(#lines#+#skip#)#)#{#eof#=#true#;#return#null#;#}#}#return#line#;#}##