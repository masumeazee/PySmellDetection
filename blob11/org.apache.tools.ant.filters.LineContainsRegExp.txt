int#read#(#)#throws#IOException#{#if#(#!#getInitialized#(#)#)#{#initialize#(#)#;#setInitialized#(#true#)#;#}#int#ch#=#-#1#;#if#(#line#!=#null#)#{#ch#=#line#.#charAt#(#0#)#;#if#(#line#.#length#(#)#==#1#)#{#line#=#null#;#}#else#{#line#=#line#.#substring#(#1#)#;#}#}#else#{#final#int#regexpsSize#=#regexps#.#size#(#)#;#for#(#line#=#readLine#(#)#;#line#!=#null#;#line#=#readLine#(#)#)#{#boolean#matches#=#true#;#for#(#int#i#=#0#;#matches#&&#i#<#regexpsSize#;#i#++#)#{#RegularExpression#regexp#=#(#RegularExpression#)#regexps#.#elementAt#(#i#)#;#Regexp#re#=#regexp#.#getRegexp#(#getProject#(#)#)#;#matches#=#re#.#matches#(#line#)#;#}#if#(#matches#^#isNegated#(#)#)#{#break#;#}#}#if#(#line#!=#null#)#{#return#read#(#)#;#}#}#return#ch#;#}##void#addConfiguredRegexp#(#final#RegularExpression#regExp#)#{#this#.#regexps#.#addElement#(#regExp#)#;#}##void#setRegexps#(#final#Vector#regexps#)#{#this#.#regexps#=#regexps#;#}##Vector#getRegexps#(#)#{#return#regexps#;#}##Reader#chain#(#final#Reader#rdr#)#{#LineContainsRegExp#newFilter#=#new#LineContainsRegExp#(#rdr#)#;#newFilter#.#setRegexps#(#getRegexps#(#)#)#;#newFilter#.#setNegate#(#isNegated#(#)#)#;#return#newFilter#;#}##void#setNegate#(#boolean#b#)#{#negate#=#b#;#}##boolean#isNegated#(#)#{#return#negate#;#}##void#initialize#(#)#{#Parameter#[#]#params#=#getParameters#(#)#;#if#(#params#!=#null#)#{#for#(#int#i#=#0#;#i#<#params#.#length#;#i#++#)#{#if#(#REGEXP_KEY#.#equals#(#params#[#i#]#.#getType#(#)#)#)#{#String#pattern#=#params#[#i#]#.#getValue#(#)#;#RegularExpression#regexp#=#new#RegularExpression#(#)#;#regexp#.#setPattern#(#pattern#)#;#regexps#.#addElement#(#regexp#)#;#}#else#if#(#NEGATE_KEY#.#equals#(#params#[#i#]#.#getType#(#)#)#)#{#setNegate#(#Project#.#toBoolean#(#params#[#i#]#.#getValue#(#)#)#)#;#}#}#}#}##