boolean#eval#(#)#{#if#(#countConditions#(#)#!=#1#)#{#throw#new#BuildException#(#"A single nested condition is required."#)#;#}#return#(#(#Condition#)#(#getConditions#(#)#.#nextElement#(#)#)#)#.#eval#(#)#;#}##void#setMessage#(#String#value#)#{#this#.#message#=#value#;#}##void#setIf#(#Object#c#)#{#ifCondition#=#c#;#}##void#setIf#(#String#c#)#{#setIf#(#(#Object#)#c#)#;#}##void#setUnless#(#Object#c#)#{#unlessCondition#=#c#;#}##void#setUnless#(#String#c#)#{#setUnless#(#(#Object#)#c#)#;#}##void#setStatus#(#int#i#)#{#status#=#new#Integer#(#i#)#;#}##void#execute#(#)#throws#BuildException#{#boolean#fail#=#(#nestedConditionPresent#(#)#)#?#testNestedCondition#(#)#:#(#testIfCondition#(#)#&&#testUnlessCondition#(#)#)#;#if#(#fail#)#{#String#text#=#null#;#if#(#message#!=#null#&&#message#.#trim#(#)#.#length#(#)#>#0#)#{#text#=#message#.#trim#(#)#;#}#else#{#if#(#ifCondition#!=#null#&&#!#""#.#equals#(#ifCondition#)#&&#testIfCondition#(#)#)#{#text#=#"if="#+#ifCondition#;#}#if#(#unlessCondition#!=#null#&&#!#""#.#equals#(#unlessCondition#)#&&#testUnlessCondition#(#)#)#{#if#(#text#==#null#)#{#text#=#""#;#}#else#{#text#+=#" and "#;#}#text#+=#"unless="#+#unlessCondition#;#}#if#(#nestedConditionPresent#(#)#)#{#text#=#"condition satisfied"#;#}#else#{#if#(#text#==#null#)#{#text#=#"No message"#;#}#}#}#log#(#"failing due to "#+#text#,#Project#.#MSG_DEBUG#)#;#throw#(#(#status#==#null#)#?#new#BuildException#(#text#)#:#new#ExitStatusException#(#text#,#status#.#intValue#(#)#)#)#;#}#}##void#addText#(#String#msg#)#{#if#(#message#==#null#)#{#message#=#""#;#}#message#+=#getProject#(#)#.#replaceProperties#(#msg#)#;#}##ConditionBase#createCondition#(#)#{#if#(#nestedCondition#!=#null#)#{#throw#new#BuildException#(#"Only one nested condition is allowed."#)#;#}#nestedCondition#=#new#NestedCondition#(#)#;#return#nestedCondition#;#}##boolean#testIfCondition#(#)#{#return#PropertyHelper#.#getPropertyHelper#(#getProject#(#)#)#.#testIfCondition#(#ifCondition#)#;#}##boolean#testUnlessCondition#(#)#{#return#PropertyHelper#.#getPropertyHelper#(#getProject#(#)#)#.#testUnlessCondition#(#unlessCondition#)#;#}##boolean#testNestedCondition#(#)#{#boolean#result#=#nestedConditionPresent#(#)#;#if#(#result#&&#ifCondition#!=#null#||#unlessCondition#!=#null#)#{#throw#new#BuildException#(#"Nested conditions "#+#"not permitted in conjunction with if/unless attributes"#)#;#}#return#result#&&#nestedCondition#.#eval#(#)#;#}##boolean#nestedConditionPresent#(#)#{#return#(#nestedCondition#!=#null#)#;#}##