void#setUp#(#)#{#configureProject#(#"src/etc/testcases/taskdefs/property.xml"#)#;#}##void#test1#(#)#{#// should get no output at all#expectOutputAndError#(#"test1"#,#""#,#""#)#;#}##void#test2#(#)#{#expectLog#(#"test2"#,#"testprop1=aa, testprop3=xxyy, testprop4=aazz"#)#;#}##void#test3#(#)#{#try#{#executeTarget#(#"test3"#)#;#}#catch#(#BuildException#e#)#{#assertTrue#(#"Circular definition not detected - "#,#e#.#getMessage#(#)#.#indexOf#(#"was circularly defined"#)#!=#-#1#)#;#return#;#}#fail#(#"Did not throw exception on circular exception"#)#;#}##void#test4#(#)#{#expectLog#(#"test4"#,#"http.url is http://localhost:999"#)#;#}##void#test5#(#)#{#String#baseDir#=#getProject#(#)#.#getProperty#(#"basedir"#)#;#try#{#String#uri#=#FILE_UTILS#.#toURI#(#baseDir#+#"/property3.properties"#)#;#getProject#(#)#.#setNewProperty#(#"test5.url"#,#uri#)#;#}#catch#(#Exception#ex#)#{#throw#new#BuildException#(#ex#)#;#}#expectLog#(#"test5"#,#"http.url is http://localhost:999"#)#;#}##void#testPrefixSuccess#(#)#{#executeTarget#(#"prefix.success"#)#;#assertEquals#(#"80"#,#project#.#getProperty#(#"server1.http.port"#)#)#;#}##void#testPrefixFailure#(#)#{#try#{#executeTarget#(#"prefix.fail"#)#;#}#catch#(#BuildException#e#)#{#assertTrue#(#"Prefix allowed on non-resource/file load - "#,#e#.#getMessage#(#)#.#indexOf#(#"Prefix is only valid"#)#!=#-#1#)#;#return#;#}#fail#(#"Did not throw exception on invalid use of prefix"#)#;#}##void#testCircularReference#(#)#{#try#{#executeTarget#(#"testCircularReference"#)#;#}#catch#(#BuildException#e#)#{#assertTrue#(#"Circular definition not detected - "#,#e#.#getMessage#(#)#.#indexOf#(#"was circularly defined"#)#!=#-#1#)#;#return#;#}#fail#(#"Did not throw exception on circular exception"#)#;#}##void#testThisIsNotACircularReference#(#)#{#expectLog#(#"thisIsNotACircularReference"#,#"b is A/A/A"#)#;#}##void#testXmlProperty#(#)#{#try#{#Class#.#forName#(#"java.lang.Iterable"#)#;#executeTarget#(#"testXmlProperty"#)#;#assertEquals#(#"ONE"#,#project#.#getProperty#(#"xml.one"#)#)#;#assertEquals#(#"TWO"#,#project#.#getProperty#(#"xml.two"#)#)#;#}#catch#(#ClassNotFoundException#e#)#{#// Xml-Loading only on Java5+#}#}##