void#setUp#(#)#{#configureProject#(#"src/etc/testcases/taskdefs/jar.xml"#)#;#}##void#tearDown#(#)#{#executeTarget#(#"cleanup"#)#;#}##void#testGrabFilesAndDirs#(#)#throws#IOException#{#executeTarget#(#"testIndexTests"#)#;#String#archive#=#getProject#(#)#.#resolveFile#(#tempJar#)#.#getAbsolutePath#(#)#;#ArrayList#dirs#=#new#ArrayList#(#)#;#ArrayList#files#=#new#ArrayList#(#)#;#String#[#]#expectedDirs#=#new#String#[#]#{#"META-INF/"#,#"sub/"#,#}#;#String#[#]#expectedFiles#=#new#String#[#]#{#"foo"#,#}#;#Jar#.#grabFilesAndDirs#(#archive#,#dirs#,#files#)#;#assertEquals#(#expectedDirs#.#length#,#dirs#.#size#(#)#)#;#for#(#int#i#=#0#;#i#<#expectedDirs#.#length#;#i#++#)#{#assertTrue#(#"Found "#+#expectedDirs#[#i#]#,#dirs#.#contains#(#expectedDirs#[#i#]#)#)#;#}#assertEquals#(#expectedFiles#.#length#,#files#.#size#(#)#)#;#for#(#int#i#=#0#;#i#<#expectedFiles#.#length#;#i#++#)#{#assertTrue#(#"Found "#+#expectedFiles#[#i#]#,#files#.#contains#(#expectedFiles#[#i#]#)#)#;#}#}##void#testFindJarNameNoClasspath#(#)#{#assertEquals#(#"foo"#,#Jar#.#findJarName#(#"foo"#,#null#)#)#;#assertEquals#(#"foo"#,#Jar#.#findJarName#(#"lib"#+#File#.#separatorChar#+#"foo"#,#null#)#)#;#}##void#testFindJarNameNoMatch#(#)#{#assertNull#(#Jar#.#findJarName#(#"foo"#,#new#String#[#]#{#"bar"#}#)#)#;#}##void#testFindJarNameSimpleMatches#(#)#{#assertEquals#(#"foo"#,#Jar#.#findJarName#(#"foo"#,#new#String#[#]#{#"foo"#}#)#)#;#assertEquals#(#"lib/foo"#,#Jar#.#findJarName#(#"foo"#,#new#String#[#]#{#"lib/foo"#}#)#)#;#assertEquals#(#"foo"#,#Jar#.#findJarName#(#"bar"#+#File#.#separatorChar#+#"foo"#,#new#String#[#]#{#"foo"#}#)#)#;#assertEquals#(#"lib/foo"#,#Jar#.#findJarName#(#"bar"#+#File#.#separatorChar#+#"foo"#,#new#String#[#]#{#"lib/foo"#}#)#)#;#}##void#testFindJarNameLongestMatchWins#(#)#{#assertEquals#(#"lib/foo"#,#Jar#.#findJarName#(#"lib/foo"#,#new#String#[#]#{#"foo"#,#"lib/foo"#,#"lib/bar/foo"#}#)#)#;#}##