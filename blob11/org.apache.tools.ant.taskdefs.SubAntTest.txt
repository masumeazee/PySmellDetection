void#setUp#(#)#{#configureProject#(#"src/etc/testcases/taskdefs/subant.xml"#)#;#}##void#testnodirs#(#)#{#project#.#executeTarget#(#"testnodirs"#)#;#expectLog#(#"testnodirs"#,#"No sub-builds to iterate on"#)#;#}##void#testgenericantfile#(#)#{#File#dir1#=#project#.#resolveFile#(#"."#)#;#File#dir2#=#project#.#resolveFile#(#"subant/subant-test1"#)#;#File#dir3#=#project#.#resolveFile#(#"subant/subant-test2"#)#;#testBaseDirs#(#"testgenericantfile"#,#new#String#[#]#{#dir1#.#getAbsolutePath#(#)#,#dir2#.#getAbsolutePath#(#)#,#dir3#.#getAbsolutePath#(#)#}#)#;#}##void#testantfile#(#)#{#File#dir1#=#project#.#resolveFile#(#"."#)#;#// basedir of subant/subant-test1/subant.xml is ..#// therefore we expect here the subant/subant-test1 subdirectory#File#dir2#=#project#.#resolveFile#(#"subant/subant-test1"#)#;#// basedir of subant/subant-test2/subant.xml is ..#// therefore we expect here the subant subdirectory#File#dir3#=#project#.#resolveFile#(#"subant"#)#;#testBaseDirs#(#"testantfile"#,#new#String#[#]#{#dir1#.#getAbsolutePath#(#)#,#dir2#.#getAbsolutePath#(#)#,#dir3#.#getAbsolutePath#(#)#}#)#;#}##void#testMultipleTargets#(#)#{#executeTarget#(#"multipleTargets"#)#;#assertLogContaining#(#"test1-one"#)#;#assertLogContaining#(#"test1-two"#)#;#assertLogContaining#(#"test2-one"#)#;#assertLogContaining#(#"test2-two"#)#;#}##void#testMultipleTargetsOneDoesntExist_FOEfalse#(#)#{#executeTarget#(#"multipleTargetsOneDoesntExist_FOEfalse"#)#;#assertLogContaining#(#"Target \"three\" does not exist in the project \"subant\""#)#;#}##void#testMultipleTargetsOneDoesntExist_FOEtrue#(#)#{#expectBuildExceptionContaining#(#"multipleTargetsOneDoesntExist_FOEtrue"#,#"Calling not existent target"#,#"Target \"three\" does not exist in the project \"subant\""#)#;#}##void#testBaseDirs#(#String#target#,#String#[#]#dirs#)#{#SubAntTest#.#BasedirChecker#bc#=#new#SubAntTest#.#BasedirChecker#(#dirs#)#;#project#.#addBuildListener#(#bc#)#;#executeTarget#(#target#)#;#AssertionFailedError#ae#=#bc#.#getError#(#)#;#if#(#ae#!=#null#)#{#throw#ae#;#}#project#.#removeBuildListener#(#bc#)#;#}##void#buildStarted#(#BuildEvent#event#)#{#}##void#buildFinished#(#BuildEvent#event#)#{#}##void#targetFinished#(#BuildEvent#event#)#{#}##void#taskStarted#(#BuildEvent#event#)#{#}##void#taskFinished#(#BuildEvent#event#)#{#}##void#messageLogged#(#BuildEvent#event#)#{#}##void#targetStarted#(#BuildEvent#event#)#{#if#(#event#.#getTarget#(#)#.#getName#(#)#.#equals#(#""#)#)#{#return#;#}#if#(#error#==#null#)#{#try#{#assertEquals#(#expectedBasedirs#[#calls#++#]#,#event#.#getProject#(#)#.#getBaseDir#(#)#.#getAbsolutePath#(#)#)#;#}#catch#(#AssertionFailedError#e#)#{#error#=#e#;#}#}#}##AssertionFailedError#getError#(#)#{#return#error#;#}##