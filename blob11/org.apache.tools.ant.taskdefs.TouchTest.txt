void#setUp#(#)#{#configureProject#(#"src/etc/testcases/taskdefs/touch.xml"#)#;#}##void#tearDown#(#)#{#executeTarget#(#"cleanup"#)#;#}##long#getTargetTime#(#)#{#File#file#=#new#File#(#System#.#getProperty#(#"root"#)#,#TOUCH_FILE#)#;#if#(#!#file#.#exists#(#)#)#{#throw#new#BuildException#(#"failed to touch file "#+#file#)#;#}#return#file#.#lastModified#(#)#;#}##void#testNoSeconds#(#)#{#executeTarget#(#"noSeconds"#)#;#long#time#=#getTargetTime#(#)#;#}##void#testSeconds#(#)#{#executeTarget#(#"seconds"#)#;#long#time#=#getTargetTime#(#)#;#}##void#testMillis#(#)#{#touchFile#(#"testMillis"#,#662256000000L#)#;#}##void#testNow#(#)#{#long#now#=#System#.#currentTimeMillis#(#)#;#executeTarget#(#"testNow"#)#;#long#time#=#getTargetTime#(#)#;#assertTimesNearlyMatch#(#time#,#now#,#5000#)#;#}##void#test2000#(#)#{#touchFile#(#"test2000"#,#946080000000L#)#;#}##void#testFilelist#(#)#{#touchFile#(#"testFilelist"#,#662256000000L#)#;#}##void#testFileset#(#)#{#touchFile#(#"testFileset"#,#946080000000L#)#;#}##void#testResourceCollection#(#)#{#touchFile#(#"testResourceCollection"#,#1662256000000L#)#;#}##void#testMappedFileset#(#)#{#executeTarget#(#"testMappedFileset"#)#;#}##void#testExplicitMappedFileset#(#)#{#executeTarget#(#"testExplicitMappedFileset"#)#;#}##void#testMappedFilelist#(#)#{#executeTarget#(#"testMappedFilelist"#)#;#}##void#testGoodPattern#(#)#{#executeTarget#(#"testGoodPattern"#)#;#}##void#testBadPattern#(#)#{#expectBuildExceptionContaining#(#"testBadPattern"#,#"No parsing exception thrown"#,#"Unparseable"#)#;#}##void#touchFile#(#String#targetName#,#long#timestamp#)#{#executeTarget#(#targetName#)#;#long#time#=#getTargetTime#(#)#;#assertTimesNearlyMatch#(#timestamp#,#time#)#;#}##void#assertTimesNearlyMatch#(#long#timestamp#,#long#time#)#{#long#granularity#=#FILE_UTILS#.#getFileTimestampGranularity#(#)#;#assertTimesNearlyMatch#(#timestamp#,#time#,#granularity#)#;#}##void#assertTimesNearlyMatch#(#long#timestamp#,#long#time#,#long#range#)#{#assertTrue#(#"Time "#+#timestamp#+#" is not within "#+#range#+#" ms of "#+#time#,#(#Math#.#abs#(#time#-#timestamp#)#<=#range#)#)#;#}##