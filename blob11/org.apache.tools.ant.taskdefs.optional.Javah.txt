void#setClass#(#String#cls#)#{#this#.#cls#=#cls#;#}##ClassArgument#createClass#(#)#{#ClassArgument#ga#=#new#ClassArgument#(#)#;#classes#.#addElement#(#ga#)#;#return#ga#;#}##void#setName#(#String#name#)#{#this#.#name#=#name#;#}##String#getName#(#)#{#return#name#;#}##void#addFileSet#(#FileSet#fs#)#{#files#.#add#(#fs#)#;#}##String#[#]#getClasses#(#)#{#ArrayList#al#=#new#ArrayList#(#)#;#if#(#cls#!=#null#)#{#StringTokenizer#tok#=#new#StringTokenizer#(#cls#,#","#,#false#)#;#while#(#tok#.#hasMoreTokens#(#)#)#{#al#.#add#(#tok#.#nextToken#(#)#.#trim#(#)#)#;#}#}#if#(#files#.#size#(#)#>#0#)#{#for#(#Enumeration#e#=#files#.#elements#(#)#;#e#.#hasMoreElements#(#)#;#)#{#FileSet#fs#=#(#FileSet#)#e#.#nextElement#(#)#;#String#[#]#includedClasses#=#fs#.#getDirectoryScanner#(#getProject#(#)#)#.#getIncludedFiles#(#)#;#for#(#int#i#=#0#;#i#<#includedClasses#.#length#;#i#++#)#{#String#className#=#includedClasses#[#i#]#.#replace#(#'\\'#,#'.'#)#.#replace#(#'/'#,#'.'#)#.#substring#(#0#,#includedClasses#[#i#]#.#length#(#)#-#6#)#;#al#.#add#(#className#)#;#}#}#}#Enumeration#e#=#classes#.#elements#(#)#;#while#(#e#.#hasMoreElements#(#)#)#{#ClassArgument#arg#=#(#ClassArgument#)#e#.#nextElement#(#)#;#al#.#add#(#arg#.#getName#(#)#)#;#}#return#(#String#[#]#)#al#.#toArray#(#new#String#[#al#.#size#(#)#]#)#;#}##void#setDestdir#(#File#destDir#)#{#this#.#destDir#=#destDir#;#}##File#getDestdir#(#)#{#return#destDir#;#}##void#setClasspath#(#Path#src#)#{#if#(#classpath#==#null#)#{#classpath#=#src#;#}#else#{#classpath#.#append#(#src#)#;#}#}##Path#createClasspath#(#)#{#if#(#classpath#==#null#)#{#classpath#=#new#Path#(#getProject#(#)#)#;#}#return#classpath#.#createPath#(#)#;#}##void#setClasspathRef#(#Reference#r#)#{#createClasspath#(#)#.#setRefid#(#r#)#;#}##Path#getClasspath#(#)#{#return#classpath#;#}##void#setBootclasspath#(#Path#src#)#{#if#(#bootclasspath#==#null#)#{#bootclasspath#=#src#;#}#else#{#bootclasspath#.#append#(#src#)#;#}#}##Path#createBootclasspath#(#)#{#if#(#bootclasspath#==#null#)#{#bootclasspath#=#new#Path#(#getProject#(#)#)#;#}#return#bootclasspath#.#createPath#(#)#;#}##void#setBootClasspathRef#(#Reference#r#)#{#createBootclasspath#(#)#.#setRefid#(#r#)#;#}##Path#getBootclasspath#(#)#{#return#bootclasspath#;#}##void#setOutputFile#(#File#outputFile#)#{#this#.#outputFile#=#outputFile#;#}##File#getOutputfile#(#)#{#return#outputFile#;#}##void#setForce#(#boolean#force#)#{#this#.#force#=#force#;#}##boolean#getForce#(#)#{#return#force#;#}##void#setOld#(#boolean#old#)#{#this#.#old#=#old#;#}##boolean#getOld#(#)#{#return#old#;#}##void#setStubs#(#boolean#stubs#)#{#this#.#stubs#=#stubs#;#}##boolean#getStubs#(#)#{#return#stubs#;#}##void#setVerbose#(#boolean#verbose#)#{#this#.#verbose#=#verbose#;#}##boolean#getVerbose#(#)#{#return#verbose#;#}##void#setImplementation#(#String#impl#)#{#if#(#"default"#.#equals#(#impl#)#)#{#facade#.#setImplementation#(#JavahAdapterFactory#.#getDefault#(#)#)#;#}#else#{#facade#.#setImplementation#(#impl#)#;#}#}##ImplementationSpecificArgument#createArg#(#)#{#ImplementationSpecificArgument#arg#=#new#ImplementationSpecificArgument#(#)#;#facade#.#addImplementationArgument#(#arg#)#;#return#arg#;#}##String#[#]#getCurrentArgs#(#)#{#return#facade#.#getArgs#(#)#;#}##Path#createImplementationClasspath#(#)#{#return#facade#.#getImplementationClasspath#(#getProject#(#)#)#;#}##void#add#(#JavahAdapter#adapter#)#{#if#(#nestedAdapter#!=#null#)#{#throw#new#BuildException#(#"Can't have more than one javah"#+#" adapter"#)#;#}#nestedAdapter#=#adapter#;#}##void#execute#(#)#throws#BuildException#{#// first off, make sure that we've got a srcdir#if#(#(#cls#==#null#)#&&#(#classes#.#size#(#)#==#0#)#&&#(#files#.#size#(#)#==#0#)#)#{#throw#new#BuildException#(#"class attribute must be set!"#,#getLocation#(#)#)#;#}#if#(#(#cls#!=#null#)#&&#(#classes#.#size#(#)#>#0#)#&&#(#files#.#size#(#)#>#0#)#)#{#throw#new#BuildException#(#"set class attribute OR class element OR fileset, "#+#"not 2 or more of them."#,#getLocation#(#)#)#;#}#if#(#destDir#!=#null#)#{#if#(#!#destDir#.#isDirectory#(#)#)#{#throw#new#BuildException#(#"destination directory \""#+#destDir#+#"\" does not exist or is not a directory"#,#getLocation#(#)#)#;#}#if#(#outputFile#!=#null#)#{#throw#new#BuildException#(#"destdir and outputFile are mutually "#+#"exclusive"#,#getLocation#(#)#)#;#}#}#if#(#classpath#==#null#)#{#classpath#=#(#new#Path#(#getProject#(#)#)#)#.#concatSystemClasspath#(#"last"#)#;#}#else#{#classpath#=#classpath#.#concatSystemClasspath#(#"ignore"#)#;#}#JavahAdapter#ad#=#nestedAdapter#!=#null#?#nestedAdapter#:#JavahAdapterFactory#.#getAdapter#(#facade#.#getImplementation#(#)#,#this#,#createImplementationClasspath#(#)#)#;#if#(#!#ad#.#compile#(#this#)#)#{#throw#new#BuildException#(#"compilation failed"#)#;#}#}##void#logAndAddFiles#(#Commandline#cmd#)#{#logAndAddFilesToCompile#(#cmd#)#;#}##void#logAndAddFilesToCompile#(#Commandline#cmd#)#{#log#(#"Compilation "#+#cmd#.#describeArguments#(#)#,#Project#.#MSG_VERBOSE#)#;#StringBuffer#niceClassList#=#new#StringBuffer#(#)#;#String#[#]#c#=#getClasses#(#)#;#for#(#int#i#=#0#;#i#<#c#.#length#;#i#++#)#{#cmd#.#createArgument#(#)#.#setValue#(#c#[#i#]#)#;#niceClassList#.#append#(#"    "#)#;#niceClassList#.#append#(#c#[#i#]#)#;#niceClassList#.#append#(#StringUtils#.#LINE_SEP#)#;#}#StringBuffer#prefix#=#new#StringBuffer#(#"Class"#)#;#if#(#c#.#length#>#1#)#{#prefix#.#append#(#"es"#)#;#}#prefix#.#append#(#" to be compiled:"#)#;#prefix#.#append#(#StringUtils#.#LINE_SEP#)#;#log#(#prefix#.#toString#(#)#+#niceClassList#.#toString#(#)#,#Project#.#MSG_VERBOSE#)#;#}##