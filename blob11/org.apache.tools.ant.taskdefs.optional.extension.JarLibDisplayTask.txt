void#setFile#(#final#File#file#)#{#this#.#libraryFile#=#file#;#}##void#addFileset#(#final#FileSet#fileSet#)#{#libraryFileSets#.#addElement#(#fileSet#)#;#}##void#execute#(#)#throws#BuildException#{#validate#(#)#;#final#LibraryDisplayer#displayer#=#new#LibraryDisplayer#(#)#;#// Check if list of files to check has been specified#if#(#!#libraryFileSets#.#isEmpty#(#)#)#{#final#Iterator#iterator#=#libraryFileSets#.#iterator#(#)#;#while#(#iterator#.#hasNext#(#)#)#{#final#FileSet#fileSet#=#(#FileSet#)#iterator#.#next#(#)#;#final#DirectoryScanner#scanner#=#fileSet#.#getDirectoryScanner#(#getProject#(#)#)#;#final#File#basedir#=#scanner#.#getBasedir#(#)#;#final#String#[#]#files#=#scanner#.#getIncludedFiles#(#)#;#for#(#int#i#=#0#;#i#<#files#.#length#;#i#++#)#{#final#File#file#=#new#File#(#basedir#,#files#[#i#]#)#;#displayer#.#displayLibrary#(#file#)#;#}#}#}#else#{#displayer#.#displayLibrary#(#libraryFile#)#;#}#}##void#validate#(#)#throws#BuildException#{#if#(#null#==#libraryFile#&&#libraryFileSets#.#isEmpty#(#)#)#{#final#String#message#=#"File attribute not specified."#;#throw#new#BuildException#(#message#)#;#}#if#(#null#!=#libraryFile#&&#!#libraryFile#.#exists#(#)#)#{#final#String#message#=#"File '"#+#libraryFile#+#"' does not exist."#;#throw#new#BuildException#(#message#)#;#}#if#(#null#!=#libraryFile#&&#!#libraryFile#.#isFile#(#)#)#{#final#String#message#=#"\'"#+#libraryFile#+#"\' is not a file."#;#throw#new#BuildException#(#message#)#;#}#}##