void#setUrl#(#final#URL#url#)#{#this#.#url#=#url#;#}##void#setDestfile#(#final#File#destfile#)#{#this#.#destfile#=#destfile#;#}##void#setDestdir#(#final#File#destdir#)#{#this#.#destdir#=#destdir#;#}##File#resolve#(#final#Extension#extension#,#final#Project#project#)#throws#BuildException#{#validate#(#)#;#final#File#file#=#getDest#(#)#;#final#Get#get#=#new#Get#(#)#;#get#.#setProject#(#project#)#;#get#.#setDest#(#file#)#;#get#.#setSrc#(#url#)#;#get#.#execute#(#)#;#return#file#;#}##File#getDest#(#)#{#File#result#;#if#(#null#!=#destfile#)#{#result#=#destfile#;#}#else#{#final#String#file#=#url#.#getFile#(#)#;#String#filename#;#if#(#null#==#file#||#file#.#length#(#)#<=#1#)#{#filename#=#"default.file"#;#}#else#{#int#index#=#file#.#lastIndexOf#(#'/'#)#;#if#(#-#1#==#index#)#{#index#=#0#;#}#filename#=#file#.#substring#(#index#)#;#}#result#=#new#File#(#destdir#,#filename#)#;#}#return#result#;#}##void#validate#(#)#{#if#(#null#==#url#)#{#final#String#message#=#"Must specify URL"#;#throw#new#BuildException#(#message#)#;#}#if#(#null#==#destdir#&&#null#==#destfile#)#{#final#String#message#=#"Must specify destination file or directory"#;#throw#new#BuildException#(#message#)#;#}#else#if#(#null#!=#destdir#&&#null#!=#destfile#)#{#final#String#message#=#"Must not specify both destination file or directory"#;#throw#new#BuildException#(#message#)#;#}#}##String#toString#(#)#{#return#"URL["#+#url#+#"]"#;#}##