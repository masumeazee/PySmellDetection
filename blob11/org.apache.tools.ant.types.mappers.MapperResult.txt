void#setFailMessage#(#String#failMessage#)#{#this#.#failMessage#=#failMessage#;#}##void#setInput#(#String#input#)#{#this#.#input#=#input#;#}##void#setOutput#(#String#output#)#{#this#.#output#=#output#;#}##void#addConfiguredMapper#(#Mapper#mapper#)#{#add#(#mapper#.#getImplementation#(#)#)#;#}##void#add#(#FileNameMapper#fileNameMapper#)#{#if#(#this#.#fileNameMapper#!=#null#)#{#throw#new#BuildException#(#"Only one mapper type nested element allowed"#)#;#}#this#.#fileNameMapper#=#fileNameMapper#;#}##void#execute#(#)#{#if#(#input#==#null#)#{#throw#new#BuildException#(#"Missing attribute 'input'"#)#;#}#if#(#output#==#null#)#{#throw#new#BuildException#(#"Missing attribute 'output'"#)#;#}#if#(#fileNameMapper#==#null#)#{#throw#new#BuildException#(#"Missing a nested file name mapper type element"#)#;#}#String#[#]#result#=#fileNameMapper#.#mapFileName#(#input#)#;#String#flattened#;#if#(#result#==#null#)#{#flattened#=#NULL_MAPPER_RESULT#;#}#else#{#StringBuffer#b#=#new#StringBuffer#(#)#;#for#(#int#i#=#0#;#i#<#result#.#length#;#++#i#)#{#if#(#i#!=#0#)#{#b#.#append#(#"|"#)#;#}#b#.#append#(#result#[#i#]#)#;#}#flattened#=#b#.#toString#(#)#;#}#if#(#!#flattened#.#equals#(#output#)#)#{#throw#new#BuildException#(#failMessage#+#" "#+#"got "#+#flattened#+#" "#+#"expected "#+#output#)#;#}#}##