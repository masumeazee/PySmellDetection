void#setClassname#(#String#name#)#{#this#.#rootClass#=#name#;#}##String#getClassname#(#)#{#return#rootClass#;#}##void#addRootFileset#(#FileSet#rootFileSet#)#{#rootFileSets#.#addElement#(#rootFileSet#)#;#setChecked#(#false#)#;#}##void#setRootClass#(#String#rootClass#)#{#rootClasses#.#addElement#(#rootClass#)#;#}##DirectoryScanner#getDirectoryScanner#(#Project#p#)#{#if#(#isReference#(#)#)#{#return#getRef#(#p#)#.#getDirectoryScanner#(#p#)#;#}#dieOnCircularReference#(#p#)#;#DirectoryScanner#parentScanner#=#super#.#getDirectoryScanner#(#p#)#;#DependScanner#scanner#=#new#DependScanner#(#parentScanner#)#;#Vector#allRootClasses#=#(#Vector#)#rootClasses#.#clone#(#)#;#for#(#Enumeration#e#=#rootFileSets#.#elements#(#)#;#e#.#hasMoreElements#(#)#;#)#{#FileSet#additionalRootSet#=#(#FileSet#)#e#.#nextElement#(#)#;#DirectoryScanner#additionalScanner#=#additionalRootSet#.#getDirectoryScanner#(#p#)#;#String#[#]#files#=#additionalScanner#.#getIncludedFiles#(#)#;#for#(#int#i#=#0#;#i#<#files#.#length#;#++#i#)#{#if#(#files#[#i#]#.#endsWith#(#".class"#)#)#{#String#classFilePath#=#StringUtils#.#removeSuffix#(#files#[#i#]#,#".class"#)#;#String#className#=#classFilePath#.#replace#(#'/'#,#'.'#)#.#replace#(#'\\'#,#'.'#)#;#allRootClasses#.#addElement#(#className#)#;#}#}#scanner#.#addBasedir#(#additionalRootSet#.#getDir#(#p#)#)#;#}#scanner#.#setBasedir#(#getDir#(#p#)#)#;#scanner#.#setRootClasses#(#allRootClasses#)#;#scanner#.#scan#(#)#;#return#scanner#;#}##void#addConfiguredRoot#(#ClassRoot#root#)#{#rootClasses#.#addElement#(#root#.#getClassname#(#)#)#;#}##Object#clone#(#)#{#return#new#ClassfileSet#(#isReference#(#)#?#(#ClassfileSet#)#(#getRef#(#getProject#(#)#)#)#:#this#)#;#}##void#dieOnCircularReference#(#Stack#stk#,#Project#p#)#{#if#(#isChecked#(#)#)#{#return#;#}#// takes care of nested selectors#super#.#dieOnCircularReference#(#stk#,#p#)#;#if#(#!#isReference#(#)#)#{#for#(#Enumeration#e#=#rootFileSets#.#elements#(#)#;#e#.#hasMoreElements#(#)#;#)#{#FileSet#additionalRootSet#=#(#FileSet#)#e#.#nextElement#(#)#;#pushAndInvokeCircularReferenceCheck#(#additionalRootSet#,#stk#,#p#)#;#}#setChecked#(#true#)#;#}#}##