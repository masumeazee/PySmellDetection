void#setRootClasses#(#Vector#rootClasses#)#{#this#.#rootClasses#=#rootClasses#;#}##String#[#]#getIncludedFiles#(#)#{#String#[#]#files#=#new#String#[#getIncludedFilesCount#(#)#]#;#for#(#int#i#=#0#;#i#<#files#.#length#;#i#++#)#{#files#[#i#]#=#(#String#)#included#.#elementAt#(#i#)#;#}#return#files#;#}##int#getIncludedFilesCount#(#)#{#if#(#included#==#null#)#{#throw#new#IllegalStateException#(#)#;#}#return#included#.#size#(#)#;#}##void#scan#(#)#throws#IllegalStateException#{#included#=#new#Vector#(#)#;#String#analyzerClassName#=#DEFAULT_ANALYZER_CLASS#;#DependencyAnalyzer#analyzer#=#null#;#try#{#Class#analyzerClass#=#Class#.#forName#(#analyzerClassName#)#;#analyzer#=#(#DependencyAnalyzer#)#analyzerClass#.#newInstance#(#)#;#}#catch#(#Exception#e#)#{#throw#new#BuildException#(#"Unable to load dependency analyzer: "#+#analyzerClassName#,#e#)#;#}#analyzer#.#addClassPath#(#new#Path#(#null#,#basedir#.#getPath#(#)#)#)#;#for#(#Enumeration#e#=#additionalBaseDirs#.#elements#(#)#;#e#.#hasMoreElements#(#)#;#)#{#File#additionalBaseDir#=#(#File#)#e#.#nextElement#(#)#;#analyzer#.#addClassPath#(#new#Path#(#null#,#additionalBaseDir#.#getPath#(#)#)#)#;#}#for#(#Enumeration#e#=#rootClasses#.#elements#(#)#;#e#.#hasMoreElements#(#)#;#)#{#String#rootClass#=#(#String#)#e#.#nextElement#(#)#;#analyzer#.#addRootClass#(#rootClass#)#;#}#Enumeration#e#=#analyzer#.#getClassDependencies#(#)#;#String#[#]#parentFiles#=#parentScanner#.#getIncludedFiles#(#)#;#Hashtable#parentSet#=#new#Hashtable#(#)#;#for#(#int#i#=#0#;#i#<#parentFiles#.#length#;#++#i#)#{#parentSet#.#put#(#parentFiles#[#i#]#,#parentFiles#[#i#]#)#;#}#while#(#e#.#hasMoreElements#(#)#)#{#String#classname#=#(#String#)#e#.#nextElement#(#)#;#String#filename#=#classname#.#replace#(#'.'#,#File#.#separatorChar#)#;#filename#=#filename#+#".class"#;#File#depFile#=#new#File#(#basedir#,#filename#)#;#if#(#depFile#.#exists#(#)#&&#parentSet#.#containsKey#(#filename#)#)#{#// This is included#included#.#addElement#(#filename#)#;#}#}#}##void#addDefaultExcludes#(#)#{#}##String#[#]#getExcludedDirectories#(#)#{#return#null#;#}##String#[#]#getExcludedFiles#(#)#{#return#null#;#}##String#[#]#getIncludedDirectories#(#)#{#return#new#String#[#0#]#;#}##int#getIncludedDirsCount#(#)#{#return#0#;#}##String#[#]#getNotIncludedDirectories#(#)#{#return#null#;#}##String#[#]#getNotIncludedFiles#(#)#{#return#null#;#}##void#setExcludes#(#String#[#]#excludes#)#{#}##void#setIncludes#(#String#[#]#includes#)#{#}##void#setCaseSensitive#(#boolean#isCaseSensitive#)#{#}##void#addBasedir#(#File#baseDir#)#{#additionalBaseDirs#.#addElement#(#baseDir#)#;#}##