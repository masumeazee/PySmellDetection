void#setFile#(#File#f#)#{#checkAttributesAllowed#(#)#;#file#=#f#;#}##File#getFile#(#)#{#if#(#isReference#(#)#)#{#return#(#(#FileResource#)#getCheckedRef#(#)#)#.#getFile#(#)#;#}#dieOnCircularReference#(#)#;#return#file#;#}##void#setBaseDir#(#File#b#)#{#checkAttributesAllowed#(#)#;#baseDir#=#b#;#}##File#getBaseDir#(#)#{#if#(#isReference#(#)#)#{#return#(#(#FileResource#)#getCheckedRef#(#)#)#.#getBaseDir#(#)#;#}#dieOnCircularReference#(#)#;#return#baseDir#;#}##void#setRefid#(#Reference#r#)#{#if#(#file#!=#null#||#baseDir#!=#null#)#{#throw#tooManyAttributes#(#)#;#}#super#.#setRefid#(#r#)#;#}##String#getName#(#)#{#if#(#isReference#(#)#)#{#return#(#(#Resource#)#getCheckedRef#(#)#)#.#getName#(#)#;#}#File#b#=#getBaseDir#(#)#;#return#b#==#null#?#getNotNullFile#(#)#.#getName#(#)#:#FILE_UTILS#.#removeLeadingPath#(#b#,#getNotNullFile#(#)#)#;#}##boolean#isExists#(#)#{#return#isReference#(#)#?#(#(#Resource#)#getCheckedRef#(#)#)#.#isExists#(#)#:#getNotNullFile#(#)#.#exists#(#)#;#}##long#getLastModified#(#)#{#return#isReference#(#)#?#(#(#Resource#)#getCheckedRef#(#)#)#.#getLastModified#(#)#:#getNotNullFile#(#)#.#lastModified#(#)#;#}##boolean#isDirectory#(#)#{#return#isReference#(#)#?#(#(#Resource#)#getCheckedRef#(#)#)#.#isDirectory#(#)#:#getNotNullFile#(#)#.#isDirectory#(#)#;#}##long#getSize#(#)#{#return#isReference#(#)#?#(#(#Resource#)#getCheckedRef#(#)#)#.#getSize#(#)#:#getNotNullFile#(#)#.#length#(#)#;#}##InputStream#getInputStream#(#)#throws#IOException#{#return#isReference#(#)#?#(#(#Resource#)#getCheckedRef#(#)#)#.#getInputStream#(#)#:#new#FileInputStream#(#getNotNullFile#(#)#)#;#}##OutputStream#getOutputStream#(#)#throws#IOException#{#if#(#isReference#(#)#)#{#return#(#(#FileResource#)#getCheckedRef#(#)#)#.#getOutputStream#(#)#;#}#return#getOutputStream#(#false#)#;#}##OutputStream#getAppendOutputStream#(#)#throws#IOException#{#if#(#isReference#(#)#)#{#return#(#(#FileResource#)#getCheckedRef#(#)#)#.#getAppendOutputStream#(#)#;#}#return#getOutputStream#(#true#)#;#}##OutputStream#getOutputStream#(#boolean#append#)#throws#IOException#{#File#f#=#getNotNullFile#(#)#;#if#(#f#.#exists#(#)#)#{#if#(#f#.#isFile#(#)#&&#!#append#)#{#f#.#delete#(#)#;#}#}#else#{#File#p#=#f#.#getParentFile#(#)#;#if#(#p#!=#null#&&#!#(#p#.#exists#(#)#)#)#{#p#.#mkdirs#(#)#;#}#}#return#append#?#new#FileOutputStream#(#f#.#getAbsolutePath#(#)#,#true#)#:#new#FileOutputStream#(#f#)#;#}##int#compareTo#(#Object#another#)#{#if#(#isReference#(#)#)#{#return#(#(#Comparable#)#getCheckedRef#(#)#)#.#compareTo#(#another#)#;#}#if#(#this#.#equals#(#another#)#)#{#return#0#;#}#if#(#another#instanceof#Resource#)#{#Resource#r#=#(#Resource#)#another#;#FileProvider#otherFP#=#(#FileProvider#)#r#.#as#(#FileProvider#.#class#)#;#if#(#otherFP#!=#null#)#{#File#f#=#getFile#(#)#;#if#(#f#==#null#)#{#return#-#1#;#}#File#of#=#otherFP#.#getFile#(#)#;#if#(#of#==#null#)#{#return#1#;#}#return#f#.#compareTo#(#of#)#;#}#}#return#super#.#compareTo#(#another#)#;#}##boolean#equals#(#Object#another#)#{#if#(#this#==#another#)#{#return#true#;#}#if#(#isReference#(#)#)#{#return#getCheckedRef#(#)#.#equals#(#another#)#;#}#if#(#!#(#another#.#getClass#(#)#.#equals#(#getClass#(#)#)#)#)#{#return#false#;#}#FileResource#otherfr#=#(#FileResource#)#another#;#return#getFile#(#)#==#null#?#otherfr#.#getFile#(#)#==#null#:#getFile#(#)#.#equals#(#otherfr#.#getFile#(#)#)#;#}##int#hashCode#(#)#{#if#(#isReference#(#)#)#{#return#getCheckedRef#(#)#.#hashCode#(#)#;#}#return#MAGIC#*#(#getFile#(#)#==#null#?#NULL_FILE#:#getFile#(#)#.#hashCode#(#)#)#;#}##String#toString#(#)#{#if#(#isReference#(#)#)#{#return#getCheckedRef#(#)#.#toString#(#)#;#}#if#(#file#==#null#)#{#return#"(unbound file resource)"#;#}#String#absolutePath#=#file#.#getAbsolutePath#(#)#;#return#FILE_UTILS#.#normalize#(#absolutePath#)#.#getAbsolutePath#(#)#;#}##boolean#isFilesystemOnly#(#)#{#if#(#isReference#(#)#)#{#return#(#(#FileResource#)#getCheckedRef#(#)#)#.#isFilesystemOnly#(#)#;#}#dieOnCircularReference#(#)#;#return#true#;#}##void#touch#(#long#modTime#)#{#if#(#isReference#(#)#)#{#(#(#FileResource#)#getCheckedRef#(#)#)#.#touch#(#modTime#)#;#return#;#}#getNotNullFile#(#)#.#setLastModified#(#modTime#)#;#}##File#getNotNullFile#(#)#{#if#(#getFile#(#)#==#null#)#{#throw#new#BuildException#(#"file attribute is null!"#)#;#}#dieOnCircularReference#(#)#;#return#getFile#(#)#;#}##Resource#getResource#(#String#path#)#{#File#newfile#=#FILE_UTILS#.#resolveFile#(#getFile#(#)#,#path#)#;#FileResource#fileResource#=#new#FileResource#(#newfile#)#;#fileResource#.#setBaseDir#(#getBaseDir#(#)#)#;#return#fileResource#;#}##