void#setRefid#(#Reference#r#)#throws#BuildException#{#if#(#hasPatterns#(#defaultPatterns#)#)#{#throw#tooManyAttributes#(#)#;#}#if#(#!#additionalPatterns#.#isEmpty#(#)#)#{#throw#noChildrenAllowed#(#)#;#}#if#(#hasSelectors#(#)#)#{#throw#noChildrenAllowed#(#)#;#}#super#.#setRefid#(#r#)#;#}##PatternSet#createPatternSet#(#)#{#if#(#isReference#(#)#)#{#throw#noChildrenAllowed#(#)#;#}#PatternSet#patterns#=#new#PatternSet#(#)#;#additionalPatterns#.#addElement#(#patterns#)#;#ds#=#null#;#setChecked#(#false#)#;#return#patterns#;#}##PatternSet#.#NameEntry#createInclude#(#)#{#if#(#isReference#(#)#)#{#throw#noChildrenAllowed#(#)#;#}#ds#=#null#;#return#defaultPatterns#.#createInclude#(#)#;#}##PatternSet#.#NameEntry#createIncludesFile#(#)#{#if#(#isReference#(#)#)#{#throw#noChildrenAllowed#(#)#;#}#ds#=#null#;#return#defaultPatterns#.#createIncludesFile#(#)#;#}##PatternSet#.#NameEntry#createExclude#(#)#{#if#(#isReference#(#)#)#{#throw#noChildrenAllowed#(#)#;#}#ds#=#null#;#return#defaultPatterns#.#createExclude#(#)#;#}##PatternSet#.#NameEntry#createExcludesFile#(#)#{#if#(#isReference#(#)#)#{#throw#noChildrenAllowed#(#)#;#}#ds#=#null#;#return#defaultPatterns#.#createExcludesFile#(#)#;#}##void#setIncludes#(#String#includes#)#{#checkAttributesAllowed#(#)#;#defaultPatterns#.#setIncludes#(#includes#)#;#ds#=#null#;#}##void#appendIncludes#(#String#[#]#includes#)#{#checkAttributesAllowed#(#)#;#if#(#includes#!=#null#)#{#for#(#int#i#=#0#;#i#<#includes#.#length#;#i#++#)#{#defaultPatterns#.#createInclude#(#)#.#setName#(#includes#[#i#]#)#;#}#ds#=#null#;#}#}##void#setExcludes#(#String#excludes#)#{#checkAttributesAllowed#(#)#;#defaultPatterns#.#setExcludes#(#excludes#)#;#ds#=#null#;#}##void#appendExcludes#(#String#[#]#excludes#)#{#checkAttributesAllowed#(#)#;#if#(#excludes#!=#null#)#{#for#(#int#i#=#0#;#i#<#excludes#.#length#;#i#++#)#{#defaultPatterns#.#createExclude#(#)#.#setName#(#excludes#[#i#]#)#;#}#ds#=#null#;#}#}##void#setIncludesfile#(#File#incl#)#throws#BuildException#{#checkAttributesAllowed#(#)#;#defaultPatterns#.#setIncludesfile#(#incl#)#;#ds#=#null#;#}##void#setExcludesfile#(#File#excl#)#throws#BuildException#{#checkAttributesAllowed#(#)#;#defaultPatterns#.#setExcludesfile#(#excl#)#;#ds#=#null#;#}##void#setDefaultexcludes#(#boolean#useDefaultExcludes#)#{#checkAttributesAllowed#(#)#;#this#.#useDefaultExcludes#=#useDefaultExcludes#;#ds#=#null#;#}##boolean#getDefaultexcludes#(#)#{#return#(#isReference#(#)#)#?#getRef#(#)#.#getDefaultexcludes#(#)#:#useDefaultExcludes#;#}##void#setCaseSensitive#(#boolean#caseSensitive#)#{#checkAttributesAllowed#(#)#;#this#.#caseSensitive#=#caseSensitive#;#ds#=#null#;#}##boolean#isCaseSensitive#(#)#{#return#(#isReference#(#)#)#?#getRef#(#)#.#isCaseSensitive#(#)#:#caseSensitive#;#}##void#setFollowSymlinks#(#boolean#followSymlinks#)#{#checkAttributesAllowed#(#)#;#this#.#followSymlinks#=#followSymlinks#;#ds#=#null#;#}##boolean#isFollowSymlinks#(#)#{#return#(#isReference#(#)#)#?#getRef#(#)#.#isFollowSymlinks#(#)#:#followSymlinks#;#}##Iterator#iterator#(#)#{#if#(#isReference#(#)#)#{#return#getRef#(#)#.#iterator#(#)#;#}#ensureDirectoryScannerSetup#(#)#;#ds#.#scan#(#)#;#int#fct#=#ds#.#getIncludedFilesCount#(#)#;#int#dct#=#ds#.#getIncludedDirsCount#(#)#;#if#(#fct#+#dct#==#0#)#{#return#EMPTY_ITERATOR#;#}#FileResourceIterator#result#=#new#FileResourceIterator#(#getProject#(#)#)#;#if#(#fct#>#0#)#{#result#.#addFiles#(#ds#.#getIncludedFiles#(#)#)#;#}#if#(#dct#>#0#)#{#result#.#addFiles#(#ds#.#getIncludedDirectories#(#)#)#;#}#return#result#;#}##int#size#(#)#{#if#(#isReference#(#)#)#{#return#getRef#(#)#.#size#(#)#;#}#ensureDirectoryScannerSetup#(#)#;#ds#.#scan#(#)#;#return#ds#.#getIncludedFilesCount#(#)#+#ds#.#getIncludedDirsCount#(#)#;#}##boolean#hasPatterns#(#)#{#if#(#isReference#(#)#)#{#return#getRef#(#)#.#hasPatterns#(#)#;#}#dieOnCircularReference#(#)#;#if#(#hasPatterns#(#defaultPatterns#)#)#{#return#true#;#}#for#(#Iterator#i#=#additionalPatterns#.#iterator#(#)#;#i#.#hasNext#(#)#;#)#{#if#(#hasPatterns#(#(#PatternSet#)#i#.#next#(#)#)#)#{#return#true#;#}#}#return#false#;#}##void#appendSelector#(#FileSelector#selector#)#{#if#(#isReference#(#)#)#{#throw#noChildrenAllowed#(#)#;#}#super#.#appendSelector#(#selector#)#;#ds#=#null#;#}##String#toString#(#)#{#if#(#isReference#(#)#)#{#return#getRef#(#)#.#toString#(#)#;#}#Iterator#i#=#iterator#(#)#;#if#(#!#i#.#hasNext#(#)#)#{#return#""#;#}#StringBuffer#sb#=#new#StringBuffer#(#)#;#while#(#i#.#hasNext#(#)#)#{#if#(#sb#.#length#(#)#>#0#)#{#sb#.#append#(#File#.#pathSeparatorChar#)#;#}#sb#.#append#(#i#.#next#(#)#)#;#}#return#sb#.#toString#(#)#;#}##Object#clone#(#)#{#if#(#isReference#(#)#)#{#return#getRef#(#)#.#clone#(#)#;#}#Files#f#=#(#Files#)#super#.#clone#(#)#;#f#.#defaultPatterns#=#(#PatternSet#)#defaultPatterns#.#clone#(#)#;#f#.#additionalPatterns#=#new#Vector#(#additionalPatterns#.#size#(#)#)#;#for#(#Iterator#iter#=#additionalPatterns#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#PatternSet#ps#=#(#PatternSet#)#iter#.#next#(#)#;#f#.#additionalPatterns#.#add#(#ps#.#clone#(#)#)#;#}#return#f#;#}##String#[#]#mergeIncludes#(#Project#p#)#{#return#mergePatterns#(#p#)#.#getIncludePatterns#(#p#)#;#}##String#[#]#mergeExcludes#(#Project#p#)#{#return#mergePatterns#(#p#)#.#getExcludePatterns#(#p#)#;#}##PatternSet#mergePatterns#(#Project#p#)#{#if#(#isReference#(#)#)#{#return#getRef#(#)#.#mergePatterns#(#p#)#;#}#dieOnCircularReference#(#)#;#PatternSet#ps#=#new#PatternSet#(#)#;#ps#.#append#(#defaultPatterns#,#p#)#;#final#int#count#=#additionalPatterns#.#size#(#)#;#for#(#int#i#=#0#;#i#<#count#;#i#++#)#{#Object#o#=#additionalPatterns#.#elementAt#(#i#)#;#ps#.#append#(#(#PatternSet#)#o#,#p#)#;#}#return#ps#;#}##boolean#isFilesystemOnly#(#)#{#return#true#;#}##Files#getRef#(#)#{#return#(#Files#)#getCheckedRef#(#)#;#}##void#ensureDirectoryScannerSetup#(#)#{#dieOnCircularReference#(#)#;#if#(#ds#==#null#)#{#ds#=#new#DirectoryScanner#(#)#;#PatternSet#ps#=#mergePatterns#(#getProject#(#)#)#;#ds#.#setIncludes#(#ps#.#getIncludePatterns#(#getProject#(#)#)#)#;#ds#.#setExcludes#(#ps#.#getExcludePatterns#(#getProject#(#)#)#)#;#ds#.#setSelectors#(#getSelectors#(#getProject#(#)#)#)#;#if#(#useDefaultExcludes#)#{#ds#.#addDefaultExcludes#(#)#;#}#ds#.#setCaseSensitive#(#caseSensitive#)#;#ds#.#setFollowSymlinks#(#followSymlinks#)#;#}#}##boolean#hasPatterns#(#PatternSet#ps#)#{#String#[#]#includePatterns#=#ps#.#getIncludePatterns#(#getProject#(#)#)#;#String#[#]#excludePatterns#=#ps#.#getExcludePatterns#(#getProject#(#)#)#;#return#(#includePatterns#!=#null#&&#includePatterns#.#length#>#0#)#||#(#includePatterns#!=#null#&&#excludePatterns#.#length#>#0#)#;#}##