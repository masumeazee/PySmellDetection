void#setMillis#(#long#m#)#{#millis#=#new#Long#(#m#)#;#}##long#getMillis#(#)#{#return#millis#==#null#?#-#1L#:#millis#.#longValue#(#)#;#}##void#setDateTime#(#String#s#)#{#dateTime#=#s#;#millis#=#null#;#}##String#getDatetime#(#)#{#return#dateTime#;#}##void#setGranularity#(#long#g#)#{#granularity#=#g#;#}##long#getGranularity#(#)#{#return#granularity#;#}##void#setPattern#(#String#p#)#{#pattern#=#p#;#}##String#getPattern#(#)#{#return#pattern#;#}##void#setWhen#(#TimeComparison#c#)#{#when#=#c#;#}##TimeComparison#getWhen#(#)#{#return#when#;#}##boolean#isSelected#(#Resource#r#)#{#if#(#dateTime#==#null#&&#millis#==#null#)#{#throw#new#BuildException#(#MILLIS_OR_DATETIME#)#;#}#if#(#millis#==#null#)#{#DateFormat#df#=#(#(#pattern#==#null#)#?#DateFormat#.#getDateTimeInstance#(#DateFormat#.#SHORT#,#DateFormat#.#SHORT#,#Locale#.#US#)#:#new#SimpleDateFormat#(#pattern#)#)#;#try#{#long#m#=#df#.#parse#(#dateTime#)#.#getTime#(#)#;#if#(#m#<#0#)#{#throw#new#BuildException#(#"Date of "#+#dateTime#+#" results in negative milliseconds value"#+#" relative to epoch (January 1, 1970, 00:00:00 GMT)."#)#;#}#setMillis#(#m#)#;#}#catch#(#ParseException#pe#)#{#throw#new#BuildException#(#"Date of "#+#dateTime#+#" Cannot be parsed correctly. It should be in"#+#(#pattern#==#null#?#" MM/DD/YYYY HH:MM AM_PM"#:#pattern#)#+#" format."#)#;#}#}#return#when#.#evaluate#(#r#.#getLastModified#(#)#,#millis#.#longValue#(#)#,#granularity#)#;#}##