String#toString#(#)#{#StringBuffer#buf#=#new#StringBuffer#(#"{typeselector type: "#)#;#buf#.#append#(#type#)#;#buf#.#append#(#"}"#)#;#return#buf#.#toString#(#)#;#}##void#setType#(#FileType#fileTypes#)#{#this#.#type#=#fileTypes#.#getValue#(#)#;#}##void#setParameters#(#Parameter#[#]#parameters#)#{#super#.#setParameters#(#parameters#)#;#if#(#parameters#!=#null#)#{#for#(#int#i#=#0#;#i#<#parameters#.#length#;#i#++#)#{#String#paramname#=#parameters#[#i#]#.#getName#(#)#;#if#(#TYPE_KEY#.#equalsIgnoreCase#(#paramname#)#)#{#FileType#t#=#new#FileType#(#)#;#t#.#setValue#(#parameters#[#i#]#.#getValue#(#)#)#;#setType#(#t#)#;#}#else#{#setError#(#"Invalid parameter "#+#paramname#)#;#}#}#}#}##void#verifySettings#(#)#{#if#(#type#==#null#)#{#setError#(#"The type attribute is required"#)#;#}#}##boolean#isSelected#(#File#basedir#,#String#filename#,#File#file#)#{#// throw BuildException on error#validate#(#)#;#if#(#file#.#isDirectory#(#)#)#{#return#type#.#equals#(#FileType#.#DIR#)#;#}#else#{#return#type#.#equals#(#FileType#.#FILE#)#;#}#}##String#[#]#getValues#(#)#{#return#new#String#[#]#{#FILE#,#DIR#}#;#}##