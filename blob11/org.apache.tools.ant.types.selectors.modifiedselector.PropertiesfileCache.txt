void#setCachefile#(#File#file#)#{#cachefile#=#file#;#}##File#getCachefile#(#)#{#return#cachefile#;#}##boolean#isValid#(#)#{#return#(#cachefile#!=#null#)#;#}##void#load#(#)#{#if#(#(#cachefile#!=#null#)#&&#cachefile#.#isFile#(#)#&&#cachefile#.#canRead#(#)#)#{#try#{#BufferedInputStream#bis#=#new#BufferedInputStream#(#new#FileInputStream#(#cachefile#)#)#;#cache#.#load#(#bis#)#;#bis#.#close#(#)#;#}#catch#(#Exception#e#)#{#e#.#printStackTrace#(#)#;#}#}#// after loading the cache is up to date with the file#cacheLoaded#=#true#;#cacheDirty#=#false#;#}##void#save#(#)#{#if#(#!#cacheDirty#)#{#return#;#}#if#(#(#cachefile#!=#null#)#&&#cache#.#propertyNames#(#)#.#hasMoreElements#(#)#)#{#try#{#BufferedOutputStream#bos#=#new#BufferedOutputStream#(#new#FileOutputStream#(#cachefile#)#)#;#cache#.#store#(#bos#,#null#)#;#bos#.#flush#(#)#;#bos#.#close#(#)#;#}#catch#(#Exception#e#)#{#e#.#printStackTrace#(#)#;#}#}#cacheDirty#=#false#;#}##void#delete#(#)#{#cache#=#new#Properties#(#)#;#cachefile#.#delete#(#)#;#cacheLoaded#=#true#;#cacheDirty#=#false#;#}##Object#get#(#Object#key#)#{#if#(#!#cacheLoaded#)#{#load#(#)#;#}#try#{#return#cache#.#getProperty#(#String#.#valueOf#(#key#)#)#;#}#catch#(#ClassCastException#e#)#{#return#null#;#}#}##void#put#(#Object#key#,#Object#value#)#{#cache#.#put#(#String#.#valueOf#(#key#)#,#String#.#valueOf#(#value#)#)#;#cacheDirty#=#true#;#}##Iterator#iterator#(#)#{#Vector#v#=#new#java#.#util#.#Vector#(#)#;#Enumeration#en#=#cache#.#propertyNames#(#)#;#while#(#en#.#hasMoreElements#(#)#)#{#v#.#add#(#en#.#nextElement#(#)#)#;#}#return#v#.#iterator#(#)#;#}##String#toString#(#)#{#StringBuffer#buf#=#new#StringBuffer#(#)#;#buf#.#append#(#"<PropertiesfileCache:"#)#;#buf#.#append#(#"cachefile="#)#.#append#(#cachefile#)#;#buf#.#append#(#";noOfEntries="#)#.#append#(#cache#.#size#(#)#)#;#buf#.#append#(#">"#)#;#return#buf#.#toString#(#)#;#}##