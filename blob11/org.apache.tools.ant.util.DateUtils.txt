String#format#(#long#date#,#String#pattern#)#{#return#format#(#new#Date#(#date#)#,#pattern#)#;#}##String#format#(#Date#date#,#String#pattern#)#{#DateFormat#df#=#createDateFormat#(#pattern#)#;#return#df#.#format#(#date#)#;#}##String#formatElapsedTime#(#long#millis#)#{#long#seconds#=#millis#/#ONE_SECOND#;#long#minutes#=#seconds#/#ONE_MINUTE#;#Object#[#]#args#=#{#new#Long#(#minutes#)#,#new#Long#(#seconds#%#ONE_MINUTE#)#}#;#return#MINUTE_SECONDS#.#format#(#args#)#;#}##DateFormat#createDateFormat#(#String#pattern#)#{#SimpleDateFormat#sdf#=#new#SimpleDateFormat#(#pattern#)#;#TimeZone#gmt#=#TimeZone#.#getTimeZone#(#"GMT"#)#;#sdf#.#setTimeZone#(#gmt#)#;#sdf#.#setLenient#(#true#)#;#return#sdf#;#}##int#getPhaseOfMoon#(#Calendar#cal#)#{#// CheckStyle:MagicNumber OFF#int#dayOfTheYear#=#cal#.#get#(#Calendar#.#DAY_OF_YEAR#)#;#int#yearInMetonicCycle#=#(#(#cal#.#get#(#Calendar#.#YEAR#)#-#1900#)#%#19#)#+#1#;#int#epact#=#(#11#*#yearInMetonicCycle#+#18#)#%#30#;#if#(#(#epact#==#25#&&#yearInMetonicCycle#>#11#)#||#epact#==#24#)#{#epact#++#;#}#return#(#(#(#(#(#dayOfTheYear#+#epact#)#*#6#)#+#11#)#%#177#)#/#22#)#&#7#;#// CheckStyle:MagicNumber ON#}##String#getDateForHeader#(#)#{#Calendar#cal#=#Calendar#.#getInstance#(#)#;#TimeZone#tz#=#cal#.#getTimeZone#(#)#;#int#offset#=#tz#.#getOffset#(#cal#.#get#(#Calendar#.#ERA#)#,#cal#.#get#(#Calendar#.#YEAR#)#,#cal#.#get#(#Calendar#.#MONTH#)#,#cal#.#get#(#Calendar#.#DAY_OF_MONTH#)#,#cal#.#get#(#Calendar#.#DAY_OF_WEEK#)#,#cal#.#get#(#Calendar#.#MILLISECOND#)#)#;#StringBuffer#tzMarker#=#new#StringBuffer#(#offset#<#0#?#"-"#:#"+"#)#;#offset#=#Math#.#abs#(#offset#)#;#int#hours#=#offset#/#(#ONE_HOUR#*#ONE_MINUTE#*#ONE_SECOND#)#;#int#minutes#=#offset#/#(#ONE_MINUTE#*#ONE_SECOND#)#-#ONE_HOUR#*#hours#;#if#(#hours#<#TEN#)#{#tzMarker#.#append#(#"0"#)#;#}#tzMarker#.#append#(#hours#)#;#if#(#minutes#<#TEN#)#{#tzMarker#.#append#(#"0"#)#;#}#tzMarker#.#append#(#minutes#)#;#synchronized#(#DATE_HEADER_FORMAT_INT#)#{#return#DATE_HEADER_FORMAT_INT#.#format#(#cal#.#getTime#(#)#)#+#tzMarker#.#toString#(#)#;#}#}##Date#parseDateFromHeader#(#String#datestr#)#throws#ParseException#{#synchronized#(#DATE_HEADER_FORMAT_INT#)#{#return#DATE_HEADER_FORMAT_INT#.#parse#(#datestr#)#;#}#}##Date#parseIso8601DateTime#(#String#datestr#)#throws#ParseException#{#return#new#SimpleDateFormat#(#ISO8601_DATETIME_PATTERN#)#.#parse#(#datestr#)#;#}##Date#parseIso8601Date#(#String#datestr#)#throws#ParseException#{#return#new#SimpleDateFormat#(#ISO8601_DATE_PATTERN#)#.#parse#(#datestr#)#;#}##Date#parseIso8601DateTimeOrDate#(#String#datestr#)#throws#ParseException#{#try#{#return#parseIso8601DateTime#(#datestr#)#;#}#catch#(#ParseException#px#)#{#return#parseIso8601Date#(#datestr#)#;#}#}##