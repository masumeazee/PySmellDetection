int#read#(#)#throws#IOException#{#if#(#in#==#null#)#{#throw#new#IOException#(#"Stream Closed"#)#;#}#byte#result#;#if#(#slack#!=#null#&&#begin#<#slack#.#length#)#{#result#=#slack#[#begin#]#;#if#(#++#begin#==#slack#.#length#)#{#slack#=#null#;#}#}#else#{#byte#[#]#buf#=#new#byte#[#1#]#;#if#(#read#(#buf#,#0#,#1#)#<=#0#)#{#return#-#1#;#}#else#{#result#=#buf#[#0#]#;#}#}#return#result#&#BYTE_MASK#;#}##int#read#(#byte#[#]#b#,#int#off#,#int#len#)#throws#IOException#{#if#(#in#==#null#)#{#throw#new#IOException#(#"Stream Closed"#)#;#}#if#(#len#==#0#)#{#return#0#;#}#while#(#slack#==#null#)#{#char#[#]#buf#=#new#char#[#len#]#;#// might read too much#int#n#=#in#.#read#(#buf#)#;#if#(#n#==#-#1#)#{#return#-#1#;#}#if#(#n#>#0#)#{#slack#=#new#String#(#buf#,#0#,#n#)#.#getBytes#(#encoding#)#;#begin#=#0#;#}#}#if#(#len#>#slack#.#length#-#begin#)#{#len#=#slack#.#length#-#begin#;#}#System#.#arraycopy#(#slack#,#begin#,#b#,#off#,#len#)#;#begin#+=#len#;#if#(#begin#>=#slack#.#length#)#{#slack#=#null#;#}#return#len#;#}##void#mark#(#final#int#limit#)#{#try#{#in#.#mark#(#limit#)#;#}#catch#(#IOException#ioe#)#{#throw#new#RuntimeException#(#ioe#.#getMessage#(#)#)#;#}#}##int#available#(#)#throws#IOException#{#if#(#in#==#null#)#{#throw#new#IOException#(#"Stream Closed"#)#;#}#if#(#slack#!=#null#)#{#return#slack#.#length#-#begin#;#}#if#(#in#.#ready#(#)#)#{#return#1#;#}#return#0#;#}##boolean#markSupported#(#)#{#return#false#;#// would be imprecise#}##void#reset#(#)#throws#IOException#{#if#(#in#==#null#)#{#throw#new#IOException#(#"Stream Closed"#)#;#}#slack#=#null#;#in#.#reset#(#)#;#}##void#close#(#)#throws#IOException#{#if#(#in#!=#null#)#{#in#.#close#(#)#;#slack#=#null#;#in#=#null#;#}#}##