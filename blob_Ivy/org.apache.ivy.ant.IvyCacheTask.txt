List#getArtifactReports#(#)#throws#BuildException#,#ParseException#,#IOException#{#Collection#artifacts#=#getAllArtifactReports#(#)#;#List#ret#=#new#ArrayList#(#)#;#for#(#Iterator#iter#=#artifacts#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#ArtifactDownloadReport#artifactReport#=#(#ArtifactDownloadReport#)#iter#.#next#(#)#;#if#(#getArtifactFilter#(#)#.#accept#(#artifactReport#.#getArtifact#(#)#)#)#{#ret#.#add#(#artifactReport#)#;#}#}#return#ret#;#}##Collection#getAllArtifactReports#(#)#throws#ParseException#,#IOException#{#String#[#]#confs#=#splitConfs#(#getConf#(#)#)#;#Collection#all#=#new#LinkedHashSet#(#)#;#ResolveReport#report#=#getResolvedReport#(#)#;#if#(#report#!=#null#)#{#Message#.#debug#(#"using internal report instance to get artifacts list"#)#;#for#(#int#i#=#0#;#i#<#confs#.#length#;#i#++#)#{#ConfigurationResolveReport#configurationReport#=#report#.#getConfigurationReport#(#confs#[#i#]#)#;#if#(#configurationReport#==#null#)#{#throw#new#BuildException#(#"bad confs provided: "#+#confs#[#i#]#+#" not found among "#+#Arrays#.#asList#(#report#.#getConfigurations#(#)#)#)#;#}#Set#revisions#=#configurationReport#.#getModuleRevisionIds#(#)#;#for#(#Iterator#it#=#revisions#.#iterator#(#)#;#it#.#hasNext#(#)#;#)#{#ModuleRevisionId#revId#=#(#ModuleRevisionId#)#it#.#next#(#)#;#ArtifactDownloadReport#[#]#aReports#=#configurationReport#.#getDownloadReports#(#revId#)#;#all#.#addAll#(#Arrays#.#asList#(#aReports#)#)#;#}#}#}#else#{#Message#.#debug#(#"using stored report to get artifacts list"#)#;#XmlReportParser#parser#=#new#XmlReportParser#(#)#;#ResolutionCacheManager#cacheMgr#=#getIvyInstance#(#)#.#getResolutionCacheManager#(#)#;#String#resolvedId#=#getResolveId#(#)#;#if#(#resolvedId#==#null#)#{#resolvedId#=#ResolveOptions#.#getDefaultResolveId#(#getResolvedModuleId#(#)#)#;#}#for#(#int#i#=#0#;#i#<#confs#.#length#;#i#++#)#{#File#reportFile#=#cacheMgr#.#getConfigurationResolveReportInCache#(#resolvedId#,#confs#[#i#]#)#;#parser#.#parse#(#reportFile#)#;#ArtifactDownloadReport#[#]#aReports#=#parser#.#getArtifactReports#(#)#;#all#.#addAll#(#Arrays#.#asList#(#aReports#)#)#;#}#}#return#all#;#}##