boolean#doValidate#(#IvySettings#ivy#)#{#if#(#validate#!=#null#)#{#return#validate#.#booleanValue#(#)#;#}#return#ivy#.#doValidate#(#)#;#}##boolean#isValidate#(#)#{#return#validate#==#null#?#true#:#validate#.#booleanValue#(#)#;#}##void#setValidate#(#boolean#validate#)#{#this#.#validate#=#Boolean#.#valueOf#(#validate#)#;#}##void#setSettingsRef#(#Reference#ref#)#{#antIvyEngineRef#=#ref#;#}##Reference#getSettingsRef#(#)#{#return#antIvyEngineRef#;#}##IvySettings#getSettings#(#)#{#return#getIvyInstance#(#)#.#getSettings#(#)#;#}##Ivy#getIvyInstance#(#)#{#Object#antIvyEngine#;#if#(#antIvyEngineRef#!=#null#)#{#antIvyEngine#=#antIvyEngineRef#.#getReferencedObject#(#getProject#(#)#)#;#if#(#!#antIvyEngine#.#getClass#(#)#.#getName#(#)#.#equals#(#IvyAntSettings#.#class#.#getName#(#)#)#)#{#throw#new#BuildException#(#antIvyEngineRef#.#getRefId#(#)#+#" doesn't reference an ivy:settings"#,#getLocation#(#)#)#;#}#if#(#!#(#antIvyEngine#instanceof#IvyAntSettings#)#)#{#throw#new#BuildException#(#antIvyEngineRef#.#getRefId#(#)#+#" has been defined in a different classloader.  "#+#"Please use the same loader when defining your task, or "#+#"redeclare your ivy:settings in this classloader"#,#getLocation#(#)#)#;#}#}#else#{#antIvyEngine#=#IvyAntSettings#.#getDefaultInstance#(#this#)#;#}#Ivy#ivy#=#(#(#IvyAntSettings#)#antIvyEngine#)#.#getConfiguredIvyInstance#(#this#)#;#AntMessageLogger#.#register#(#this#,#ivy#)#;#return#ivy#;#}##void#setResolved#(#ResolveReport#report#,#boolean#keep#)#{#ModuleDescriptor#md#=#report#.#getModuleDescriptor#(#)#;#String#[#]#confs#=#report#.#getConfigurations#(#)#;#if#(#keep#)#{#getProject#(#)#.#addReference#(#"ivy.resolved.report"#,#report#)#;#getProject#(#)#.#addReference#(#"ivy.resolved.configurations.ref"#,#confs#)#;#getProject#(#)#.#addReference#(#"ivy.resolved.descriptor"#,#md#)#;#}#String#suffix#=#md#.#getModuleRevisionId#(#)#.#getModuleId#(#)#.#getOrganisation#(#)#+#"."#+#md#.#getModuleRevisionId#(#)#.#getModuleId#(#)#.#getName#(#)#;#getProject#(#)#.#addReference#(#"ivy.resolved.report."#+#suffix#,#report#)#;#getProject#(#)#.#addReference#(#"ivy.resolved.descriptor."#+#suffix#,#md#)#;#getProject#(#)#.#addReference#(#"ivy.resolved.configurations.ref."#+#suffix#,#confs#)#;#}##void#setResolved#(#ResolveReport#report#,#String#resolveId#,#boolean#keep#)#{#setResolved#(#report#,#keep#)#;#if#(#resolveId#!=#null#)#{#ModuleDescriptor#md#=#report#.#getModuleDescriptor#(#)#;#String#[#]#confs#=#report#.#getConfigurations#(#)#;#getProject#(#)#.#addReference#(#"ivy.resolved.report."#+#resolveId#,#report#)#;#getProject#(#)#.#addReference#(#"ivy.resolved.descriptor."#+#resolveId#,#md#)#;#getProject#(#)#.#addReference#(#"ivy.resolved.configurations.ref."#+#resolveId#,#confs#)#;#}#}##String#[#]#getResolvedConfigurations#(#String#org#,#String#module#,#boolean#strict#)#{#return#(#String#[#]#)#getReference#(#"ivy.resolved.configurations.ref"#,#org#,#module#,#strict#)#;#}##Object#getResolvedDescriptor#(#String#resolveId#)#{#return#getResolvedDescriptor#(#resolveId#,#true#)#;#}##Object#getResolvedDescriptor#(#String#resolveId#,#boolean#strict#)#{#Object#result#=#getProject#(#)#.#getReference#(#"ivy.resolved.descriptor."#+#resolveId#)#;#if#(#strict#&&#(#result#==#null#)#)#{#throw#new#BuildException#(#"ModuleDescriptor for resolve with id '"#+#resolveId#+#"' not found."#)#;#}#return#result#;#}##Object#getResolvedDescriptor#(#String#org#,#String#module#)#{#return#getResolvedDescriptor#(#org#,#module#,#false#)#;#}##Object#getResolvedDescriptor#(#String#org#,#String#module#,#boolean#strict#)#{#return#getReference#(#"ivy.resolved.descriptor"#,#org#,#module#,#strict#)#;#}##Object#getReference#(#String#prefix#,#String#org#,#String#module#,#boolean#strict#)#{#Object#reference#=#null#;#if#(#org#!=#null#&&#module#!=#null#)#{#reference#=#getProject#(#)#.#getReference#(#prefix#+#"."#+#org#+#"."#+#module#)#;#}#if#(#!#strict#&&#reference#==#null#)#{#reference#=#getProject#(#)#.#getReference#(#prefix#)#;#}#return#reference#;#}##ResolveReport#getResolvedReport#(#String#org#,#String#module#,#String#resolveId#)#{#ResolveReport#result#=#null#;#if#(#resolveId#==#null#)#{#result#=#(#ResolveReport#)#getReference#(#"ivy.resolved.report"#,#org#,#module#,#false#)#;#}#else#{#result#=#(#ResolveReport#)#getReference#(#"ivy.resolved.report."#+#resolveId#,#null#,#null#,#false#)#;#}#return#result#;#}##String#[#]#splitConfs#(#String#conf#)#{#if#(#conf#==#null#)#{#return#null#;#}#String#[#]#confs#=#conf#.#split#(#","#)#;#for#(#int#i#=#0#;#i#<#confs#.#length#;#i#++#)#{#confs#[#i#]#=#confs#[#i#]#.#trim#(#)#;#}#return#confs#;#}##String#mergeConfs#(#String#[#]#conf#)#{#return#StringUtils#.#join#(#conf#,#", "#)#;#}##Date#getPubDate#(#String#date#,#Date#def#)#{#if#(#date#!=#null#)#{#if#(#"now"#.#equals#(#date#.#toLowerCase#(#Locale#.#US#)#)#)#{#return#new#Date#(#)#;#}#try#{#return#DATE_FORMAT#.#parse#(#date#)#;#}#catch#(#Exception#ex#)#{#throw#new#BuildException#(#"publication date provided in bad format. should be yyyyMMddHHmmss and not "#+#date#)#;#}#}#else#{#return#def#;#}#}##String#getProperty#(#String#value#,#IvySettings#ivy#,#String#name#)#{#if#(#value#==#null#)#{#return#getProperty#(#ivy#,#name#)#;#}#else#{#value#=#ivy#.#substitute#(#value#)#;#Message#.#debug#(#"parameter found as attribute value: "#+#name#+#"="#+#value#)#;#return#value#;#}#}##String#getProperty#(#String#value#,#IvySettings#ivy#,#String#name#,#String#resolveId#)#{#if#(#resolveId#==#null#)#{#return#getProperty#(#value#,#ivy#,#name#)#;#}#else#{#return#getProperty#(#value#,#ivy#,#name#+#"."#+#resolveId#)#;#}#}##String#getProperty#(#IvySettings#ivy#,#String#name#,#String#resolveId#)#{#if#(#resolveId#==#null#)#{#return#getProperty#(#ivy#,#name#)#;#}#else#{#return#getProperty#(#ivy#,#name#+#"."#+#resolveId#)#;#}#}##String#getProperty#(#IvySettings#ivy#,#String#name#)#{#String#val#=#ivy#.#getVariable#(#name#)#;#if#(#val#==#null#)#{#val#=#ivy#.#substitute#(#getProject#(#)#.#getProperty#(#name#)#)#;#if#(#val#!=#null#)#{#Message#.#debug#(#"parameter found as ant project property: "#+#name#+#"="#+#val#)#;#}#else#{#Message#.#debug#(#"parameter not found: "#+#name#)#;#}#}#else#{#val#=#ivy#.#substitute#(#val#)#;#Message#.#debug#(#"parameter found as ivy variable: "#+#name#+#"="#+#val#)#;#}#return#val#;#}##void#prepareTask#(#)#{#getProject#(#)#.#setProperty#(#"ivy.version"#,#Ivy#.#getIvyVersion#(#)#)#;#// push current project and Ivy on the stack in context#IvyContext#.#pushNewCopyContext#(#)#;#IvyContext#.#getContext#(#)#.#setIvy#(#getIvyInstance#(#)#)#;#IvyContext#.#getContext#(#)#.#push#(#ANT_PROJECT_CONTEXT_KEY#,#getProject#(#)#)#;#}##void#finalizeTask#(#)#{#if#(#!#IvyContext#.#getContext#(#)#.#pop#(#ANT_PROJECT_CONTEXT_KEY#,#getProject#(#)#)#)#{#Message#.#error#(#"ANT project poped from stack not equals current !. Ignoring"#)#;#}#IvyContext#.#popContext#(#)#;#}##void#execute#(#)#throws#BuildException#{#try#{#prepareTask#(#)#;#doExecute#(#)#;#}#finally#{#finalizeTask#(#)#;#}#}##void#doExecute#(#)#throws#BuildException#;##String#toString#(#)#{#return#getClass#(#)#.#getName#(#)#+#":"#+#getTaskName#(#)#;#}##void#cacheAttributeNotSupported#(#)#{#throw#new#BuildException#(#"cache attribute is not supported any more. See IVY-685 for details."#)#;#}##