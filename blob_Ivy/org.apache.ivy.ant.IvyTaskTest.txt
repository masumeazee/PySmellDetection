void#testDefaultSettings#(#)#throws#MalformedURLException#{#Project#p#=#new#Project#(#)#;#p#.#setBasedir#(#"test/repositories"#)#;#p#.#setProperty#(#"myproperty"#,#"myvalue"#)#;#IvyTask#task#=#new#IvyTask#(#)#{#public#void#doExecute#(#)#throws#BuildException#{#}#}#;#task#.#setProject#(#p#)#;#Ivy#ivy#=#task#.#getIvyInstance#(#)#;#assertNotNull#(#ivy#)#;#IvySettings#settings#=#ivy#.#getSettings#(#)#;#assertNotNull#(#settings#)#;#assertEquals#(#new#File#(#"test/repositories/build/cache"#)#.#getAbsoluteFile#(#)#,#settings#.#getDefaultCache#(#)#)#;#// The next test doesn't always works on windows (mix C: and c: drive)#assertEquals#(#new#File#(#"test/repositories/ivysettings.xml"#)#.#getAbsolutePath#(#)#.#toUpperCase#(#)#,#new#File#(#(#String#)#settings#.#getVariables#(#)#.#getVariable#(#"ivy.settings.file"#)#)#.#getAbsolutePath#(#)#.#toUpperCase#(#)#)#;#assertEquals#(#new#File#(#"test/repositories/ivysettings.xml"#)#.#toURI#(#)#.#toURL#(#)#.#toExternalForm#(#)#.#toUpperCase#(#)#,#(#(#String#)#settings#.#getVariables#(#)#.#getVariable#(#"ivy.settings.url"#)#)#.#toUpperCase#(#)#)#;#assertEquals#(#new#File#(#"test/repositories"#)#.#getAbsolutePath#(#)#.#toUpperCase#(#)#,#(#(#String#)#settings#.#getVariables#(#)#.#getVariable#(#"ivy.settings.dir"#)#)#.#toUpperCase#(#)#)#;#assertEquals#(#"myvalue"#,#settings#.#getVariables#(#)#.#getVariable#(#"myproperty"#)#)#;#}##void#doExecute#(#)#throws#BuildException#{#}##void#testReferencedSettings#(#)#throws#MalformedURLException#{#Project#p#=#new#Project#(#)#;#p#.#setProperty#(#"myproperty"#,#"myvalue"#)#;#IvyAntSettings#antSettings#=#new#IvyAntSettings#(#)#;#antSettings#.#setProject#(#p#)#;#// antSettings.setId("mySettings");#antSettings#.#setFile#(#new#File#(#"test/repositories/ivysettings.xml"#)#)#;#p#.#addReference#(#"mySettings"#,#antSettings#)#;#IvyTask#task#=#new#IvyTask#(#)#{#public#void#doExecute#(#)#throws#BuildException#{#}#}#;#task#.#setProject#(#p#)#;#task#.#setSettingsRef#(#new#Reference#(#"mySettings"#)#)#;#Ivy#ivy#=#task#.#getIvyInstance#(#)#;#assertNotNull#(#ivy#)#;#IvySettings#settings#=#ivy#.#getSettings#(#)#;#assertNotNull#(#settings#)#;#assertEquals#(#new#File#(#"build/cache"#)#.#getAbsoluteFile#(#)#,#settings#.#getDefaultCache#(#)#)#;#assertEquals#(#new#File#(#"test/repositories/ivysettings.xml"#)#.#getAbsolutePath#(#)#,#settings#.#getVariables#(#)#.#getVariable#(#"ivy.settings.file"#)#)#;#assertEquals#(#new#File#(#"test/repositories/ivysettings.xml"#)#.#toURI#(#)#.#toURL#(#)#.#toExternalForm#(#)#,#settings#.#getVariables#(#)#.#getVariable#(#"ivy.settings.url"#)#)#;#assertEquals#(#new#File#(#"test/repositories"#)#.#getAbsolutePath#(#)#,#settings#.#getVariables#(#)#.#getVariable#(#"ivy.settings.dir"#)#)#;#assertEquals#(#"myvalue"#,#settings#.#getVariables#(#)#.#getVariable#(#"myproperty"#)#)#;#}##void#doExecute#(#)#throws#BuildException#{#}##void#testIvyVersionAsAntProperty#(#)#{#Project#p#=#new#Project#(#)#;#p#.#setBasedir#(#"test/repositories"#)#;#IvyTask#task#=#new#IvyTask#(#)#{#public#void#doExecute#(#)#throws#BuildException#{#}#}#;#task#.#setProject#(#p#)#;#task#.#execute#(#)#;#assertNotNull#(#p#.#getProperty#(#"ivy.version"#)#)#;#}##void#doExecute#(#)#throws#BuildException#{#}##