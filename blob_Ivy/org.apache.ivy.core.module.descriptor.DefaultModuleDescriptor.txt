DefaultModuleDescriptor#newDefaultInstance#(#ModuleRevisionId#mrid#)#{#return#newDefaultInstance#(#mrid#,#null#)#;#}##DefaultModuleDescriptor#newCallerInstance#(#ModuleRevisionId#mrid#,#String#[#]#confs#,#boolean#transitive#,#boolean#changing#)#{#DefaultModuleDescriptor#moduleDescriptor#=#new#DefaultModuleDescriptor#(#ModuleRevisionId#.#newInstance#(#mrid#.#getOrganisation#(#)#,#mrid#.#getName#(#)#+#"-caller"#,#"working"#)#,#"integration"#,#null#,#true#)#;#for#(#int#i#=#0#;#i#<#confs#.#length#;#i#++#)#{#moduleDescriptor#.#addConfiguration#(#new#Configuration#(#confs#[#i#]#)#)#;#}#moduleDescriptor#.#setLastModified#(#System#.#currentTimeMillis#(#)#)#;#DefaultDependencyDescriptor#dd#=#new#DefaultDependencyDescriptor#(#moduleDescriptor#,#mrid#,#true#,#changing#,#transitive#)#;#for#(#int#j#=#0#;#j#<#confs#.#length#;#j#++#)#{#dd#.#addDependencyConfiguration#(#confs#[#j#]#,#confs#[#j#]#)#;#}#moduleDescriptor#.#addDependency#(#dd#)#;#return#moduleDescriptor#;#}##DefaultModuleDescriptor#newCallerInstance#(#ModuleRevisionId#[#]#mrid#,#boolean#transitive#,#boolean#changing#)#{#DefaultModuleDescriptor#moduleDescriptor#=#new#DefaultModuleDescriptor#(#ModuleRevisionId#.#newInstance#(#"caller"#,#"all-caller"#,#"working"#)#,#"integration"#,#null#,#true#)#;#moduleDescriptor#.#addConfiguration#(#new#Configuration#(#DEFAULT_CONFIGURATION#)#)#;#moduleDescriptor#.#setLastModified#(#System#.#currentTimeMillis#(#)#)#;#for#(#int#i#=#0#;#i#<#mrid#.#length#;#i#++#)#{#DefaultDependencyDescriptor#dd#=#new#DefaultDependencyDescriptor#(#moduleDescriptor#,#mrid#[#i#]#,#true#,#changing#,#transitive#)#;#dd#.#addDependencyConfiguration#(#DEFAULT_CONFIGURATION#,#"*"#)#;#moduleDescriptor#.#addDependency#(#dd#)#;#}#return#moduleDescriptor#;#}##DefaultModuleDescriptor#newDefaultInstance#(#ModuleRevisionId#mrid#,#DependencyArtifactDescriptor#[#]#artifacts#)#{#DefaultModuleDescriptor#moduleDescriptor#=#new#DefaultModuleDescriptor#(#mrid#,#"release"#,#null#,#true#)#;#moduleDescriptor#.#addConfiguration#(#new#Configuration#(#DEFAULT_CONFIGURATION#)#)#;#if#(#artifacts#!=#null#&&#artifacts#.#length#>#0#)#{#for#(#int#i#=#0#;#i#<#artifacts#.#length#;#i#++#)#{#moduleDescriptor#.#addArtifact#(#DEFAULT_CONFIGURATION#,#new#MDArtifact#(#moduleDescriptor#,#artifacts#[#i#]#.#getName#(#)#,#artifacts#[#i#]#.#getType#(#)#,#artifacts#[#i#]#.#getExt#(#)#,#artifacts#[#i#]#.#getUrl#(#)#,#artifacts#[#i#]#.#getExtraAttributes#(#)#)#)#;#}#}#else#{#moduleDescriptor#.#addArtifact#(#DEFAULT_CONFIGURATION#,#new#MDArtifact#(#moduleDescriptor#,#mrid#.#getName#(#)#,#"jar"#,#"jar"#)#)#;#}#moduleDescriptor#.#setLastModified#(#System#.#currentTimeMillis#(#)#)#;#return#moduleDescriptor#;#}##DefaultModuleDescriptor#newBasicInstance#(#ModuleRevisionId#mrid#,#Date#publicationDate#)#{#DefaultModuleDescriptor#moduleDescriptor#=#new#DefaultModuleDescriptor#(#mrid#,#"release"#,#publicationDate#,#false#)#;#moduleDescriptor#.#addConfiguration#(#new#Configuration#(#DEFAULT_CONFIGURATION#)#)#;#moduleDescriptor#.#addArtifact#(#DEFAULT_CONFIGURATION#,#new#MDArtifact#(#moduleDescriptor#,#mrid#.#getName#(#)#,#"jar"#,#"jar"#)#)#;#return#moduleDescriptor#;#}##ModuleDescriptor#transformInstance#(#ModuleDescriptor#md#,#Namespace#ns#)#{#NamespaceTransformer#t#=#ns#.#getToSystemTransformer#(#)#;#if#(#t#.#isIdentity#(#)#)#{#return#md#;#}#DefaultModuleDescriptor#nmd#=#new#DefaultModuleDescriptor#(#md#.#getParser#(#)#,#md#.#getResource#(#)#)#;#nmd#.#revId#=#t#.#transform#(#md#.#getModuleRevisionId#(#)#)#;#nmd#.#resolvedRevId#=#t#.#transform#(#md#.#getResolvedModuleRevisionId#(#)#)#;#nmd#.#status#=#md#.#getStatus#(#)#;#nmd#.#publicationDate#=#md#.#getPublicationDate#(#)#;#nmd#.#resolvedPublicationDate#=#md#.#getResolvedPublicationDate#(#)#;#DependencyDescriptor#[#]#dd#=#md#.#getDependencies#(#)#;#for#(#int#i#=#0#;#i#<#dd#.#length#;#i#++#)#{#nmd#.#dependencies#.#add#(#NameSpaceHelper#.#toSystem#(#dd#[#i#]#,#ns#)#)#;#}#Configuration#[#]#confs#=#md#.#getConfigurations#(#)#;#for#(#int#i#=#0#;#i#<#confs#.#length#;#i#++#)#{#nmd#.#configurations#.#put#(#confs#[#i#]#.#getName#(#)#,#confs#[#i#]#)#;#Artifact#[#]#arts#=#md#.#getArtifacts#(#confs#[#i#]#.#getName#(#)#)#;#for#(#int#j#=#0#;#j#<#arts#.#length#;#j#++#)#{#nmd#.#addArtifact#(#confs#[#i#]#.#getName#(#)#,#NameSpaceHelper#.#transform#(#arts#[#j#]#,#t#)#)#;#}#}#nmd#.#setDefault#(#md#.#isDefault#(#)#)#;#if#(#md#instanceof#DefaultModuleDescriptor#)#{#DefaultModuleDescriptor#dmd#=#(#DefaultModuleDescriptor#)#md#;#nmd#.#conflictManagers#=#(#ModuleRules#)#dmd#.#conflictManagers#.#clone#(#)#;#nmd#.#dependencyDescriptorMediators#=#(#ModuleRules#)#dmd#.#dependencyDescriptorMediators#.#clone#(#)#;#}#else#{#Message#.#warn#(#"transformed module descriptor is not a default module descriptor: "#+#"impossible to copy conflict manager and version mediation configuration: "#+#md#)#;#}#nmd#.#licenses#.#addAll#(#Arrays#.#asList#(#md#.#getLicenses#(#)#)#)#;#nmd#.#homePage#=#md#.#getHomePage#(#)#;#nmd#.#description#=#md#.#getDescription#(#)#;#nmd#.#lastModified#=#md#.#getLastModified#(#)#;#nmd#.#extraAttributesNamespaces#=#md#.#getExtraAttributesNamespaces#(#)#;#nmd#.#extraInfo#=#md#.#getExtraInfo#(#)#;#nmd#.#namespace#=#ns#;#return#nmd#;#}##Artifact#getMetadataArtifact#(#)#{#if#(#metadataArtifact#==#null#)#{#metadataArtifact#=#DefaultArtifact#.#newIvyArtifact#(#resolvedRevId#,#resolvedPublicationDate#)#;#}#return#metadataArtifact#;#}##void#setModuleArtifact#(#Artifact#moduleArtifact#)#{#this#.#metadataArtifact#=#moduleArtifact#;#}##boolean#isDefault#(#)#{#return#isDefault#;#}##void#setPublicationDate#(#Date#publicationDate#)#{#this#.#publicationDate#=#publicationDate#;#if#(#resolvedPublicationDate#==#null#)#{#resolvedPublicationDate#=#publicationDate#==#null#?#new#Date#(#)#:#publicationDate#;#}#}##Date#getPublicationDate#(#)#{#return#publicationDate#;#}##void#setResolvedPublicationDate#(#Date#publicationDate#)#{#if#(#publicationDate#==#null#)#{#throw#new#NullPointerException#(#"null publication date not allowed"#)#;#}#resolvedPublicationDate#=#publicationDate#;#}##Date#getResolvedPublicationDate#(#)#{#return#resolvedPublicationDate#;#}##String#getRevision#(#)#{#return#getResolvedModuleRevisionId#(#)#.#getRevision#(#)#;#}##void#setModuleRevisionId#(#ModuleRevisionId#revId#)#{#if#(#revId#==#null#)#{#throw#new#NullPointerException#(#"null module revision id not allowed"#)#;#}#this#.#revId#=#revId#;#if#(#resolvedRevId#==#null#)#{#resolvedRevId#=#revId#;#}#}##void#setResolvedModuleRevisionId#(#ModuleRevisionId#revId#)#{#resolvedRevId#=#revId#;#}##void#setStatus#(#String#status#)#{#this#.#status#=#status#;#}##void#addDependency#(#DependencyDescriptor#dependency#)#{#dependencies#.#add#(#dependency#)#;#}##void#addConfiguration#(#Configuration#conf#)#{#configurations#.#put#(#conf#.#getName#(#)#,#conf#)#;#}##void#addArtifact#(#String#conf#,#Artifact#artifact#)#{#Configuration#c#=#getConfiguration#(#conf#)#;#if#(#c#==#null#)#{#throw#new#IllegalArgumentException#(#"Cannot add artifact '"#+#artifact#.#getId#(#)#.#getArtifactId#(#)#.#getShortDescription#(#)#+#"' to configuration '"#+#conf#+#"' of module "#+#revId#+#" because this configuration doesn't exist!"#)#;#}#if#(#c#instanceof#ConfigurationGroup#)#{#ConfigurationGroup#group#=#(#ConfigurationGroup#)#c#;#String#[#]#members#=#group#.#getMembersConfigurationNames#(#)#;#for#(#int#i#=#0#;#i#<#members#.#length#;#i#++#)#{#addArtifact#(#members#[#i#]#,#artifact#)#;#}#}#else#{#Collection#artifacts#=#(#Collection#)#artifactsByConf#.#get#(#conf#)#;#if#(#artifacts#==#null#)#{#artifacts#=#new#ArrayList#(#)#;#artifactsByConf#.#put#(#conf#,#artifacts#)#;#}#artifacts#.#add#(#artifact#)#;#this#.#artifacts#.#add#(#artifact#)#;#}#}##ModuleRevisionId#getModuleRevisionId#(#)#{#return#revId#;#}##ModuleRevisionId#getResolvedModuleRevisionId#(#)#{#return#resolvedRevId#;#}##String#getStatus#(#)#{#return#status#;#}##Configuration#[#]#getConfigurations#(#)#{#return#(#Configuration#[#]#)#configurations#.#values#(#)#.#toArray#(#new#Configuration#[#configurations#.#size#(#)#]#)#;#}##String#[#]#getConfigurationsNames#(#)#{#return#(#String#[#]#)#configurations#.#keySet#(#)#.#toArray#(#new#String#[#configurations#.#size#(#)#]#)#;#}##String#[#]#getPublicConfigurationsNames#(#)#{#List#ret#=#new#ArrayList#(#)#;#for#(#Iterator#iter#=#configurations#.#values#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#Configuration#conf#=#(#Configuration#)#iter#.#next#(#)#;#if#(#conf#.#getVisibility#(#)#==#Configuration#.#Visibility#.#PUBLIC#)#{#ret#.#add#(#conf#.#getName#(#)#)#;#}#}#return#(#String#[#]#)#ret#.#toArray#(#new#String#[#ret#.#size#(#)#]#)#;#}##Configuration#getConfiguration#(#String#confName#)#{#Configuration#configuration#=#(#Configuration#)#configurations#.#get#(#confName#)#;#if#(#configuration#==#null#&&#confName#!=#null#)#{#// let's first check if the configuration is a conf group#Matcher#m#=#Pattern#.#compile#(#"\\*\\[([^=]+)\\=([^\\]]+)\\]"#)#.#matcher#(#confName#)#;#if#(#m#.#matches#(#)#)#{#String#attName#=#m#.#group#(#1#)#;#String#attValue#=#m#.#group#(#2#)#;#// this is a conf group, let's search for its members#Map#/*<String,Configuration>*/#members#=#new#LinkedHashMap#(#)#;#for#(#Iterator#it#=#configurations#.#values#(#)#.#iterator#(#)#;#it#.#hasNext#(#)#;#)#{#Configuration#conf#=#(#Configuration#)#it#.#next#(#)#;#if#(#attValue#.#equals#(#conf#.#getAttribute#(#attName#)#)#)#{#members#.#put#(#conf#.#getName#(#)#,#conf#)#;#}#}#return#new#ConfigurationGroup#(#confName#,#members#)#;#}#// let's see if a configuration intersection is requested#String#[#]#confs#=#confName#.#split#(#"\\+"#)#;#if#(#confs#.#length#<=#1#)#{#return#null#;#}#Map#/*<String,Configuration>*/#intersectedConfs#=#new#LinkedHashMap#(#)#;#for#(#int#i#=#0#;#i#<#confs#.#length#;#i#++#)#{#Configuration#c#=#(#Configuration#)#configurations#.#get#(#confs#[#i#]#)#;#if#(#c#==#null#)#{#Message#.#verbose#(#"missing configuration '"#+#confs#[#i#]#+#"' from intersection "#+#confName#+#" in "#+#this#)#;#return#null#;#}#intersectedConfs#.#put#(#confs#[#i#]#,#c#)#;#}#return#new#ConfigurationIntersection#(#confName#,#intersectedConfs#)#;#}#return#configuration#;#}##Artifact#[#]#getArtifacts#(#String#conf#)#{#Configuration#c#=#getConfiguration#(#conf#)#;#if#(#c#==#null#)#{#return#new#Artifact#[#0#]#;#}#Collection#artifacts#=#(#Collection#)#artifactsByConf#.#get#(#conf#)#;#if#(#c#instanceof#ConfigurationIntersection#)#{#ConfigurationIntersection#intersection#=#(#ConfigurationIntersection#)#c#;#String#[#]#intersected#=#intersection#.#getIntersectedConfigurationNames#(#)#;#Set#/*<Artifact>*/#intersectedArtifacts#=#new#LinkedHashSet#(#)#;#for#(#int#j#=#0#;#j#<#intersected#.#length#;#j#++#)#{#Collection#arts#=#getArtifactsIncludingExtending#(#intersected#[#j#]#)#;#if#(#intersectedArtifacts#.#isEmpty#(#)#)#{#intersectedArtifacts#.#addAll#(#arts#)#;#}#else#{#intersectedArtifacts#.#retainAll#(#arts#)#;#}#}#if#(#artifacts#!=#null#)#{#intersectedArtifacts#.#addAll#(#artifacts#)#;#}#return#(#Artifact#[#]#)#intersectedArtifacts#.#toArray#(#new#Artifact#[#intersectedArtifacts#.#size#(#)#]#)#;#}#else#if#(#c#instanceof#ConfigurationGroup#)#{#ConfigurationGroup#group#=#(#ConfigurationGroup#)#c#;#String#[#]#members#=#group#.#getMembersConfigurationNames#(#)#;#Set#/*<Artifact>*/#groupArtifacts#=#new#LinkedHashSet#(#)#;#for#(#int#i#=#0#;#i#<#members#.#length#;#i#++#)#{#groupArtifacts#.#addAll#(#getArtifactsIncludingExtending#(#members#[#i#]#)#)#;#}#if#(#artifacts#!=#null#)#{#groupArtifacts#.#addAll#(#artifacts#)#;#}#return#(#Artifact#[#]#)#groupArtifacts#.#toArray#(#new#Artifact#[#groupArtifacts#.#size#(#)#]#)#;#}#else#{#if#(#artifacts#==#null#)#{#return#new#Artifact#[#0#]#;#}#else#{#return#(#Artifact#[#]#)#artifacts#.#toArray#(#new#Artifact#[#artifacts#.#size#(#)#]#)#;#}#}#}##Collection#/*<Artifact>*/#getArtifactsIncludingExtending#(#String#conf#)#{#Collection#extendingConfs#=#Configuration#.#findConfigurationExtending#(#conf#,#getConfigurations#(#)#)#;#Set#/*<Artifact>*/#artifacts#=#new#LinkedHashSet#(#)#;#Collection#arts#=#(#Collection#)#artifactsByConf#.#get#(#conf#)#;#if#(#arts#!=#null#)#{#artifacts#.#addAll#(#arts#)#;#}#for#(#Iterator#it#=#extendingConfs#.#iterator#(#)#;#it#.#hasNext#(#)#;#)#{#Configuration#extendingConf#=#(#Configuration#)#it#.#next#(#)#;#arts#=#(#Collection#)#artifactsByConf#.#get#(#extendingConf#.#getName#(#)#)#;#if#(#arts#!=#null#)#{#artifacts#.#addAll#(#arts#)#;#}#}#return#artifacts#;#}##Artifact#[#]#getAllArtifacts#(#)#{#return#(#Artifact#[#]#)#artifacts#.#toArray#(#new#Artifact#[#artifacts#.#size#(#)#]#)#;#}##DependencyDescriptor#[#]#getDependencies#(#)#{#return#(#DependencyDescriptor#[#]#)#dependencies#.#toArray#(#new#DependencyDescriptor#[#dependencies#.#size#(#)#]#)#;#}##boolean#dependsOn#(#VersionMatcher#matcher#,#ModuleDescriptor#md#)#{#for#(#Iterator#iter#=#dependencies#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#DependencyDescriptor#dd#=#(#DependencyDescriptor#)#iter#.#next#(#)#;#if#(#dd#.#getDependencyId#(#)#.#equals#(#md#.#getModuleRevisionId#(#)#.#getModuleId#(#)#)#)#{#if#(#md#.#getResolvedModuleRevisionId#(#)#.#getRevision#(#)#==#null#)#{#return#true#;#}#else#if#(#matcher#.#accept#(#dd#.#getDependencyRevisionId#(#)#,#md#)#)#{#return#true#;#}#}#}#return#false#;#}##void#toIvyFile#(#File#destFile#)#throws#ParseException#,#IOException#{#if#(#parser#!=#null#&&#resource#!=#null#)#{#parser#.#toIvyFile#(#resource#.#openStream#(#)#,#resource#,#destFile#,#this#)#;#}#else#{#XmlModuleDescriptorWriter#.#write#(#this#,#destFile#)#;#}#}##String#toString#(#)#{#return#"module: "#+#revId#+#" status="#+#status#+#" publication="#+#publicationDate#+#" configurations="#+#configurations#+#" artifacts="#+#artifactsByConf#+#" dependencies="#+#dependencies#;#}##void#setDefault#(#boolean#b#)#{#isDefault#=#b#;#}##void#addConflictManager#(#ModuleId#moduleId#,#PatternMatcher#matcher#,#ConflictManager#manager#)#{#conflictManagers#.#defineRule#(#new#MapMatcher#(#moduleId#.#getAttributes#(#)#,#matcher#)#,#manager#)#;#}##ConflictManager#getConflictManager#(#ModuleId#moduleId#)#{#return#(#ConflictManager#)#conflictManagers#.#getRule#(#moduleId#)#;#}##void#addDependencyDescriptorMediator#(#ModuleId#moduleId#,#PatternMatcher#matcher#,#DependencyDescriptorMediator#ddm#)#{#dependencyDescriptorMediators#.#defineRule#(#new#MapMatcher#(#moduleId#.#getAttributes#(#)#,#matcher#)#,#ddm#)#;#}##DependencyDescriptor#mediate#(#DependencyDescriptor#dd#)#{#Object#[#]#mediators#=#dependencyDescriptorMediators#.#getRules#(#dd#.#getDependencyId#(#)#)#;#for#(#int#i#=#0#;#i#<#mediators#.#length#;#i#++#)#{#dd#=#(#(#DependencyDescriptorMediator#)#mediators#[#i#]#)#.#mediate#(#dd#)#;#}#return#dd#;#}##ModuleRules#/*<DependencyDescriptorMediator>*/#getAllDependencyDescriptorMediators#(#)#{#return#(#ModuleRules#)#dependencyDescriptorMediators#.#clone#(#)#;#}##void#addLicense#(#License#license#)#{#licenses#.#add#(#license#)#;#}##License#[#]#getLicenses#(#)#{#return#(#License#[#]#)#licenses#.#toArray#(#new#License#[#licenses#.#size#(#)#]#)#;#}##String#getHomePage#(#)#{#return#homePage#;#}##void#setHomePage#(#String#homePage#)#{#this#.#homePage#=#homePage#;#}##String#getDescription#(#)#{#return#description#;#}##void#setDescription#(#String#description#)#{#this#.#description#=#description#;#}##long#getLastModified#(#)#{#return#lastModified#;#}##void#setLastModified#(#long#lastModified#)#{#this#.#lastModified#=#lastModified#;#}##Namespace#getNamespace#(#)#{#return#namespace#;#}##boolean#isNamespaceUseful#(#)#{#for#(#Iterator#iter#=#dependencies#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#DependencyDescriptor#dd#=#(#DependencyDescriptor#)#iter#.#next#(#)#;#if#(#dd#.#getAllExcludeRules#(#)#.#length#>#0#)#{#return#true#;#}#}#return#false#;#}##void#setNamespace#(#Namespace#ns#)#{#namespace#=#ns#;#}##void#check#(#)#{#Stack#confs#=#new#Stack#(#)#;#for#(#Iterator#iter#=#configurations#.#values#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#Configuration#conf#=#(#Configuration#)#iter#.#next#(#)#;#String#[#]#ext#=#conf#.#getExtends#(#)#;#for#(#int#i#=#0#;#i#<#ext#.#length#;#i#++#)#{#confs#.#push#(#conf#.#getName#(#)#)#;#checkConf#(#confs#,#ext#[#i#]#.#trim#(#)#)#;#confs#.#pop#(#)#;#}#}#}##void#checkConf#(#Stack#confs#,#String#confName#)#{#int#index#=#confs#.#indexOf#(#confName#)#;#if#(#index#!=#-#1#)#{#StringBuffer#cycle#=#new#StringBuffer#(#)#;#for#(#;#index#<#confs#.#size#(#)#;#index#++#)#{#cycle#.#append#(#confs#.#get#(#index#)#)#.#append#(#" => "#)#;#}#cycle#.#append#(#confName#)#;#throw#new#IllegalStateException#(#"illegal cycle detected in configuration extension: "#+#cycle#)#;#}#Configuration#conf#=#getConfiguration#(#confName#)#;#if#(#conf#==#null#)#{#throw#new#IllegalStateException#(#"unknown configuration '"#+#confName#+#"'. It is extended by "#+#confs#.#get#(#confs#.#size#(#)#-#1#)#)#;#}#String#[#]#ext#=#conf#.#getExtends#(#)#;#for#(#int#i#=#0#;#i#<#ext#.#length#;#i#++#)#{#confs#.#push#(#conf#.#getName#(#)#)#;#checkConf#(#confs#,#ext#[#i#]#.#trim#(#)#)#;#confs#.#pop#(#)#;#}#}##void#setMappingOverride#(#boolean#override#)#{#mappingOverride#=#override#;#}##boolean#isMappingOverride#(#)#{#return#mappingOverride#;#}##String#getAttribute#(#String#attName#)#{#return#resolvedRevId#.#getAttribute#(#attName#)#;#}##Map#getAttributes#(#)#{#return#resolvedRevId#.#getAttributes#(#)#;#}##String#getExtraAttribute#(#String#attName#)#{#return#resolvedRevId#.#getExtraAttribute#(#attName#)#;#}##Map#getExtraAttributes#(#)#{#return#resolvedRevId#.#getExtraAttributes#(#)#;#}##Map#getQualifiedExtraAttributes#(#)#{#return#resolvedRevId#.#getQualifiedExtraAttributes#(#)#;#}##ModuleDescriptorParser#getParser#(#)#{#return#parser#;#}##Resource#getResource#(#)#{#return#resource#;#}##void#addExcludeRule#(#ExcludeRule#rule#)#{#excludeRules#.#add#(#rule#)#;#}##boolean#canExclude#(#)#{#return#!#excludeRules#.#isEmpty#(#)#;#}##boolean#doesExclude#(#String#[#]#moduleConfigurations#,#ArtifactId#artifactId#)#{#if#(#namespace#!=#null#)#{#artifactId#=#NameSpaceHelper#.#transform#(#artifactId#,#namespace#.#getFromSystemTransformer#(#)#)#;#}#ExcludeRule#[#]#rules#=#getExcludeRules#(#moduleConfigurations#)#;#for#(#int#i#=#0#;#i#<#rules#.#length#;#i#++#)#{#if#(#MatcherHelper#.#matches#(#rules#[#i#]#.#getMatcher#(#)#,#rules#[#i#]#.#getId#(#)#,#artifactId#)#)#{#return#true#;#}#}#return#false#;#}##ExcludeRule#[#]#getAllExcludeRules#(#)#{#return#(#ExcludeRule#[#]#)#excludeRules#.#toArray#(#new#ExcludeRule#[#excludeRules#.#size#(#)#]#)#;#}##ExcludeRule#[#]#getExcludeRules#(#String#[#]#moduleConfigurations#)#{#Set#rules#=#new#LinkedHashSet#(#)#;#for#(#Iterator#iter#=#excludeRules#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#ExcludeRule#rule#=#(#ExcludeRule#)#iter#.#next#(#)#;#String#[#]#ruleConfs#=#rule#.#getConfigurations#(#)#;#if#(#containsAny#(#ruleConfs#,#moduleConfigurations#)#)#{#rules#.#add#(#rule#)#;#}#}#return#(#ExcludeRule#[#]#)#rules#.#toArray#(#new#ExcludeRule#[#rules#.#size#(#)#]#)#;#}##boolean#containsAny#(#String#[#]#arr1#,#String#[#]#arr2#)#{#return#new#ArrayList#(#Arrays#.#asList#(#arr1#)#)#.#removeAll#(#Arrays#.#asList#(#arr2#)#)#;#}##Map#getExtraAttributesNamespaces#(#)#{#return#extraAttributesNamespaces#;#}##void#addExtraAttributeNamespace#(#String#prefix#,#String#namespace#)#{#extraAttributesNamespaces#.#put#(#prefix#,#namespace#)#;#}##void#addExtraInfo#(#String#infoKey#,#String#value#)#{#extraInfo#.#put#(#infoKey#,#value#)#;#}##Map#getExtraInfo#(#)#{#return#extraInfo#;#}##