void#checkIfChanged#(#)#{#ResolutionCacheManager#cache#=#resolveEngine#.#getSettings#(#)#.#getResolutionCacheManager#(#)#;#String#resolveId#=#options#.#getResolveId#(#)#;#File#previousReportFile#=#cache#.#getConfigurationResolveReportInCache#(#resolveId#,#conf#)#;#if#(#previousReportFile#.#exists#(#)#)#{#try#{#XmlReportParser#parser#=#new#XmlReportParser#(#)#;#parser#.#parse#(#previousReportFile#)#;#List#previousDeps#=#Arrays#.#asList#(#parser#.#getDependencyRevisionIds#(#)#)#;#HashSet#previousDepSet#=#new#HashSet#(#previousDeps#)#;#hasChanged#=#Boolean#.#valueOf#(#!#previousDepSet#.#equals#(#getModuleRevisionIds#(#)#)#)#;#}#catch#(#Exception#e#)#{#Message#.#warn#(#"Error while parsing configuration resolve report "#+#previousReportFile#.#getAbsolutePath#(#)#)#;#e#.#printStackTrace#(#)#;#hasChanged#=#Boolean#.#TRUE#;#}#}#else#{#hasChanged#=#Boolean#.#TRUE#;#}#}##boolean#hasChanged#(#)#{#return#hasChanged#.#booleanValue#(#)#;#}##Set#getModuleRevisionIds#(#)#{#Set#mrids#=#new#LinkedHashSet#(#)#;#for#(#Iterator#iter#=#getDependencies#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#IvyNode#node#=#(#IvyNode#)#iter#.#next#(#)#;#if#(#!#node#.#isEvicted#(#getConfiguration#(#)#)#&&#!#node#.#hasProblem#(#)#)#{#mrids#.#add#(#node#.#getResolvedId#(#)#)#;#}#}#return#mrids#;#}##void#addDependency#(#IvyNode#node#)#{#dependencies#.#put#(#node#.#getId#(#)#,#node#)#;#dependencies#.#put#(#node#.#getResolvedId#(#)#,#node#)#;#dependencyReports#.#put#(#node#,#Collections#.#EMPTY_LIST#)#;#}##void#updateDependency#(#ModuleRevisionId#mrid#,#IvyNode#node#)#{#dependencies#.#put#(#mrid#,#node#)#;#}##void#addDependency#(#IvyNode#node#,#DownloadReport#report#)#{#dependencies#.#put#(#node#.#getId#(#)#,#node#)#;#dependencies#.#put#(#node#.#getResolvedId#(#)#,#node#)#;#List#adrs#=#new#ArrayList#(#)#;#Artifact#[#]#artifacts#=#node#.#getArtifacts#(#conf#)#;#for#(#int#i#=#0#;#i#<#artifacts#.#length#;#i#++#)#{#ArtifactDownloadReport#artifactReport#=#report#.#getArtifactReport#(#artifacts#[#i#]#)#;#if#(#artifactReport#!=#null#)#{#adrs#.#add#(#artifactReport#)#;#}#else#{#Message#.#debug#(#"no report found for "#+#artifacts#[#i#]#)#;#}#}#dependencyReports#.#put#(#node#,#adrs#)#;#}##String#getConfiguration#(#)#{#return#conf#;#}##Date#getDate#(#)#{#return#date#;#}##ModuleDescriptor#getModuleDescriptor#(#)#{#return#md#;#}##IvyNode#[#]#getUnresolvedDependencies#(#)#{#List#unresolved#=#new#ArrayList#(#)#;#for#(#Iterator#iter#=#getDependencies#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#IvyNode#node#=#(#IvyNode#)#iter#.#next#(#)#;#if#(#node#.#hasProblem#(#)#)#{#unresolved#.#add#(#node#)#;#}#}#return#(#IvyNode#[#]#)#unresolved#.#toArray#(#new#IvyNode#[#unresolved#.#size#(#)#]#)#;#}##Collection#getDependencies#(#)#{#return#new#LinkedHashSet#(#dependencies#.#values#(#)#)#;#}##IvyNode#[#]#getEvictedNodes#(#)#{#List#evicted#=#new#ArrayList#(#)#;#for#(#Iterator#iter#=#getDependencies#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#IvyNode#node#=#(#IvyNode#)#iter#.#next#(#)#;#if#(#node#.#isEvicted#(#conf#)#)#{#evicted#.#add#(#node#)#;#}#}#return#(#IvyNode#[#]#)#evicted#.#toArray#(#new#IvyNode#[#evicted#.#size#(#)#]#)#;#}##Set#/*<ModuleRevisionId>*/#getEvictedMrids#(#)#{#Set#/*<ModuleRevisionId>*/#evicted#=#new#LinkedHashSet#(#)#;#IvyNode#[#]#evictedNodes#=#getEvictedNodes#(#)#;#for#(#int#i#=#0#;#i#<#evictedNodes#.#length#;#i#++#)#{#evicted#.#add#(#evictedNodes#[#i#]#.#getId#(#)#)#;#}#return#evicted#;#}##IvyNode#[#]#getDownloadedNodes#(#)#{#List#downloaded#=#new#ArrayList#(#)#;#for#(#Iterator#iter#=#getDependencies#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#IvyNode#node#=#(#IvyNode#)#iter#.#next#(#)#;#if#(#node#.#isDownloaded#(#)#&&#node#.#getRealNode#(#)#==#node#)#{#downloaded#.#add#(#node#)#;#}#}#return#(#IvyNode#[#]#)#downloaded#.#toArray#(#new#IvyNode#[#downloaded#.#size#(#)#]#)#;#}##IvyNode#[#]#getSearchedNodes#(#)#{#List#downloaded#=#new#ArrayList#(#)#;#for#(#Iterator#iter#=#getDependencies#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#IvyNode#node#=#(#IvyNode#)#iter#.#next#(#)#;#if#(#node#.#isSearched#(#)#&&#node#.#getRealNode#(#)#==#node#)#{#downloaded#.#add#(#node#)#;#}#}#return#(#IvyNode#[#]#)#downloaded#.#toArray#(#new#IvyNode#[#downloaded#.#size#(#)#]#)#;#}##ArtifactDownloadReport#[#]#getDownloadReports#(#ModuleRevisionId#mrid#)#{#Collection#col#=#(#Collection#)#dependencyReports#.#get#(#getDependency#(#mrid#)#)#;#if#(#col#==#null#)#{#return#new#ArtifactDownloadReport#[#0#]#;#}#return#(#ArtifactDownloadReport#[#]#)#col#.#toArray#(#new#ArtifactDownloadReport#[#col#.#size#(#)#]#)#;#}##IvyNode#getDependency#(#ModuleRevisionId#mrid#)#{#return#(#IvyNode#)#dependencies#.#get#(#mrid#)#;#}##List#getModuleIds#(#)#{#if#(#modulesIds#==#null#)#{#List#sortedDependencies#=#resolveEngine#.#getSortEngine#(#)#.#sortNodes#(#getDependencies#(#)#,#SortOptions#.#SILENT#)#;#Collections#.#reverse#(#sortedDependencies#)#;#for#(#Iterator#iter#=#sortedDependencies#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#IvyNode#dependency#=#(#IvyNode#)#iter#.#next#(#)#;#ModuleId#mid#=#dependency#.#getResolvedId#(#)#.#getModuleId#(#)#;#Collection#deps#=#(#Collection#)#modulesIdsMap#.#get#(#mid#)#;#if#(#deps#==#null#)#{#deps#=#new#LinkedHashSet#(#)#;#modulesIdsMap#.#put#(#mid#,#deps#)#;#}#deps#.#add#(#dependency#)#;#}#modulesIds#=#new#ArrayList#(#modulesIdsMap#.#keySet#(#)#)#;#}#return#Collections#.#unmodifiableList#(#modulesIds#)#;#}##Collection#getNodes#(#ModuleId#mid#)#{#if#(#modulesIds#==#null#)#{#getModuleIds#(#)#;#}#return#(#Collection#)#modulesIdsMap#.#get#(#mid#)#;#}##ResolveEngine#getResolveEngine#(#)#{#return#resolveEngine#;#}##int#getArtifactsNumber#(#)#{#int#total#=#0#;#for#(#Iterator#iter#=#dependencyReports#.#values#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#Collection#reports#=#(#Collection#)#iter#.#next#(#)#;#total#+=#reports#==#null#?#0#:#reports#.#size#(#)#;#}#return#total#;#}##ArtifactDownloadReport#[#]#getAllArtifactsReports#(#)#{#return#getArtifactsReports#(#null#,#true#)#;#}##ArtifactDownloadReport#[#]#getArtifactsReports#(#DownloadStatus#downloadStatus#,#boolean#withEvicted#)#{#Collection#all#=#new#LinkedHashSet#(#)#;#Collection#evictedMrids#=#null#;#if#(#!#withEvicted#)#{#evictedMrids#=#getEvictedMrids#(#)#;#}#for#(#Iterator#iter#=#dependencyReports#.#values#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#Collection#reports#=#(#Collection#)#iter#.#next#(#)#;#for#(#Iterator#itReport#=#reports#.#iterator#(#)#;#itReport#.#hasNext#(#)#;#)#{#ArtifactDownloadReport#report#=#(#ArtifactDownloadReport#)#itReport#.#next#(#)#;#if#(#downloadStatus#!=#null#&&#report#.#getDownloadStatus#(#)#!=#downloadStatus#)#{#continue#;#}#if#(#withEvicted#||#!#evictedMrids#.#contains#(#report#.#getArtifact#(#)#.#getModuleRevisionId#(#)#)#)#{#all#.#add#(#report#)#;#}#}#}#return#(#ArtifactDownloadReport#[#]#)#all#.#toArray#(#new#ArtifactDownloadReport#[#all#.#size#(#)#]#)#;#}##ArtifactDownloadReport#[#]#getDownloadedArtifactsReports#(#)#{#return#getArtifactsReports#(#DownloadStatus#.#SUCCESSFUL#,#true#)#;#}##ArtifactDownloadReport#[#]#getFailedArtifactsReports#(#)#{#ArtifactDownloadReport#[#]#allFailedReports#=#getArtifactsReports#(#DownloadStatus#.#FAILED#,#true#)#;#return#filterOutMergedArtifacts#(#allFailedReports#)#;#}##boolean#hasError#(#)#{#return#getUnresolvedDependencies#(#)#.#length#>#0#||#getFailedArtifactsReports#(#)#.#length#>#0#;#}##int#getNodesNumber#(#)#{#return#getDependencies#(#)#.#size#(#)#;#}##ArtifactDownloadReport#[#]#filterOutMergedArtifacts#(#ArtifactDownloadReport#[#]#allFailedReports#)#{#Collection#adrs#=#new#ArrayList#(#Arrays#.#asList#(#allFailedReports#)#)#;#for#(#Iterator#iterator#=#adrs#.#iterator#(#)#;#iterator#.#hasNext#(#)#;#)#{#ArtifactDownloadReport#adr#=#(#ArtifactDownloadReport#)#iterator#.#next#(#)#;#if#(#adr#.#getArtifact#(#)#.#getExtraAttribute#(#"ivy:merged"#)#!=#null#)#{#iterator#.#remove#(#)#;#}#}#return#(#ArtifactDownloadReport#[#]#)#adrs#.#toArray#(#new#ArtifactDownloadReport#[#adrs#.#size#(#)#]#)#;#}##