List#sortModuleDescriptors#(#)#throws#CircularDependencyException#{#Message#.#debug#(#"Nbr of module to sort : "#+#moduleDescriptors#.#size#(#)#)#;#Iterator#moduleDescriptorsIterator#=#moduleDescriptors#.#iterator#(#)#;#while#(#moduleDescriptorsIterator#.#hasNext#(#)#)#{#ModuleInSort#next#=#(#ModuleInSort#)#moduleDescriptorsIterator#.#next#(#)#;#sortModuleDescriptorsHelp#(#next#,#next#)#;#}#return#sorted#;#}##void#sortModuleDescriptorsHelp#(#ModuleInSort#current#,#ModuleInSort#caller#)#throws#CircularDependencyException#{#// if already sorted return#if#(#current#.#isProcessed#(#)#)#{#return#;#}#if#(#current#.#checkLoop#(#caller#,#circularDepStrategy#)#)#{#return#;#}#DependencyDescriptor#[#]#descriptors#=#current#.#getDependencies#(#)#;#Message#.#debug#(#"Sort dependencies of : "#+#current#.#toString#(#)#+#" / Number of dependencies = "#+#descriptors#.#length#)#;#current#.#setCaller#(#caller#)#;#for#(#int#i#=#0#;#i#<#descriptors#.#length#;#i#++#)#{#ModuleInSort#child#=#moduleDescriptors#.#getModuleDescriptorDependency#(#descriptors#[#i#]#)#;#if#(#child#!=#null#)#{#sortModuleDescriptorsHelp#(#child#,#current#)#;#}#}#current#.#endOfCall#(#)#;#Message#.#debug#(#"Sort done for : "#+#current#.#toString#(#)#)#;#current#.#addToSortedListIfRequired#(#sorted#)#;#}##