void#testSimple#(#)#throws#Exception#{#ModuleDescriptor#md#=#PomModuleDescriptorParser#.#getInstance#(#)#.#parseDescriptor#(#new#IvySettings#(#)#,#getClass#(#)#.#getResource#(#"test-simple.pom"#)#,#false#)#;#PomModuleDescriptorWriter#.#write#(#md#,#LICENSE#,#PomModuleDescriptorWriter#.#DEFAULT_MAPPING#,#_dest#)#;#assertTrue#(#_dest#.#exists#(#)#)#;#String#wrote#=#FileUtil#.#readEntirely#(#new#BufferedReader#(#new#FileReader#(#_dest#)#)#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#String#expected#=#readEntirely#(#"test-write-simple.xml"#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#assertEquals#(#expected#,#wrote#)#;#}##void#testSimpleDependencies#(#)#throws#Exception#{#ModuleDescriptor#md#=#PomModuleDescriptorParser#.#getInstance#(#)#.#parseDescriptor#(#new#IvySettings#(#)#,#getClass#(#)#.#getResource#(#"test-dependencies.pom"#)#,#false#)#;#PomModuleDescriptorWriter#.#write#(#md#,#LICENSE#,#PomModuleDescriptorWriter#.#DEFAULT_MAPPING#,#_dest#)#;#assertTrue#(#_dest#.#exists#(#)#)#;#String#wrote#=#FileUtil#.#readEntirely#(#new#BufferedReader#(#new#FileReader#(#_dest#)#)#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#String#expected#=#readEntirely#(#"test-write-simple-dependencies.xml"#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#assertEquals#(#expected#,#wrote#)#;#}##void#testDependenciesWithScope#(#)#throws#Exception#{#ModuleDescriptor#md#=#PomModuleDescriptorParser#.#getInstance#(#)#.#parseDescriptor#(#new#IvySettings#(#)#,#getClass#(#)#.#getResource#(#"test-dependencies-with-scope.pom"#)#,#false#)#;#PomModuleDescriptorWriter#.#write#(#md#,#LICENSE#,#PomModuleDescriptorWriter#.#DEFAULT_MAPPING#,#_dest#)#;#assertTrue#(#_dest#.#exists#(#)#)#;#String#wrote#=#FileUtil#.#readEntirely#(#new#BufferedReader#(#new#FileReader#(#_dest#)#)#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#String#expected#=#readEntirely#(#"test-write-dependencies-with-scope.xml"#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#assertEquals#(#expected#,#wrote#)#;#}##void#testOptional#(#)#throws#Exception#{#ModuleDescriptor#md#=#PomModuleDescriptorParser#.#getInstance#(#)#.#parseDescriptor#(#new#IvySettings#(#)#,#getClass#(#)#.#getResource#(#"test-optional.pom"#)#,#false#)#;#PomModuleDescriptorWriter#.#write#(#md#,#LICENSE#,#PomModuleDescriptorWriter#.#DEFAULT_MAPPING#,#_dest#)#;#assertTrue#(#_dest#.#exists#(#)#)#;#String#wrote#=#FileUtil#.#readEntirely#(#new#BufferedReader#(#new#FileReader#(#_dest#)#)#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#String#expected#=#readEntirely#(#"test-write-dependencies-optional.xml"#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#assertEquals#(#expected#,#wrote#)#;#}##String#readEntirely#(#String#resource#)#throws#IOException#{#return#FileUtil#.#readEntirely#(#new#BufferedReader#(#new#InputStreamReader#(#PomModuleDescriptorWriterTest#.#class#.#getResource#(#resource#)#.#openStream#(#)#)#)#)#;#}##void#setUp#(#)#{#// don't add ivy version to se static files for comparison#PomModuleDescriptorWriter#.#setAddIvyVersion#(#false#)#;#if#(#_dest#.#exists#(#)#)#{#_dest#.#delete#(#)#;#}#if#(#!#_dest#.#getParentFile#(#)#.#exists#(#)#)#{#_dest#.#getParentFile#(#)#.#mkdirs#(#)#;#}#}##void#tearDown#(#)#throws#Exception#{#if#(#_dest#.#exists#(#)#)#{#_dest#.#delete#(#)#;#}#}##