void#testSimple#(#)#throws#Exception#{#DefaultModuleDescriptor#md#=#(#DefaultModuleDescriptor#)#XmlModuleDescriptorParser#.#getInstance#(#)#.#parseDescriptor#(#new#IvySettings#(#)#,#XmlModuleDescriptorWriterTest#.#class#.#getResource#(#"test-simple.xml"#)#,#true#)#;#md#.#setResolvedPublicationDate#(#new#GregorianCalendar#(#2005#,#4#,#1#,#11#,#0#,#0#)#.#getTime#(#)#)#;#md#.#setResolvedModuleRevisionId#(#new#ModuleRevisionId#(#md#.#getModuleRevisionId#(#)#.#getModuleId#(#)#,#"NONE"#)#)#;#XmlModuleDescriptorWriter#.#write#(#md#,#LICENSE#,#_dest#)#;#assertTrue#(#_dest#.#exists#(#)#)#;#String#wrote#=#FileUtil#.#readEntirely#(#new#BufferedReader#(#new#FileReader#(#_dest#)#)#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#String#expected#=#readEntirely#(#"test-write-simple.xml"#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#assertEquals#(#expected#,#wrote#)#;#}##void#testInfo#(#)#throws#Exception#{#DefaultModuleDescriptor#md#=#(#DefaultModuleDescriptor#)#XmlModuleDescriptorParser#.#getInstance#(#)#.#parseDescriptor#(#new#IvySettings#(#)#,#XmlModuleDescriptorWriterTest#.#class#.#getResource#(#"test-info.xml"#)#,#true#)#;#md#.#setResolvedPublicationDate#(#new#GregorianCalendar#(#2005#,#4#,#1#,#11#,#0#,#0#)#.#getTime#(#)#)#;#md#.#setResolvedModuleRevisionId#(#new#ModuleRevisionId#(#md#.#getModuleRevisionId#(#)#.#getModuleId#(#)#,#"NONE"#)#)#;#XmlModuleDescriptorWriter#.#write#(#md#,#LICENSE#,#_dest#)#;#assertTrue#(#_dest#.#exists#(#)#)#;#String#wrote#=#FileUtil#.#readEntirely#(#new#BufferedReader#(#new#FileReader#(#_dest#)#)#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#String#expected#=#readEntirely#(#"test-write-info.xml"#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#assertEquals#(#expected#,#wrote#)#;#}##void#testDependencies#(#)#throws#Exception#{#ModuleDescriptor#md#=#XmlModuleDescriptorParser#.#getInstance#(#)#.#parseDescriptor#(#new#IvySettings#(#)#,#XmlModuleDescriptorWriterTest#.#class#.#getResource#(#"test-dependencies.xml"#)#,#true#)#;#XmlModuleDescriptorWriter#.#write#(#md#,#LICENSE#,#_dest#)#;#assertTrue#(#_dest#.#exists#(#)#)#;#String#wrote#=#FileUtil#.#readEntirely#(#new#BufferedReader#(#new#FileReader#(#_dest#)#)#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#String#expected#=#readEntirely#(#"test-write-dependencies.xml"#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#assertEquals#(#expected#,#wrote#)#;#}##void#testFull#(#)#throws#Exception#{#ModuleDescriptor#md#=#XmlModuleDescriptorParser#.#getInstance#(#)#.#parseDescriptor#(#new#IvySettings#(#)#,#XmlModuleDescriptorWriterTest#.#class#.#getResource#(#"test.xml"#)#,#false#)#;#XmlModuleDescriptorWriter#.#write#(#md#,#LICENSE#,#_dest#)#;#assertTrue#(#_dest#.#exists#(#)#)#;#String#wrote#=#FileUtil#.#readEntirely#(#new#BufferedReader#(#new#FileReader#(#_dest#)#)#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#String#expected#=#readEntirely#(#"test-write-full.xml"#)#.#replaceAll#(#"\r\n"#,#"\n"#)#.#replace#(#'\r'#,#'\n'#)#;#assertEquals#(#expected#,#wrote#)#;#}##String#readEntirely#(#String#resource#)#throws#IOException#{#return#FileUtil#.#readEntirely#(#new#BufferedReader#(#new#InputStreamReader#(#XmlModuleDescriptorWriterTest#.#class#.#getResource#(#resource#)#.#openStream#(#)#)#)#)#;#}##void#setUp#(#)#{#if#(#_dest#.#exists#(#)#)#{#_dest#.#delete#(#)#;#}#if#(#!#_dest#.#getParentFile#(#)#.#exists#(#)#)#{#_dest#.#getParentFile#(#)#.#mkdirs#(#)#;#}#}##void#tearDown#(#)#throws#Exception#{#if#(#_dest#.#exists#(#)#)#{#_dest#.#delete#(#)#;#}#}##