ResolverSettings#getSettings#(#)#{#return#settings#;#}##void#setSettings#(#ResolverSettings#ivy#)#{#settings#=#ivy#;#}##String#getName#(#)#{#return#name#;#}##void#setName#(#String#name#)#{#this#.#name#=#name#;#}##String#hidePassword#(#String#name#)#{#return#name#;#}##boolean#doValidate#(#ResolveData#data#)#{#if#(#validate#!=#null#)#{#return#validate#.#booleanValue#(#)#;#}#else#{#return#data#.#isValidate#(#)#;#}#}##boolean#isValidate#(#)#{#return#validate#==#null#?#true#:#validate#.#booleanValue#(#)#;#}##void#setValidate#(#boolean#validate#)#{#this#.#validate#=#Boolean#.#valueOf#(#validate#)#;#}##void#checkInterrupted#(#)#{#IvyContext#.#getContext#(#)#.#getIvy#(#)#.#checkInterrupted#(#)#;#}##void#reportFailure#(#)#{#Message#.#verbose#(#"no failure report implemented by "#+#getName#(#)#)#;#}##void#reportFailure#(#Artifact#art#)#{#Message#.#verbose#(#"no failure report implemented by "#+#getName#(#)#)#;#}##String#[#]#listTokenValues#(#String#token#,#Map#otherTokenValues#)#{#return#new#String#[#0#]#;#}##Map#[#]#listTokenValues#(#String#[#]#tokens#,#Map#criteria#)#{#return#new#Map#[#0#]#;#}##OrganisationEntry#[#]#listOrganisations#(#)#{#return#new#OrganisationEntry#[#0#]#;#}##ModuleEntry#[#]#listModules#(#OrganisationEntry#org#)#{#return#new#ModuleEntry#[#0#]#;#}##RevisionEntry#[#]#listRevisions#(#ModuleEntry#module#)#{#return#new#RevisionEntry#[#0#]#;#}##String#toString#(#)#{#return#getName#(#)#;#}##void#dumpSettings#(#)#{#Message#.#verbose#(#"\t"#+#getName#(#)#+#" ["#+#getTypeName#(#)#+#"]"#)#;#Message#.#debug#(#"\t\tcache: "#+#cacheManagerName#)#;#}##String#getTypeName#(#)#{#return#getClass#(#)#.#getName#(#)#;#}##ArtifactDownloadReport#download#(#ArtifactOrigin#artifact#,#DownloadOptions#options#)#{#DownloadReport#r#=#download#(#new#Artifact#[#]#{#artifact#.#getArtifact#(#)#}#,#options#)#;#return#r#.#getArtifactReport#(#artifact#.#getArtifact#(#)#)#;#}##boolean#exists#(#Artifact#artifact#)#{#return#locate#(#artifact#)#!=#null#;#}##ArtifactOrigin#locate#(#Artifact#artifact#)#{#DownloadReport#dr#=#download#(#new#Artifact#[#]#{#artifact#}#,#new#DownloadOptions#(#)#)#;#if#(#dr#==#null#)#{#/*
             * according to IVY-831, it seems that this actually happen sometime, while the contract
             * of DependencyResolver says that it should never return null
             */#throw#new#IllegalStateException#(#"null download report returned by "#+#getName#(#)#+#" ("#+#getClass#(#)#.#getName#(#)#+#")"#+#" when trying to download "#+#artifact#)#;#}#ArtifactDownloadReport#adr#=#dr#.#getArtifactReport#(#artifact#)#;#return#adr#.#getDownloadStatus#(#)#==#DownloadStatus#.#FAILED#?#null#:#adr#.#getArtifactOrigin#(#)#;#}##LatestStrategy#getLatestStrategy#(#)#{#if#(#latestStrategy#==#null#)#{#initLatestStrategyFromSettings#(#)#;#}#return#latestStrategy#;#}##void#initLatestStrategyFromSettings#(#)#{#if#(#getSettings#(#)#!=#null#)#{#if#(#latestStrategyName#!=#null#&&#!#"default"#.#equals#(#latestStrategyName#)#)#{#latestStrategy#=#getSettings#(#)#.#getLatestStrategy#(#latestStrategyName#)#;#if#(#latestStrategy#==#null#)#{#throw#new#IllegalStateException#(#"unknown latest strategy '"#+#latestStrategyName#+#"'"#)#;#}#}#else#{#latestStrategy#=#getSettings#(#)#.#getDefaultLatestStrategy#(#)#;#Message#.#debug#(#getName#(#)#+#": no latest strategy defined: using default"#)#;#}#}#else#{#throw#new#IllegalStateException#(#"no ivy instance found: "#+#"impossible to get a latest strategy without ivy instance"#)#;#}#}##void#setLatestStrategy#(#LatestStrategy#latestStrategy#)#{#this#.#latestStrategy#=#latestStrategy#;#}##void#setLatest#(#String#strategyName#)#{#latestStrategyName#=#strategyName#;#}##String#getLatest#(#)#{#if#(#latestStrategyName#==#null#)#{#latestStrategyName#=#"default"#;#}#return#latestStrategyName#;#}##Namespace#getNamespace#(#)#{#if#(#namespace#==#null#)#{#initNamespaceFromSettings#(#)#;#}#return#namespace#;#}##void#initNamespaceFromSettings#(#)#{#if#(#getSettings#(#)#!=#null#)#{#if#(#namespaceName#!=#null#)#{#namespace#=#getSettings#(#)#.#getNamespace#(#namespaceName#)#;#if#(#namespace#==#null#)#{#throw#new#IllegalStateException#(#"unknown namespace '"#+#namespaceName#+#"'"#)#;#}#}#else#{#namespace#=#getSettings#(#)#.#getSystemNamespace#(#)#;#Message#.#debug#(#getName#(#)#+#": no namespace defined: using system"#)#;#}#}#else#{#Message#.#verbose#(#getName#(#)#+#": no namespace defined nor ivy instance: using system namespace"#)#;#namespace#=#Namespace#.#SYSTEM_NAMESPACE#;#}#}##void#setNamespace#(#String#namespaceName#)#{#this#.#namespaceName#=#namespaceName#;#}##ModuleDescriptor#toSystem#(#ModuleDescriptor#md#)#{#return#NameSpaceHelper#.#toSystem#(#md#,#getNamespace#(#)#)#;#}##Artifact#fromSystem#(#Artifact#artifact#)#{#return#NameSpaceHelper#.#transform#(#artifact#,#getNamespace#(#)#.#getFromSystemTransformer#(#)#)#;#}##Artifact#toSystem#(#Artifact#artifact#)#{#return#NameSpaceHelper#.#transform#(#artifact#,#getNamespace#(#)#.#getToSystemTransformer#(#)#)#;#}##MetadataArtifactDownloadReport#toSystem#(#MetadataArtifactDownloadReport#report#)#{#return#NameSpaceHelper#.#transform#(#report#,#getNamespace#(#)#.#getToSystemTransformer#(#)#)#;#}##ResolvedModuleRevision#toSystem#(#ResolvedModuleRevision#rmr#)#{#return#NameSpaceHelper#.#toSystem#(#rmr#,#getNamespace#(#)#)#;#}##ModuleRevisionId#toSystem#(#ModuleRevisionId#resolvedMrid#)#{#return#getNamespace#(#)#.#getToSystemTransformer#(#)#.#transform#(#resolvedMrid#)#;#}##DependencyDescriptor#fromSystem#(#DependencyDescriptor#dd#)#{#return#NameSpaceHelper#.#transform#(#dd#,#getNamespace#(#)#.#getFromSystemTransformer#(#)#,#true#)#;#}##DependencyDescriptor#toSystem#(#DependencyDescriptor#dd#)#{#return#NameSpaceHelper#.#transform#(#dd#,#getNamespace#(#)#.#getToSystemTransformer#(#)#,#true#)#;#}##IvyNode#getSystemNode#(#ResolveData#data#,#ModuleRevisionId#resolvedMrid#)#{#return#data#.#getNode#(#toSystem#(#resolvedMrid#)#)#;#}##ResolvedModuleRevision#findModuleInCache#(#DependencyDescriptor#dd#,#ResolveData#data#)#{#return#findModuleInCache#(#dd#,#data#,#false#)#;#}##ResolvedModuleRevision#findModuleInCache#(#DependencyDescriptor#dd#,#ResolveData#data#,#boolean#anyResolver#)#{#ResolvedModuleRevision#rmr#=#getRepositoryCacheManager#(#)#.#findModuleInCache#(#dd#,#dd#.#getDependencyRevisionId#(#)#,#getCacheOptions#(#data#)#,#anyResolver#?#null#:#getName#(#)#)#;#if#(#rmr#==#null#)#{#return#null#;#}#if#(#data#.#getReport#(#)#!=#null#&&#data#.#isBlacklisted#(#data#.#getReport#(#)#.#getConfiguration#(#)#,#rmr#.#getId#(#)#)#)#{#Message#.#verbose#(#"\t"#+#getName#(#)#+#": found revision in cache: "#+#rmr#.#getId#(#)#+#" for "#+#dd#+#", but it is blacklisted"#)#;#return#null#;#}#return#rmr#;#}##void#setChangingMatcher#(#String#changingMatcherName#)#{#this#.#changingMatcherName#=#changingMatcherName#;#}##String#getChangingMatcherName#(#)#{#return#changingMatcherName#;#}##void#setChangingPattern#(#String#changingPattern#)#{#this#.#changingPattern#=#changingPattern#;#}##String#getChangingPattern#(#)#{#return#changingPattern#;#}##void#setCheckmodified#(#boolean#check#)#{#checkmodified#=#Boolean#.#valueOf#(#check#)#;#}##RepositoryCacheManager#getRepositoryCacheManager#(#)#{#if#(#repositoryCacheManager#==#null#)#{#initRepositoryCacheManagerFromSettings#(#)#;#}#return#repositoryCacheManager#;#}##void#initRepositoryCacheManagerFromSettings#(#)#{#if#(#cacheManagerName#==#null#)#{#repositoryCacheManager#=#settings#.#getDefaultRepositoryCacheManager#(#)#;#if#(#repositoryCacheManager#==#null#)#{#throw#new#IllegalStateException#(#"no default cache manager defined with current settings"#)#;#}#}#else#{#repositoryCacheManager#=#settings#.#getRepositoryCacheManager#(#cacheManagerName#)#;#if#(#repositoryCacheManager#==#null#)#{#throw#new#IllegalStateException#(#"unknown cache manager '"#+#cacheManagerName#+#"'. Available caches are "#+#Arrays#.#asList#(#settings#.#getRepositoryCacheManagers#(#)#)#)#;#}#}#}##void#setRepositoryCacheManager#(#RepositoryCacheManager#repositoryCacheManager#)#{#this#.#cacheManagerName#=#repositoryCacheManager#.#getName#(#)#;#this#.#repositoryCacheManager#=#repositoryCacheManager#;#}##void#setCache#(#String#cacheName#)#{#cacheManagerName#=#cacheName#;#}##void#setEventManager#(#EventManager#eventManager#)#{#this#.#eventManager#=#eventManager#;#}##EventManager#getEventManager#(#)#{#return#eventManager#;#}##void#validate#(#)#{#initRepositoryCacheManagerFromSettings#(#)#;#initNamespaceFromSettings#(#)#;#initLatestStrategyFromSettings#(#)#;#}##CacheMetadataOptions#getCacheOptions#(#ResolveData#data#)#{#return#(#CacheMetadataOptions#)#new#CacheMetadataOptions#(#)#.#setChangingMatcherName#(#getChangingMatcherName#(#)#)#.#setChangingPattern#(#getChangingPattern#(#)#)#.#setCheckmodified#(#checkmodified#)#.#setValidate#(#doValidate#(#data#)#)#.#setNamespace#(#getNamespace#(#)#)#.#setForce#(#data#.#getOptions#(#)#.#isRefresh#(#)#)#.#setListener#(#getDownloadListener#(#getDownloadOptions#(#data#.#getOptions#(#)#)#)#)#;#}##CacheDownloadOptions#getCacheDownloadOptions#(#DownloadOptions#options#)#{#return#new#CacheDownloadOptions#(#)#.#setListener#(#getDownloadListener#(#options#)#)#;#}##DownloadOptions#getDownloadOptions#(#ResolveOptions#options#)#{#return#(#DownloadOptions#)#new#DownloadOptions#(#)#.#setLog#(#options#.#getLog#(#)#)#;#}##void#abortPublishTransaction#(#)#throws#IOException#{#/* Default implementation is a no-op */#}##void#commitPublishTransaction#(#)#throws#IOException#{#/* Default implementation is a no-op */#}##void#beginPublishTransaction#(#ModuleRevisionId#module#,#boolean#overwrite#)#throws#IOException#{#/* Default implementation is a no-op */#}##DownloadListener#getDownloadListener#(#final#DownloadOptions#options#)#{#return#new#DownloadListener#(#)#{#public#void#needArtifact#(#RepositoryCacheManager#cache#,#Artifact#artifact#)#{#if#(#eventManager#!=#null#)#{#eventManager#.#fireIvyEvent#(#new#NeedArtifactEvent#(#AbstractResolver#.#this#,#artifact#)#)#;#}#}#public#void#startArtifactDownload#(#RepositoryCacheManager#cache#,#ResolvedResource#rres#,#Artifact#artifact#,#ArtifactOrigin#origin#)#{#if#(#artifact#.#isMetadata#(#)#||#LogOptions#.#LOG_QUIET#.#equals#(#options#.#getLog#(#)#)#)#{#Message#.#verbose#(#"downloading "#+#rres#.#getResource#(#)#+#" ..."#)#;#}#else#{#Message#.#info#(#"downloading "#+#rres#.#getResource#(#)#+#" ..."#)#;#}#if#(#eventManager#!=#null#)#{#eventManager#.#fireIvyEvent#(#new#StartArtifactDownloadEvent#(#AbstractResolver#.#this#,#artifact#,#origin#)#)#;#}#}#public#void#endArtifactDownload#(#RepositoryCacheManager#cache#,#Artifact#artifact#,#ArtifactDownloadReport#adr#,#File#archiveFile#)#{#if#(#eventManager#!=#null#)#{#eventManager#.#fireIvyEvent#(#new#EndArtifactDownloadEvent#(#AbstractResolver#.#this#,#artifact#,#adr#,#archiveFile#)#)#;#}#}#}#;#}##void#needArtifact#(#RepositoryCacheManager#cache#,#Artifact#artifact#)#{#if#(#eventManager#!=#null#)#{#eventManager#.#fireIvyEvent#(#new#NeedArtifactEvent#(#AbstractResolver#.#this#,#artifact#)#)#;#}#}##void#startArtifactDownload#(#RepositoryCacheManager#cache#,#ResolvedResource#rres#,#Artifact#artifact#,#ArtifactOrigin#origin#)#{#if#(#artifact#.#isMetadata#(#)#||#LogOptions#.#LOG_QUIET#.#equals#(#options#.#getLog#(#)#)#)#{#Message#.#verbose#(#"downloading "#+#rres#.#getResource#(#)#+#" ..."#)#;#}#else#{#Message#.#info#(#"downloading "#+#rres#.#getResource#(#)#+#" ..."#)#;#}#if#(#eventManager#!=#null#)#{#eventManager#.#fireIvyEvent#(#new#StartArtifactDownloadEvent#(#AbstractResolver#.#this#,#artifact#,#origin#)#)#;#}#}##void#endArtifactDownload#(#RepositoryCacheManager#cache#,#Artifact#artifact#,#ArtifactDownloadReport#adr#,#File#archiveFile#)#{#if#(#eventManager#!=#null#)#{#eventManager#.#fireIvyEvent#(#new#EndArtifactDownloadEvent#(#AbstractResolver#.#this#,#artifact#,#adr#,#archiveFile#)#)#;#}#}##boolean#isAfter#(#ResolvedModuleRevision#rmr1#,#ResolvedModuleRevision#rmr2#,#Date#date#)#{#ArtifactInfo#[#]#ais#=#new#ArtifactInfo#[#]#{#new#ResolvedModuleRevisionArtifactInfo#(#rmr1#)#,#new#ResolvedModuleRevisionArtifactInfo#(#rmr2#)#}#;#return#getLatestStrategy#(#)#.#findLatest#(#ais#,#date#)#==#ais#[#0#]#;#}##ResolvedModuleRevision#checkLatest#(#DependencyDescriptor#dd#,#ResolvedModuleRevision#newModuleFound#,#ResolveData#data#)#{#Checks#.#checkNotNull#(#dd#,#"dd"#)#;#Checks#.#checkNotNull#(#data#,#"data"#)#;#// check if latest is asked and compare to return the most recent#ResolvedModuleRevision#previousModuleFound#=#data#.#getCurrentResolvedModuleRevision#(#)#;#String#newModuleDesc#=#describe#(#newModuleFound#)#;#Message#.#debug#(#"\tchecking "#+#newModuleDesc#+#" against "#+#describe#(#previousModuleFound#)#)#;#if#(#previousModuleFound#==#null#)#{#Message#.#debug#(#"\tmodule revision kept as first found: "#+#newModuleDesc#)#;#saveModuleRevisionIfNeeded#(#dd#,#newModuleFound#)#;#return#newModuleFound#;#}#else#if#(#isAfter#(#newModuleFound#,#previousModuleFound#,#data#.#getDate#(#)#)#)#{#Message#.#debug#(#"\tmodule revision kept as younger: "#+#newModuleDesc#)#;#saveModuleRevisionIfNeeded#(#dd#,#newModuleFound#)#;#return#newModuleFound#;#}#else#if#(#!#newModuleFound#.#getDescriptor#(#)#.#isDefault#(#)#&&#previousModuleFound#.#getDescriptor#(#)#.#isDefault#(#)#)#{#Message#.#debug#(#"\tmodule revision kept as better (not default): "#+#newModuleDesc#)#;#saveModuleRevisionIfNeeded#(#dd#,#newModuleFound#)#;#return#newModuleFound#;#}#else#{#Message#.#debug#(#"\tmodule revision discarded as older: "#+#newModuleDesc#)#;#return#previousModuleFound#;#}#}##void#saveModuleRevisionIfNeeded#(#DependencyDescriptor#dd#,#ResolvedModuleRevision#newModuleFound#)#{#if#(#newModuleFound#!=#null#&&#getSettings#(#)#.#getVersionMatcher#(#)#.#isDynamic#(#dd#.#getDependencyRevisionId#(#)#)#)#{#getRepositoryCacheManager#(#)#.#saveResolvedRevision#(#dd#.#getDependencyRevisionId#(#)#,#newModuleFound#.#getId#(#)#.#getRevision#(#)#)#;#}#}##String#describe#(#ResolvedModuleRevision#rmr#)#{#if#(#rmr#==#null#)#{#return#"[none]"#;#}#return#rmr#.#getId#(#)#+#(#rmr#.#getDescriptor#(#)#.#isDefault#(#)#?#"[default]"#:#""#)#+#" from "#+#rmr#.#getResolver#(#)#.#getName#(#)#;#}##