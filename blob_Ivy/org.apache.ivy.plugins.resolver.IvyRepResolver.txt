void#ensureArtifactConfigured#(#ResolverSettings#settings#)#{#if#(#settings#!=#null#&&#(#artroot#==#null#||#artpattern#==#null#)#)#{#if#(#artroot#==#null#)#{#String#root#=#settings#.#getVariable#(#"ivy.ivyrep.default.artifact.root"#)#;#if#(#root#!=#null#)#{#artroot#=#root#;#}#else#{#settings#.#configureRepositories#(#true#)#;#artroot#=#settings#.#getVariable#(#"ivy.ivyrep.default.artifact.root"#)#;#}#}#if#(#artpattern#==#null#)#{#String#pattern#=#settings#.#getVariable#(#"ivy.ivyrep.default.artifact.pattern"#)#;#if#(#pattern#!=#null#)#{#artpattern#=#pattern#;#}#else#{#settings#.#configureRepositories#(#false#)#;#artpattern#=#settings#.#getVariable#(#"ivy.ivyrep.default.artifact.pattern"#)#;#}#}#updateWholeArtPattern#(#)#;#}#}##void#ensureIvyConfigured#(#ResolverSettings#settings#)#{#if#(#settings#!=#null#&&#(#ivyroot#==#null#||#ivypattern#==#null#)#)#{#if#(#ivyroot#==#null#)#{#String#root#=#settings#.#getVariable#(#"ivy.ivyrep.default.ivy.root"#)#;#if#(#root#!=#null#)#{#ivyroot#=#root#;#}#else#{#throw#new#IllegalStateException#(#"ivyroot is mandatory on IvyRepResolver. "#+#"Make sure to set it in your settings, before setting ivypattern "#+#"if you wish to set ivypattern too."#)#;#}#}#if#(#ivypattern#==#null#)#{#String#pattern#=#settings#.#getVariable#(#"ivy.ivyrep.default.ivy.pattern"#)#;#if#(#pattern#!=#null#)#{#ivypattern#=#pattern#;#}#else#{#settings#.#configureRepositories#(#false#)#;#ivypattern#=#settings#.#getVariable#(#"ivy.ivyrep.default.ivy.pattern"#)#;#}#}#updateWholeIvyPattern#(#)#;#}#}##String#getWholeIvyPattern#(#)#{#if#(#ivyroot#==#null#||#ivypattern#==#null#)#{#return#null#;#}#return#ivyroot#+#ivypattern#;#}##String#getWholeArtPattern#(#)#{#return#artroot#+#artpattern#;#}##String#getIvypattern#(#)#{#return#ivypattern#;#}##void#setIvypattern#(#String#pattern#)#{#if#(#pattern#==#null#)#{#throw#new#NullPointerException#(#"pattern must not be null"#)#;#}#ivypattern#=#pattern#;#ensureIvyConfigured#(#getSettings#(#)#)#;#updateWholeIvyPattern#(#)#;#}##String#getIvyroot#(#)#{#return#ivyroot#;#}##void#setIvyroot#(#String#root#)#{#if#(#root#==#null#)#{#throw#new#NullPointerException#(#"root must not be null"#)#;#}#if#(#!#root#.#endsWith#(#"/"#)#)#{#ivyroot#=#root#+#"/"#;#}#else#{#ivyroot#=#root#;#}#ensureIvyConfigured#(#getSettings#(#)#)#;#updateWholeIvyPattern#(#)#;#}##void#setM2compatible#(#boolean#m2compatible#)#{#if#(#m2compatible#)#{#throw#new#IllegalArgumentException#(#"ivyrep does not support maven2 compatibility. "#+#"Please use ibiblio resolver instead, or even url or filesystem resolvers for"#+#" more specific needs."#)#;#}#}##void#updateWholeIvyPattern#(#)#{#setIvyPatterns#(#Collections#.#singletonList#(#getWholeIvyPattern#(#)#)#)#;#}##void#updateWholeArtPattern#(#)#{#setArtifactPatterns#(#Collections#.#singletonList#(#getWholeArtPattern#(#)#)#)#;#}##void#publish#(#Artifact#artifact#,#File#src#)#{#throw#new#UnsupportedOperationException#(#"publish not supported by IBiblioResolver"#)#;#}##String#getArtroot#(#)#{#return#artroot#;#}##String#getArtpattern#(#)#{#return#artpattern#;#}##void#setArtpattern#(#String#pattern#)#{#if#(#pattern#==#null#)#{#throw#new#NullPointerException#(#"pattern must not be null"#)#;#}#artpattern#=#pattern#;#ensureArtifactConfigured#(#getSettings#(#)#)#;#updateWholeArtPattern#(#)#;#}##void#setArtroot#(#String#root#)#{#if#(#root#==#null#)#{#throw#new#NullPointerException#(#"root must not be null"#)#;#}#if#(#!#root#.#endsWith#(#"/"#)#)#{#artroot#=#root#+#"/"#;#}#else#{#artroot#=#root#;#}#ensureArtifactConfigured#(#getSettings#(#)#)#;#updateWholeArtPattern#(#)#;#}##OrganisationEntry#[#]#listOrganisations#(#)#{#ensureIvyConfigured#(#getSettings#(#)#)#;#try#{#URL#content#=#new#URL#(#ivyroot#+#"content.xml"#)#;#final#List#ret#=#new#ArrayList#(#)#;#XMLHelper#.#parse#(#content#,#null#,#new#DefaultHandler#(#)#{#public#void#startElement#(#String#uri#,#String#localName#,#String#qName#,#org#.#xml#.#sax#.#Attributes#attributes#)#throws#SAXException#{#if#(#"organisation"#.#equals#(#qName#)#)#{#String#org#=#attributes#.#getValue#(#"name"#)#;#if#(#org#!=#null#)#{#ret#.#add#(#new#OrganisationEntry#(#IvyRepResolver#.#this#,#org#)#)#;#}#}#}#}#)#;#return#(#OrganisationEntry#[#]#)#ret#.#toArray#(#new#OrganisationEntry#[#ret#.#size#(#)#]#)#;#}#catch#(#MalformedURLException#e#)#{#//???#}#catch#(#Exception#e#)#{#Message#.#warn#(#"unable to parse content.xml file on ivyrep: "#+#e#.#getMessage#(#)#)#;#}#return#super#.#listOrganisations#(#)#;#}##void#startElement#(#String#uri#,#String#localName#,#String#qName#,#org#.#xml#.#sax#.#Attributes#attributes#)#throws#SAXException#{#if#(#"organisation"#.#equals#(#qName#)#)#{#String#org#=#attributes#.#getValue#(#"name"#)#;#if#(#org#!=#null#)#{#ret#.#add#(#new#OrganisationEntry#(#IvyRepResolver#.#this#,#org#)#)#;#}#}#}##ModuleEntry#[#]#listModules#(#OrganisationEntry#org#)#{#ensureIvyConfigured#(#getSettings#(#)#)#;#Map#tokenValues#=#new#HashMap#(#)#;#tokenValues#.#put#(#IvyPatternHelper#.#ORGANISATION_KEY#,#org#.#getOrganisation#(#)#)#;#Collection#names#=#findIvyNames#(#tokenValues#,#IvyPatternHelper#.#MODULE_KEY#)#;#ModuleEntry#[#]#ret#=#new#ModuleEntry#[#names#.#size#(#)#]#;#int#i#=#0#;#for#(#Iterator#iter#=#names#.#iterator#(#)#;#iter#.#hasNext#(#)#;#i#++#)#{#String#name#=#(#String#)#iter#.#next#(#)#;#ret#[#i#]#=#new#ModuleEntry#(#org#,#name#)#;#}#return#ret#;#}##RevisionEntry#[#]#listRevisions#(#ModuleEntry#mod#)#{#ensureIvyConfigured#(#getSettings#(#)#)#;#ensureArtifactConfigured#(#getSettings#(#)#)#;#return#super#.#listRevisions#(#mod#)#;#}##String#getTypeName#(#)#{#return#"ivyrep"#;#}##ResolvedModuleRevision#getDependency#(#DependencyDescriptor#dd#,#ResolveData#data#)#throws#ParseException#{#ensureIvyConfigured#(#data#.#getSettings#(#)#)#;#return#super#.#getDependency#(#dd#,#data#)#;#}##ResolvedResource#findArtifactRef#(#Artifact#artifact#,#Date#date#)#{#ensureArtifactConfigured#(#getSettings#(#)#)#;#return#super#.#findArtifactRef#(#artifact#,#date#)#;#}##DownloadReport#download#(#Artifact#[#]#artifacts#,#DownloadOptions#options#)#{#ensureArtifactConfigured#(#getSettings#(#)#)#;#return#super#.#download#(#artifacts#,#options#)#;#}##boolean#exists#(#Artifact#artifact#)#{#ensureArtifactConfigured#(#getSettings#(#)#)#;#return#super#.#exists#(#artifact#)#;#}##ArtifactOrigin#locate#(#Artifact#artifact#)#{#ensureArtifactConfigured#(#getSettings#(#)#)#;#return#super#.#locate#(#artifact#)#;#}##List#getIvyPatterns#(#)#{#ensureIvyConfigured#(#getSettings#(#)#)#;#return#super#.#getIvyPatterns#(#)#;#}##List#getArtifactPatterns#(#)#{#ensureArtifactConfigured#(#getSettings#(#)#)#;#return#super#.#getArtifactPatterns#(#)#;#}##