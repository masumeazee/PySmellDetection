void#execute#(#)#throws#BuildException#{#File#savedFile#=#myFile#;##// may be altered in validate#validate#(#)#;#final#Properties#properties#=#loadProperties#(#)#;#final#int#buildNumber#=#getBuildNumber#(#properties#)#;#properties#.#put#(#DEFAULT_PROPERTY_NAME#,#String#.#valueOf#(#buildNumber#+#1#)#)#;##// Write the properties file back out#FileOutputStream#output#=#null#;##try#{#output#=#new#FileOutputStream#(#myFile#)#;#final#String#header#=#"Build Number for ANT. Do not edit!"#;#properties#.#store#(#output#,#header#)#;#}##catch#(#final#IOException#ioe#)#{#final#String#message#=#"Error while writing "#+#myFile#;#throw#new#BuildException#(#message#,#ioe#)#;#}##finally#{##if#(#null#!=#output#)#{#try#{#output#.#close#(#)#;#}##catch#(#final#IOException#ioe#)#{#log#(#"error closing output stream "#+#ioe#,#Project#.#MSG_ERR#)#;#}#}##myFile#=#savedFile#;#}##//Finally set the property#getProject#(#)#.#setNewProperty#(#DEFAULT_PROPERTY_NAME#,#String#.#valueOf#(#buildNumber#)#)#;#}