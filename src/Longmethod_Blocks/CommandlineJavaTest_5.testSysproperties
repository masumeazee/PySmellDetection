void#testSysproperties#(#)#{#String#currentClasspath#=#System#.#getProperty#(#"java.class.path"#)#;#assertNotNull#(#currentClasspath#)#;#assertNull#(#System#.#getProperty#(#"key"#)#)#;#CommandlineJava#c#=#new#CommandlineJava#(#)#;#Environment#.#Variable#v#=#new#Environment#.#Variable#(#)#;#v#.#setKey#(#"key"#)#;#v#.#setValue#(#"value"#)#;#c#.#addSysproperty#(#v#)#;#project#.#setProperty#(#"key2"#,#"value2"#)#;#PropertySet#ps#=#new#PropertySet#(#)#;#ps#.#setProject#(#project#)#;#ps#.#appendName#(#"key2"#)#;#c#.#addSyspropertyset#(#ps#)#;##try#{#c#.#setSystemProperties#(#)#;#String#newClasspath#=#System#.#getProperty#(#"java.class.path"#)#;#assertNotNull#(#newClasspath#)#;#assertEquals#(#currentClasspath#,#newClasspath#)#;#assertNotNull#(#System#.#getProperty#(#"key"#)#)#;#assertEquals#(#"value"#,#System#.#getProperty#(#"key"#)#)#;#assertTrue#(#System#.#getProperties#(#)#.#containsKey#(#"java.class.path"#)#)#;#assertNotNull#(#System#.#getProperty#(#"key2"#)#)#;#assertEquals#(#"value2"#,#System#.#getProperty#(#"key2"#)#)#;#}##finally#{#c#.#restoreSystemProperties#(#)#;#}##assertNull#(#System#.#getProperty#(#"key"#)#)#;#assertNull#(#System#.#getProperty#(#"key2"#)#)#;#}