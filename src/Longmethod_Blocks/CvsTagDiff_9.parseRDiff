CvsTagEntry#[#]#parseRDiff#(#File#tmpFile#)#throws#BuildException#{##// parse the output of the command#BufferedReader#reader#=#null#;##try#{#reader#=#new#BufferedReader#(#new#FileReader#(#tmpFile#)#)#;##// entries are of the form:##//CVS 1.11##// File module/filename is new; current revision 1.1##//CVS 1.11.9##// File module/filename is new; cvstag_2003_11_03_2  revision 1.1##// or##// File module/filename changed from revision 1.4 to 1.6##// or##// File module/filename is removed; not included in##// release tag SKINLF_12##//CVS 1.11.9##// File testantoine/antoine.bat is removed; TESTANTOINE_1 revision 1.1.1.1##//##// get rid of 'File module/"#Vector#entries#=#new#Vector#(#)#;#String#line#=#reader#.#readLine#(#)#;##while#(#null#!=#line#)#{#line#=#removePackageName#(#line#,#packageNamePrefixes#,#packageNamePrefixLengths#)#;##if#(#line#!=#null#)#{##// use || in a perl like fashion#boolean#processed#=#doFileIsNew#(#entries#,#line#)#||#doFileHasChanged#(#entries#,#line#)#||#doFileWasRemoved#(#entries#,#line#)#;#}##line#=#reader#.#readLine#(#)#;#}##CvsTagEntry#[#]#array#=#new#CvsTagEntry#[#entries#.#size#(#)#]#;#entries#.#copyInto#(#array#)#;##return#array#;#}##catch#(#IOException#e#)#{#throw#new#BuildException#(#"Error in parsing"#,#e#)#;#}##finally#{##if#(#reader#!=#null#)#{#try#{#reader#.#close#(#)#;#}##catch#(#IOException#e#)#{#log#(#e#.#toString#(#)#,#Project#.#MSG_ERR#)#;#}#}#}#}