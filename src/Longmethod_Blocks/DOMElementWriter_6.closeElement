void#closeElement#(#Element#element#,#Writer#out#,#int#indent#,#String#indentWith#,#boolean#hasChildren#)#throws#IOException#{##// If we had child elements, we need to indent before we close##// the element, otherwise we're on the same line and don't need##// to indent##if#(#hasChildren#)#{#for#(#int#i#=#0#;##i#<#indent#;#i#++#)#{#out#.#write#(#indentWith#)#;#}#}##// Write element close#out#.#write#(#"</"#)#;##if#(#namespacePolicy#.#qualifyElements#)#{#String#uri#=#getNamespaceURI#(#element#)#;#String#prefix#=#(#String#)#nsPrefixMap#.#get#(#uri#)#;##if#(#prefix#!=#null#&&#!#""#.#equals#(#prefix#)#)#{#out#.#write#(#prefix#)#;#out#.#write#(#":"#)#;#}##removeNSDefinitions#(#element#)#;#}##out#.#write#(#element#.#getTagName#(#)#)#;#out#.#write#(#">"#)#;#out#.#write#(#lSep#)#;#out#.#flush#(#)#;#}