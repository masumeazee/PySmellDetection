int#executeExternalCompile#(#String#[#]#args#,#int#firstFileName#,#boolean#quoteFiles#)#{#String#[#]#commandArray#=#null#;#File#tmpFile#=#null#;##try#{##/*
             * Many system have been reported to get into trouble with
             * long command lines - no, not only Windows ;-).
             *
             * POSIX seems to define a lower limit of 4k, so use a temporary
             * file if the total length of the command line exceeds this limit.
             */##if#(#Commandline#.#toString#(#args#)#.#length#(#)#>#COMMAND_LINE_LIMIT#&&#firstFileName#>=#0#)#{#BufferedWriter#out#=#null#;##try#{#tmpFile#=#FILE_UTILS#.#createTempFile#(#"files"#,#""#,#getJavac#(#)#.#getTempdir#(#)#,#true#,#true#)#;#out#=#new#BufferedWriter#(#new#FileWriter#(#tmpFile#)#)#;##for#(#int#i#=#firstFileName#;##i#<#args#.#length#;#i#++#)#{##if#(#quoteFiles#&&#args#[#i#]#.#indexOf#(#" "#)#>#-#1#)#{#args#[#i#]#=#args#[#i#]#.#replace#(#File#.#separatorChar#,#'/'#)#;#out#.#write#(#"\""#+#args#[#i#]#+#"\""#)#;#}#else#{#out#.#write#(#args#[#i#]#)#;#}##out#.#newLine#(#)#;#}##out#.#flush#(#)#;#commandArray#=#new#String#[#firstFileName#+#1#]#;#System#.#arraycopy#(#args#,#0#,#commandArray#,#0#,#firstFileName#)#;#commandArray#[#firstFileName#]#=#"@"#+#tmpFile#;#}##catch#(#IOException#e#)#{#throw#new#BuildException#(#"Error creating temporary file"#,#e#,#location#)#;#}##finally#{#FileUtils#.#close#(#out#)#;#}#}#else#{#commandArray#=#args#;#}##try#{#Execute#exe#=#new#Execute#(#new#LogStreamHandler#(#attributes#,#Project#.#MSG_INFO#,#Project#.#MSG_WARN#)#)#;##if#(#Os#.#isFamily#(#"openvms"#)#)#{##//Use the VM launcher instead of shell launcher on VMS##//for java#exe#.#setVMLauncher#(#true#)#;#}##exe#.#setAntRun#(#project#)#;#exe#.#setWorkingDirectory#(#project#.#getBaseDir#(#)#)#;#exe#.#setCommandline#(#commandArray#)#;#exe#.#execute#(#)#;##return#exe#.#getExitValue#(#)#;#}##catch#(#IOException#e#)#{#throw#new#BuildException#(#"Error running "#+#args#[#0#]#+#" compiler"#,#e#,#location#)#;#}#}##finally#{##if#(#tmpFile#!=#null#)#{#tmpFile#.#delete#(#)#;#}#}#}