void#runExecute#(#Execute#exe#)#throws#IOException#{#int#returnCode#=#-#1#;##// assume the worst##if#(#!#spawn#)#{#returnCode#=#exe#.#execute#(#)#;##//test for and handle a forced process death##if#(#exe#.#killedProcess#(#)#)#{#String#msg#=#"Timeout: killed the sub-process"#;##if#(#failOnError#)#{#throw#new#BuildException#(#msg#)#;#}#else#{#log#(#msg#,#Project#.#MSG_WARN#)#;#}#}##maybeSetResultPropertyValue#(#returnCode#)#;#redirector#.#complete#(#)#;##if#(#Execute#.#isFailure#(#returnCode#)#)#{##if#(#failOnError#)#{#throw#new#BuildException#(#getTaskType#(#)#+#" returned: "#+#returnCode#,#getLocation#(#)#)#;#}#else#{#log#(#"Result: "#+#returnCode#,#Project#.#MSG_ERR#)#;#}#}#}#else#{#exe#.#spawn#(#)#;#}#}