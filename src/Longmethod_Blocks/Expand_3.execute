void#execute#(#)#throws#BuildException#{##if#(#"expand"#.#equals#(#getTaskType#(#)#)#)#{#log#(#"!! expand is deprecated. Use unzip instead. !!"#)#;#}##if#(#source#==#null#&&#!#resourcesSpecified#)#{#throw#new#BuildException#(#"src attribute and/or resources must be "#+#"specified"#)#;#}##if#(#dest#==#null#)#{#throw#new#BuildException#(#"Dest attribute must be specified"#)#;#}##if#(#dest#.#exists#(#)#&&#!#dest#.#isDirectory#(#)#)#{#throw#new#BuildException#(#"Dest must be a directory."#,#getLocation#(#)#)#;#}##if#(#source#!=#null#)#{##if#(#source#.#isDirectory#(#)#)#{#throw#new#BuildException#(#"Src must not be a directory."#+#" Use nested filesets instead."#,#getLocation#(#)#)#;#}#else##if#(#!#source#.#exists#(#)#)#{#throw#new#BuildException#(#"src '"#+#source#+#"' doesn't exist."#)#;#}#else##if#(#!#source#.#canRead#(#)#)#{#throw#new#BuildException#(#"src '"#+#source#+#"' cannot be read."#)#;#}#else#{#expandFile#(#FILE_UTILS#,#source#,#dest#)#;#}#}##Iterator#iter#=#resources#.#iterator#(#)#;##while#(#iter#.#hasNext#(#)#)#{#Resource#r#=#(#Resource#)#iter#.#next#(#)#;##if#(#!#r#.#isExists#(#)#)#{#log#(#"Skipping '"#+#r#.#getName#(#)#+#"' because it doesn't exist."#)#;#continue#;#}##FileProvider#fp#=#(#FileProvider#)#r#.#as#(#FileProvider#.#class#)#;##if#(#fp#!=#null#)#{#expandFile#(#FILE_UTILS#,#fp#.#getFile#(#)#,#dest#)#;#}#else#{#expandResource#(#r#,#dest#)#;#}#}#}