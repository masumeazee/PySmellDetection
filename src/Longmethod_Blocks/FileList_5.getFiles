String#[#]#getFiles#(#Project#p#)#{##if#(#isReference#(#)#)#{##return#getRef#(#p#)#.#getFiles#(#p#)#;#}##if#(#dir#==#null#)#{#throw#new#BuildException#(#"No directory specified for filelist."#)#;#}##if#(#filenames#.#size#(#)#==#0#)#{#throw#new#BuildException#(#"No files specified for filelist."#)#;#}##String#[#]#result#=#new#String#[#filenames#.#size#(#)#]#;#filenames#.#copyInto#(#result#)#;##return#result#;#}