String#toVMSPath#(#File#f#)#{##// format: "DEVICE:[DIR.SUBDIR]FILE"#String#osPath#;#String#path#=#normalize#(#f#.#getAbsolutePath#(#)#)#.#getPath#(#)#;#String#name#=#f#.#getName#(#)#;#boolean#isAbsolute#=#path#.#charAt#(#0#)#==#File#.#separatorChar#;##// treat directories specified using .DIR syntax as files##// CheckStyle:MagicNumber OFF#boolean#isDirectory#=#f#.#isDirectory#(#)#&&#!#name#.#regionMatches#(#true#,#name#.#length#(#)#-#4#,#".DIR"#,#0#,#4#)#;##// CheckStyle:MagicNumber ON#String#device#=#null#;#StringBuffer#directory#=#null#;#String#file#=#null#;#int#index#=#0#;##if#(#isAbsolute#)#{#index#=#path#.#indexOf#(#File#.#separatorChar#,#1#)#;##if#(#index#==#-#1#)#{##return#path#.#substring#(#1#)#+#":[000000]"#;#}##device#=#path#.#substring#(#1#,#index#++#)#;#}##if#(#isDirectory#)#{#directory#=#new#StringBuffer#(#path#.#substring#(#index#)#.#replace#(#File#.#separatorChar#,#'.'#)#)#;#}#else#{#int#dirEnd#=#path#.#lastIndexOf#(#File#.#separatorChar#,#path#.#length#(#)#)#;##if#(#dirEnd#==#-#1#||#dirEnd#<#index#)#{#file#=#path#.#substring#(#index#)#;#}#else#{#directory#=#new#StringBuffer#(#path#.#substring#(#index#,#dirEnd#)#.#replace#(#File#.#separatorChar#,#'.'#)#)#;#index#=#dirEnd#+#1#;##if#(#path#.#length#(#)#>#index#)#{#file#=#path#.#substring#(#index#)#;#}#}#}##if#(#!#isAbsolute#&&#directory#!=#null#)#{#directory#.#insert#(#0#,#'.'#)#;#}##osPath#=#(#(#device#!=#null#)#?#device#+#":"#:#""#)#+#(#(#directory#!=#null#)#?#"["#+#directory#+#"]"#:#""#)#+#(#(#file#!=#null#)#?#file#:#""#)#;##return#osPath#;#}