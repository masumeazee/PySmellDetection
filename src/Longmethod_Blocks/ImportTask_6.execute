void#execute#(#)#{##if#(#file#==#null#&&#resources#.#size#(#)#==#0#)#{#throw#new#BuildException#(#"import requires file attribute or"#+#" at least one nested resource"#)#;#}##if#(#getOwningTarget#(#)#==#null#||#!#""#.#equals#(#getOwningTarget#(#)#.#getName#(#)#)#)#{#throw#new#BuildException#(#"import only allowed as a top-level task"#)#;#}##ProjectHelper#helper#=#(#ProjectHelper#)#getProject#(#)#.#getReference#(#ProjectHelper#.#PROJECTHELPER_REFERENCE#)#;##if#(#helper#==#null#)#{##// this happens if the projecthelper was not registered with the project.#throw#new#BuildException#(#"import requires support in ProjectHelper"#)#;#}##Vector#importStack#=#helper#.#getImportStack#(#)#;##if#(#importStack#.#size#(#)#==#0#)#{##// this happens if ant is used with a project##// helper that doesn't set the import.#throw#new#BuildException#(#"import requires support in ProjectHelper"#)#;#}##if#(#getLocation#(#)#==#null#||#getLocation#(#)#.#getFileName#(#)#==#null#)#{#throw#new#BuildException#(#"Unable to get location of import task"#)#;#}##Union#resourcesToImport#=#new#Union#(#getProject#(#)#,#resources#)#;#Resource#fromFileAttribute#=#getFileAttributeResource#(#)#;##if#(#fromFileAttribute#!=#null#)#{#resources#.#add#(#fromFileAttribute#)#;#}##for#(#Iterator#i#=#resourcesToImport#.#iterator#(#)#;##i#.#hasNext#(#)#;#)#{#importResource#(#helper#,#(#Resource#)#i#.#next#(#)#)#;#}#}