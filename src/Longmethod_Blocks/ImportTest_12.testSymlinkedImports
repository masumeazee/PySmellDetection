void#testSymlinkedImports#(#)#throws#Exception#{#String#ln#=#"/usr/bin/ln"#;##if#(#!#new#File#(#ln#)#.#exists#(#)#)#{#ln#=#"/bin/ln"#;#}##if#(#!#new#File#(#ln#)#.#exists#(#)#)#{##// Running on Windows or something, so skip it.##return#;#}##String#symlink#=#"src/etc/testcases/taskdefs/import/symlinks/d3b"#;#File#symlinkFile#=#new#File#(#System#.#getProperty#(#"root"#)#,#symlink#)#;##if#(#Runtime#.#getRuntime#(#)#.#exec#(#new#String#[#]#{#ln#,#"-s"#,#"d3a"#,#symlinkFile#.#getAbsolutePath#(#)#}#)#.#waitFor#(#)#!=#0#)#{#throw#new#IOException#(#"'"#+#ln#+#" -s d3a "#+#symlink#+#"' failed"#)#;#}##try#{#configureProject#(#"src/etc/testcases/taskdefs/import/symlinks/d1/p1.xml"#)#;#assertPropertyEquals#(#"ant.file.p2"#,#new#File#(#System#.#getProperty#(#"root"#)#,#"src/etc/testcases/taskdefs/import/symlinks/d2/p2.xml"#)#.#getAbsolutePath#(#)#)#;#assertPropertyEquals#(#"ant.file.p3"#,#new#File#(#System#.#getProperty#(#"root"#)#,#"src/etc/testcases/taskdefs/import/symlinks/d3b/p3.xml"#)#.#getAbsolutePath#(#)#)#;#}##finally#{#symlinkFile#.#delete#(#)#;#}#}