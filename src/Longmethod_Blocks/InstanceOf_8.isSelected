boolean#isSelected#(#Resource#r#)#{##if#(#(#clazz#==#null#)#==#(#type#==#null#)#)#{#throw#new#BuildException#(#ONE_ONLY#)#;#}##Class#c#=#clazz#;##if#(#type#!=#null#)#{##if#(#project#==#null#)#{#throw#new#BuildException#(#"No project set for InstanceOf ResourceSelector; "#+#"the type attribute is invalid."#)#;#}##AntTypeDefinition#d#=#ComponentHelper#.#getComponentHelper#(#project#)#.#getDefinition#(#ProjectHelper#.#genComponentName#(#uri#,#type#)#)#;##if#(#d#==#null#)#{#throw#new#BuildException#(#"type "#+#type#+#" not found."#)#;#}##try#{#c#=#d#.#innerGetTypeClass#(#)#;#}##catch#(#ClassNotFoundException#e#)#{#throw#new#BuildException#(#e#)#;#}#}##return#c#.#isAssignableFrom#(#r#.#getClass#(#)#)#;#}