String#escape#(#String#s#,#boolean#escapeAllSpaces#)#{##if#(#s#==#null#)#{##return#null#;#}##char#[#]#ch#=#new#char#[#s#.#length#(#)#]#;#s#.#getChars#(#0#,#s#.#length#(#)#,#ch#,#0#)#;#String#forEscaping#=#"\t\f\r\n\\:=#!"#;#String#escaped#=#"tfrn\\:=#!"#;#StringBuffer#buffy#=#new#StringBuffer#(#s#.#length#(#)#)#;#boolean#leadingSpace#=#true#;##for#(#int#i#=#0#;##i#<#ch#.#length#;#i#++#)#{#char#c#=#ch#[#i#]#;##if#(#c#==#' '#)#{##if#(#escapeAllSpaces#||#leadingSpace#)#{#buffy#.#append#(#"\\"#)#;#}#}#else#{#leadingSpace#=#false#;#}##int#p#=#forEscaping#.#indexOf#(#c#)#;##if#(#p#!=#-#1#)#{#buffy#.#append#(#"\\"#)#.#append#(#escaped#.#substring#(#p#,#p#+#1#)#)#;#}#else##if#(#c#<#0x0020#||#c#>#0x007e#)#{#buffy#.#append#(#escapeUnicode#(#c#)#)#;#}#else#{#buffy#.#append#(#c#)#;#}#}##return#buffy#.#toString#(#)#;#}