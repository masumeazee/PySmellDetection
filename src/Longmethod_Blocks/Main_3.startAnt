void#startAnt#(#String#[#]#args#,#Properties#additionalUserProperties#,#ClassLoader#coreLoader#)#{#try#{#Diagnostics#.#validateVersion#(#)#;#processArgs#(#args#)#;#}##catch#(#Throwable#exc#)#{#handleLogfile#(#)#;#printMessage#(#exc#)#;#exit#(#1#)#;##return#;#}##if#(#additionalUserProperties#!=#null#)#{#for#(#Enumeration#e#=#additionalUserProperties#.#keys#(#)#;##e#.#hasMoreElements#(#)#;#)#{#String#key#=#(#String#)#e#.#nextElement#(#)#;#String#property#=#additionalUserProperties#.#getProperty#(#key#)#;#definedProps#.#put#(#key#,#property#)#;#}#}##// expect the worst#int#exitCode#=#1#;##try#{#try#{#runBuild#(#coreLoader#)#;#exitCode#=#0#;#}##catch#(#ExitStatusException#ese#)#{#exitCode#=#ese#.#getStatus#(#)#;##if#(#exitCode#!=#0#)#{#throw#ese#;#}#}#}##catch#(#BuildException#be#)#{##if#(#err#!=#System#.#err#)#{#printMessage#(#be#)#;#}#}##catch#(#Throwable#exc#)#{#exc#.#printStackTrace#(#)#;#printMessage#(#exc#)#;#}##finally#{#handleLogfile#(#)#;#}##exit#(#exitCode#)#;#}