void#doScenarioTest#(#String#target#,#String#cachefilename#)#{#BFT#bft#=#new#BFT#(#)#;#bft#.#setUp#(#)#;#File#cachefile#=#new#File#(#basedir#,#cachefilename#)#;##try#{##// do the actions#bft#.#doTarget#(#"modifiedselectortest-scenario-clean"#)#;#bft#.#doTarget#(#target#)#;##// the directories to check#File#to1#=#new#File#(#basedir#,#"selectortest/to-1"#)#;#File#to2#=#new#File#(#basedir#,#"selectortest/to-2"#)#;#File#to3#=#new#File#(#basedir#,#"selectortest/to-3"#)#;##// do the checks#assertTrue#(#"Cache file not created."#,#cachefile#.#exists#(#)#)#;#assertTrue#(#"Not enough files copied on first time."#,#to1#.#list#(#)#.#length#>#5#)#;#assertTrue#(#"Too much files copied on second time."#,#to2#.#list#(#)#.#length#==#0#)#;#assertTrue#(#"Too much files copied on third time."#,#to3#.#list#(#)#.#length#==#2#)#;##// don't catch the JUnit exceptions#}##finally#{#bft#.#doTarget#(#"modifiedselectortest-scenario-clean"#)#;#bft#.#deletePropertiesfile#(#)#;#bft#.#tearDown#(#)#;#cachefile#.#delete#(#)#;#}#}