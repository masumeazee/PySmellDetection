int#countThreads#(#String#s#,#int#start#)#{#int#firstPipe#=#s#.#indexOf#(#'|'#,#start#)#;#int#beginSlash#=#s#.#indexOf#(#'/'#,#firstPipe#)#;#int#lastPipe#=#s#.#indexOf#(#'|'#,#beginSlash#)#;##if#(#(#firstPipe#==#-#1#)#||#(#beginSlash#==#-#1#)#||#(#lastPipe#==#-#1#)#)#{##return#-#1#;#}##int#max#=#Integer#.#parseInt#(#s#.#substring#(#firstPipe#+#1#,#beginSlash#)#)#;#int#current#=#0#;#int#pos#=#beginSlash#+#1#;##while#(#pos#<#lastPipe#)#{#switch#(#s#.#charAt#(#pos#++#)#)#{#case#'+'#:#current#++#;#break#;#case#'-'#:#current#--#;#break#;#default#:#throw#new#AssertionFailedError#(#"Only expect '+-' in result count, found "#+#s#.#charAt#(#--#pos#)#+#" at position "#+#pos#)#;#}##if#(#current#>#max#)#{#throw#new#AssertionFailedError#(#"Number of executing threads exceeded number allowed: "#+#current#+#" > "#+#max#)#;#}#}##return#lastPipe#;#}