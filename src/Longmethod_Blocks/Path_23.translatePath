String#[#]#translatePath#(#Project#project#,#String#source#)#{#final#Vector#result#=#new#Vector#(#)#;##if#(#source#==#null#)#{##return#new#String#[#0#]#;#}##PathTokenizer#tok#=#new#PathTokenizer#(#source#)#;#StringBuffer#element#=#new#StringBuffer#(#)#;##while#(#tok#.#hasMoreTokens#(#)#)#{#String#pathElement#=#tok#.#nextToken#(#)#;##try#{#element#.#append#(#resolveFile#(#project#,#pathElement#)#.#getPath#(#)#)#;#}##catch#(#BuildException#e#)#{#project#.#log#(#"Dropping path element "#+#pathElement#+#" as it is not valid relative to the project"#,#Project#.#MSG_VERBOSE#)#;#}##for#(#int#i#=#0#;##i#<#element#.#length#(#)#;#i#++#)#{#translateFileSep#(#element#,#i#)#;#}##result#.#addElement#(#element#.#toString#(#)#)#;#element#=#new#StringBuffer#(#)#;#}##String#[#]#res#=#new#String#[#result#.#size#(#)#]#;#result#.#copyInto#(#res#)#;##return#res#;#}