void#addShutdownHook#(#)#{##if#(#addShutdownHookMethod#!=#null#&&#!#running#)#{#destroyProcessThread#=#new#ProcessDestroyerImpl#(#)#;#Object#[#]#args#=#{#destroyProcessThread#}#;##try#{#addShutdownHookMethod#.#invoke#(#Runtime#.#getRuntime#(#)#,#args#)#;#added#=#true#;#}##catch#(#IllegalAccessException#e#)#{#e#.#printStackTrace#(#)#;#}##catch#(#InvocationTargetException#e#)#{#Throwable#t#=#e#.#getTargetException#(#)#;##if#(#t#!=#null#&&#t#.#getClass#(#)#==#IllegalStateException#.#class#)#{##// shutdown already is in progress#running#=#true#;#}#else#{#e#.#printStackTrace#(#)#;#}#}#}#}