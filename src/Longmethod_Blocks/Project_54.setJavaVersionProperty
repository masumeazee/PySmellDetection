void#setJavaVersionProperty#(#)#throws#BuildException#{#String#javaVersion#=#JavaEnvUtils#.#getJavaVersion#(#)#;#setPropertyInternal#(#MagicNames#.#ANT_JAVA_VERSION#,#javaVersion#)#;##// sanity check##if#(#!#JavaEnvUtils#.#isAtLeastJavaVersion#(#JavaEnvUtils#.#JAVA_1_4#)#)#{#throw#new#BuildException#(#"Ant cannot work on Java prior to 1.4"#)#;#}##log#(#"Detected Java version: "#+#javaVersion#+#" in: "#+#System#.#getProperty#(#"java.home"#)#,#MSG_VERBOSE#)#;#log#(#"Detected OS: "#+#System#.#getProperty#(#"os.name"#)#,#MSG_VERBOSE#)#;#}