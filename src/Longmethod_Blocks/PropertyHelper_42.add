void#add#(#Delegate#delegate#)#{#synchronized#(#delegates#)#{#for#(#Iterator#iter#=#getDelegateInterfaces#(#delegate#)#.#iterator#(#)#;##iter#.#hasNext#(#)#;#)#{#Object#key#=#iter#.#next#(#)#;#List#list#=#(#List#)#delegates#.#get#(#key#)#;##if#(#list#==#null#)#{#list#=#new#ArrayList#(#)#;#}#else#{#list#=#new#ArrayList#(#list#)#;#list#.#remove#(#delegate#)#;#}##list#.#add#(#0#,#delegate#)#;#delegates#.#put#(#key#,#Collections#.#unmodifiableList#(#list#)#)#;#}#}#}