void#waitForEOF#(#Integer#timeout#)#{#InputStream#is#=#this#.#getInputStream#(#)#;##try#{#StringBuffer#sb#=#new#StringBuffer#(#)#;##if#(#timeout#==#null#||#timeout#.#intValue#(#)#==#0#)#{#int#read#;##while#(#(#read#=#is#.#read#(#)#)#!=#-#1#)#{#char#c#=#(#char#)#read#;#sb#.#append#(#c#)#;##if#(#c#==#'\n'#)#{#log#(#sb#.#toString#(#)#,#Project#.#MSG_INFO#)#;#sb#.#delete#(#0#,#sb#.#length#(#)#)#;#}#}#}#else#{#Calendar#endTime#=#Calendar#.#getInstance#(#)#;#endTime#.#add#(#Calendar#.#SECOND#,#timeout#.#intValue#(#)#)#;#int#read#=#0#;##while#(#read#!=#-#1#)#{#while#(#Calendar#.#getInstance#(#)#.#before#(#endTime#)#&&#is#.#available#(#)#==#0#)#{#Thread#.#sleep#(#PAUSE_TIME#)#;#}##if#(#is#.#available#(#)#==#0#)#{#log#(#sb#.#toString#(#)#,#Project#.#MSG_INFO#)#;#throw#new#BuildException#(#"Response timed-out waiting for EOF"#,#getLocation#(#)#)#;#}##read#=#is#.#read#(#)#;##if#(#read#!=#-#1#)#{#char#c#=#(#char#)#read#;#sb#.#append#(#c#)#;##if#(#c#==#'\n'#)#{#log#(#sb#.#toString#(#)#,#Project#.#MSG_INFO#)#;#sb#.#delete#(#0#,#sb#.#length#(#)#)#;#}#}#}#}##if#(#sb#.#length#(#)#>#0#)#{#log#(#sb#.#toString#(#)#,#Project#.#MSG_INFO#)#;#}#}##catch#(#BuildException#be#)#{#throw#be#;#}##catch#(#Exception#e#)#{#throw#new#BuildException#(#e#,#getLocation#(#)#)#;#}#}