void#execute#(#)#throws#BuildException#{##if#(#regex#==#null#)#{#throw#new#BuildException#(#"No expression to match."#)#;#}##if#(#subs#==#null#)#{#throw#new#BuildException#(#"Nothing to replace expression with."#)#;#}##if#(#file#!=#null#&&#resources#!=#null#)#{#throw#new#BuildException#(#"You cannot supply the 'file' attribute "#+#"and resource collections at the same "#+#"time."#)#;#}##int#options#=#0#;##if#(#flags#.#indexOf#(#'g'#)#!=#-#1#)#{#options#|=#Regexp#.#REPLACE_ALL#;#}##if#(#flags#.#indexOf#(#'i'#)#!=#-#1#)#{#options#|=#Regexp#.#MATCH_CASE_INSENSITIVE#;#}##if#(#flags#.#indexOf#(#'m'#)#!=#-#1#)#{#options#|=#Regexp#.#MATCH_MULTILINE#;#}##if#(#flags#.#indexOf#(#'s'#)#!=#-#1#)#{#options#|=#Regexp#.#MATCH_SINGLELINE#;#}##if#(#file#!=#null#&&#file#.#exists#(#)#)#{#try#{#doReplace#(#file#,#options#)#;#}##catch#(#IOException#e#)#{#log#(#"An error occurred processing file: '"#+#file#.#getAbsolutePath#(#)#+#"': "#+#e#.#toString#(#)#,#Project#.#MSG_ERR#)#;#}#}#else##if#(#file#!=#null#)#{#log#(#"The following file is missing: '"#+#file#.#getAbsolutePath#(#)#+#"'"#,#Project#.#MSG_ERR#)#;#}##if#(#resources#!=#null#)#{#for#(#Iterator#i#=#resources#.#iterator#(#)#;##i#.#hasNext#(#)#;#)#{#FileProvider#fp#=#(#FileProvider#)#(#(#Resource#)#i#.#next#(#)#)#.#as#(#FileProvider#.#class#)#;#File#f#=#fp#.#getFile#(#)#;##if#(#f#.#exists#(#)#)#{#try#{#doReplace#(#f#,#options#)#;#}##catch#(#Exception#e#)#{#log#(#"An error occurred processing file: '"#+#f#.#getAbsolutePath#(#)#+#"': "#+#e#.#toString#(#)#,#Project#.#MSG_ERR#)#;#}#}#else#{#log#(#"The following file is missing: '"#+#f#.#getAbsolutePath#(#)#+#"'"#,#Project#.#MSG_ERR#)#;#}#}#}#}