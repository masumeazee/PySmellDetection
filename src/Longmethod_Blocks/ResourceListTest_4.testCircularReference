void#testCircularReference#(#)#throws#Exception#{#ResourceList#rl1#=#new#ResourceList#(#)#;#rl1#.#setProject#(#getProject#(#)#)#;#rl1#.#setRefid#(#new#Reference#(#getProject#(#)#,#"foo"#)#)#;#ResourceList#rl2#=#new#ResourceList#(#)#;#rl2#.#setProject#(#getProject#(#)#)#;#getProject#(#)#.#addReference#(#"foo"#,#rl2#)#;#Union#u#=#new#Union#(#)#;#u#.#add#(#rl1#)#;#u#.#setProject#(#getProject#(#)#)#;#rl2#.#add#(#u#)#;##try#{#rl2#.#size#(#)#;#fail#(#"Can make ResourceList a Reference to itself."#)#;#}##catch#(#BuildException#be#)#{#assertEquals#(#"This data type contains a circular reference."#,#be#.#getMessage#(#)#)#;#}#}