void#execSQL#(#String#sql#,#PrintStream#out#)#throws#SQLException#{##// Check and ignore empty statements##if#(#""#.#equals#(#sql#.#trim#(#)#)#)#{##return#;#}##ResultSet#resultSet#=#null#;##try#{#totalSql#++#;#log#(#"SQL: "#+#sql#,#Project#.#MSG_VERBOSE#)#;#boolean#ret#;#int#updateCount#=#0#,#updateCountTotal#=#0#;#ret#=#getStatement#(#)#.#execute#(#sql#)#;#updateCount#=#getStatement#(#)#.#getUpdateCount#(#)#;##do#{##if#(#updateCount#!=#-#1#)#{#updateCountTotal#+=#updateCount#;#}##if#(#ret#)#{#resultSet#=#getStatement#(#)#.#getResultSet#(#)#;#printWarnings#(#resultSet#.#getWarnings#(#)#,#false#)#;#resultSet#.#clearWarnings#(#)#;##if#(#print#)#{#printResults#(#resultSet#,#out#)#;#}#}##ret#=#getStatement#(#)#.#getMoreResults#(#)#;#updateCount#=#getStatement#(#)#.#getUpdateCount#(#)#;#}##while#(#ret#||#updateCount#!=#-#1#)#;##printWarnings#(#getStatement#(#)#.#getWarnings#(#)#,#false#)#;#getStatement#(#)#.#clearWarnings#(#)#;#log#(#updateCountTotal#+#" rows affected"#,#Project#.#MSG_VERBOSE#)#;##if#(#updateCountTotal#!=#-#1#)#{#setRowCountProperty#(#updateCountTotal#)#;#}##if#(#print#&&#showtrailers#)#{#out#.#println#(#updateCountTotal#+#" rows affected"#)#;#}##SQLWarning#warning#=#getConnection#(#)#.#getWarnings#(#)#;#printWarnings#(#warning#,#true#)#;#getConnection#(#)#.#clearWarnings#(#)#;#goodSql#++#;#}##catch#(#SQLException#e#)#{#log#(#"Failed to execute: "#+#sql#,#Project#.#MSG_ERR#)#;#setErrorProperty#(#)#;##if#(#!#onError#.#equals#(#"abort"#)#)#{#log#(#e#.#toString#(#)#,#Project#.#MSG_ERR#)#;#}##if#(#!#onError#.#equals#(#"continue"#)#)#{#throw#e#;#}#}##finally#{##if#(#resultSet#!=#null#)#{#try#{#resultSet#.#close#(#)#;#}##catch#(#SQLException#e#)#{##//ignore#}#}#}#}