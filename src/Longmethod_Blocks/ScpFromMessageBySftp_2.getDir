void#getDir#(#ChannelSftp#channel#,#String#remoteFile#,#File#localFile#)#throws#IOException#,#SftpException#{#String#pwd#=#remoteFile#;##if#(#remoteFile#.#lastIndexOf#(#'/'#)#!=#-#1#)#{##if#(#remoteFile#.#length#(#)#>#1#)#{#pwd#=#remoteFile#.#substring#(#0#,#remoteFile#.#lastIndexOf#(#'/'#)#)#;#}#}##channel#.#cd#(#pwd#)#;##if#(#!#localFile#.#exists#(#)#)#{#localFile#.#mkdirs#(#)#;#}##java#.#util#.#Vector#files#=#channel#.#ls#(#remoteFile#)#;##for#(#int#i#=#0#;##i#<#files#.#size#(#)#;#i#++#)#{#ChannelSftp#.#LsEntry#le#=#(#ChannelSftp#.#LsEntry#)#files#.#elementAt#(#i#)#;#String#name#=#le#.#getFilename#(#)#;##if#(#le#.#getAttrs#(#)#.#isDir#(#)#)#{##if#(#name#.#equals#(#"."#)#||#name#.#equals#(#".."#)#)#{#continue#;#}##getDir#(#channel#,#channel#.#pwd#(#)#+#"/"#+#name#+#"/"#,#new#File#(#localFile#,#le#.#getFilename#(#)#)#)#;#}#else#{#getFile#(#channel#,#le#,#localFile#)#;#}#}##channel#.#cd#(#".."#)#;#}