void#testSingleFileUploadAndDownload#(#)#throws#IOException#{#assertNotNull#(#"system property scp.tmp must be set"#,#tempDir#)#;#File#uploadFile#=#createTemporaryFile#(#)#;##// upload#Scp#scpTask#=#createTask#(#)#;#scpTask#.#setFile#(#uploadFile#.#getPath#(#)#)#;#scpTask#.#setTodir#(#sshHostUri#)#;#scpTask#.#execute#(#)#;#File#testFile#=#new#File#(#tempDir#.#getPath#(#)#+#File#.#separator#+#"download-testSingleFileUploadAndDownload.test"#)#;#addCleanup#(#testFile#)#;#assertTrue#(#"Assert that the testFile does not exist."#,#!#testFile#.#exists#(#)#)#;##// download#scpTask#=#createTask#(#)#;#scpTask#.#setFile#(#sshHostUri#+#"/"#+#uploadFile#.#getName#(#)#)#;#scpTask#.#setTodir#(#testFile#.#getPath#(#)#)#;#scpTask#.#execute#(#)#;#assertTrue#(#"Assert that the testFile exists."#,#testFile#.#exists#(#)#)#;#compareFiles#(#uploadFile#,#testFile#)#;#}