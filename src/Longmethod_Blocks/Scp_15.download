void#download#(#String#fromSshUri#,#String#toPath#)#throws#JSchException#,#IOException#{#String#file#=#parseUri#(#fromSshUri#)#;#Session#session#=#null#;##try#{#session#=#openSession#(#)#;#ScpFromMessage#message#=#null#;##if#(#!#isSftp#)#{#message#=#new#ScpFromMessage#(#getVerbose#(#)#,#session#,#file#,#getProject#(#)#.#resolveFile#(#toPath#)#,#fromSshUri#.#endsWith#(#"*"#)#,#preserveLastModified#)#;#}#else#{#message#=#new#ScpFromMessageBySftp#(#getVerbose#(#)#,#session#,#file#,#getProject#(#)#.#resolveFile#(#toPath#)#,#fromSshUri#.#endsWith#(#"*"#)#,#preserveLastModified#)#;#}##log#(#"Receiving file: "#+#file#)#;#message#.#setLogListener#(#this#)#;#message#.#execute#(#)#;#}##finally#{##if#(#session#!=#null#)#{#session#.#disconnect#(#)#;#}#}#}