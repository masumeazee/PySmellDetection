void#transform#(#File#infile#,#File#outfile#)#throws#Exception#{##if#(#transformer#==#null#)#{#createTransformer#(#)#;#}##InputStream#fis#=#null#;#OutputStream#fos#=#null#;##try#{#fis#=#new#BufferedInputStream#(#new#FileInputStream#(#infile#)#)#;#fos#=#new#BufferedOutputStream#(#new#FileOutputStream#(#outfile#)#)#;#StreamResult#res#=#new#StreamResult#(#fos#)#;##// not sure what could be the need of this...#res#.#setSystemId#(#JAXPUtils#.#getSystemId#(#outfile#)#)#;#Source#src#=#getSource#(#fis#,#infile#)#;##// set parameters on each transformation, maybe something has changed##//(e.g. value of file name parameter)#setTransformationParameters#(#)#;#transformer#.#transform#(#src#,#res#)#;#}##finally#{##// make sure to close all handles, otherwise the garbage##// collector will close them...whenever possible and##// Windows may complain about not being able to delete files.#FileUtils#.#close#(#fis#)#;#FileUtils#.#close#(#fos#)#;#}#}