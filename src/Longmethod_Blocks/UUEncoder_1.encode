void#encode#(#InputStream#is#,#OutputStream#out#)#throws#IOException#{#this#.#out#=#out#;#encodeBegin#(#)#;#byte#[#]#buffer#=#new#byte#[#INPUT_BUFFER_SIZE#]#;#int#count#;##while#(#(#count#=#is#.#read#(#buffer#,#0#,#buffer#.#length#)#)#!=#-#1#)#{#int#pos#=#0#;##while#(#count#>#0#)#{#int#num#=#count#>#MAX_CHARS_PER_LINE#?#MAX_CHARS_PER_LINE#:#count#;#encodeLine#(#buffer#,#pos#,#num#,#out#)#;#pos#+=#num#;#count#-=#num#;#}#}##out#.#flush#(#)#;#encodeEnd#(#)#;#}