void#doAdd#(#int#index#,#Object#o#)#{##// Vector.add seems to delegate to insertElementAt, but this##// is not documented so we may better implement it ourselves##if#(#set#.#add#(#o#)#)#{#ensureCapacity#(#size#(#)#+#1#)#;#Object#[#]#elems#=#new#Object#[#elementData#.#length#]#;#System#.#arraycopy#(#elementData#,#0#,#elems#,#0#,#index#)#;#elems#[#index#]#=#o#;#System#.#arraycopy#(#elementData#,#index#,#elems#,#index#+#1#,#size#(#)#-#index#)#;#elementData#=#elems#;#elementCount#++#;#}#}