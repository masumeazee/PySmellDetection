void#addVendorFiles#(#Hashtable#ejbFiles#,#String#baseName#)#{#String#ddPrefix#=#(#usingBaseJarName#(#)#?#""#:#baseName#)#;#String#dbPrefix#=#(#dbVendor#==#null#)#?#""#:#dbVendor#+#"-"#;##// Get the Extensions document#File#websphereEXT#=#new#File#(#getConfig#(#)#.#descriptorDir#,#ddPrefix#+#WAS_EXT#)#;##if#(#websphereEXT#.#exists#(#)#)#{#ejbFiles#.#put#(#META_DIR#+#WAS_EXT#,#websphereEXT#)#;#}#else#{#log#(#"Unable to locate websphere extensions. "#+#"It was expected to be in "#+#websphereEXT#.#getPath#(#)#,#Project#.#MSG_VERBOSE#)#;#}##File#websphereBND#=#new#File#(#getConfig#(#)#.#descriptorDir#,#ddPrefix#+#WAS_BND#)#;##if#(#websphereBND#.#exists#(#)#)#{#ejbFiles#.#put#(#META_DIR#+#WAS_BND#,#websphereBND#)#;#}#else#{#log#(#"Unable to locate websphere bindings. "#+#"It was expected to be in "#+#websphereBND#.#getPath#(#)#,#Project#.#MSG_VERBOSE#)#;#}##if#(#!#newCMP#)#{#log#(#"The old method for locating CMP files has been DEPRECATED."#,#Project#.#MSG_VERBOSE#)#;#log#(#"Please adjust your websphere descriptor and set "#+#"newCMP=\"true\" to use the new CMP descriptor "#+#"inclusion mechanism. "#,#Project#.#MSG_VERBOSE#)#;#}#else#{##// We attempt to put in the MAP and Schema files of CMP beans#try#{##// Add the Map file#File#websphereMAP#=#new#File#(#getConfig#(#)#.#descriptorDir#,#ddPrefix#+#dbPrefix#+#WAS_CMP_MAP#)#;##if#(#websphereMAP#.#exists#(#)#)#{#ejbFiles#.#put#(#META_DIR#+#WAS_CMP_MAP#,#websphereMAP#)#;#}#else#{#log#(#"Unable to locate the websphere Map: "#+#websphereMAP#.#getPath#(#)#,#Project#.#MSG_VERBOSE#)#;#}##File#websphereSchema#=#new#File#(#getConfig#(#)#.#descriptorDir#,#ddPrefix#+#dbPrefix#+#WAS_CMP_SCHEMA#)#;##if#(#websphereSchema#.#exists#(#)#)#{#ejbFiles#.#put#(#META_DIR#+#SCHEMA_DIR#+#WAS_CMP_SCHEMA#,#websphereSchema#)#;#}#else#{#log#(#"Unable to locate the websphere Schema: "#+#websphereSchema#.#getPath#(#)#,#Project#.#MSG_VERBOSE#)#;#}##// Theres nothing else to see here...keep moving sonny#}##catch#(#Exception#e#)#{#String#msg#=#"Exception while adding Vendor specific files: "#+#e#.#toString#(#)#;#throw#new#BuildException#(#msg#,#e#)#;#}#}#}