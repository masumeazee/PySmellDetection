void#addTestSuite#(#Element#root#,#Element#testsuite#)#{#String#fullclassname#=#testsuite#.#getAttribute#(#ATTR_NAME#)#;#int#pos#=#fullclassname#.#lastIndexOf#(#'.'#)#;##// a missing . might imply no package at all. Don't get fooled.#String#pkgName#=#(#pos#==#-#1#)#?#""#:#fullclassname#.#substring#(#0#,#pos#)#;#String#classname#=#(#pos#==#-#1#)#?#fullclassname#:#fullclassname#.#substring#(#pos#+#1#)#;#Element#copy#=#(#Element#)#DOMUtil#.#importNode#(#root#,#testsuite#)#;##// modify the name attribute and set the package#copy#.#setAttribute#(#ATTR_NAME#,#classname#)#;#copy#.#setAttribute#(#ATTR_PACKAGE#,#pkgName#)#;#copy#.#setAttribute#(#ATTR_ID#,#Integer#.#toString#(#generatedId#)#)#;#}