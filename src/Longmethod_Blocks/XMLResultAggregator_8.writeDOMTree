void#writeDOMTree#(#Document#doc#,#File#file#)#throws#IOException#{#OutputStream#out#=#null#;#PrintWriter#wri#=#null#;##try#{#out#=#new#BufferedOutputStream#(#new#FileOutputStream#(#file#)#)#;#wri#=#new#PrintWriter#(#new#OutputStreamWriter#(#out#,#"UTF8"#)#)#;#wri#.#write#(#"<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n"#)#;#(#new#DOMElementWriter#(#)#)#.#write#(#doc#.#getDocumentElement#(#)#,#wri#,#0#,#"  "#)#;#wri#.#flush#(#)#;##// writers do not throw exceptions, so check for them.##if#(#wri#.#checkError#(#)#)#{#throw#new#IOException#(#"Error while writing DOM content"#)#;#}#}##finally#{#FileUtils#.#close#(#wri#)#;#FileUtils#.#close#(#out#)#;#}#}