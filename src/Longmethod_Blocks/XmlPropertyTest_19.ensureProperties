void#ensureProperties#(#String#msg#,#File#inputFile#,#File#workingDir#,#Project#p#,#Properties#properties#)#{#Hashtable#xmlproperties#=#p#.#getProperties#(#)#;##// Every key identified by the Properties must have been loaded.#Enumeration#propertyKeyEnum#=#properties#.#propertyNames#(#)#;##while#(#propertyKeyEnum#.#hasMoreElements#(#)#)#{#String#currentKey#=#propertyKeyEnum#.#nextElement#(#)#.#toString#(#)#;#String#assertMsg#=#msg#+#"-"#+#inputFile#.#getName#(#)#+#" Key="#+#currentKey#;#String#propertyValue#=#properties#.#getProperty#(#currentKey#)#;#String#xmlValue#=#(#String#)#xmlproperties#.#get#(#currentKey#)#;##if#(#propertyValue#.#indexOf#(#"ID."#)#==#0#)#{##// The property is an id's thing -- either a property##// or a path.  We need to make sure##// that the object was created with the given id.##// We don't have an adequate way of testing the actual##// *value* of the Path object, though...#String#id#=#currentKey#;#Object#obj#=#p#.#getReferences#(#)#.#get#(#id#)#;##if#(#obj#==#null#)#{#fail#(#assertMsg#+#" Object ID does not exist."#)#;#}##// What is the property supposed to be?#propertyValue#=#propertyValue#.#substring#(#3#,#propertyValue#.#length#(#)#)#;##if#(#propertyValue#.#equals#(#"path"#)#)#{##if#(#!#(#obj#instanceof#Path#)#)#{#fail#(#assertMsg#+#" Path ID is a "#+#obj#.#getClass#(#)#.#getName#(#)#)#;#}#}#else#{#assertEquals#(#assertMsg#,#propertyValue#,#obj#.#toString#(#)#)#;#}#}#else#{##if#(#propertyValue#.#indexOf#(#"FILE."#)#==#0#)#{##// The property is the name of a file.  We are testing##// a location attribute, so we need to resolve the given##// file name in the provided folder.#String#fileName#=#propertyValue#.#substring#(#5#,#propertyValue#.#length#(#)#)#;#File#f#=#new#File#(#workingDir#,#fileName#)#;#propertyValue#=#f#.#getAbsolutePath#(#)#;#}##assertEquals#(#assertMsg#,#propertyValue#,#xmlValue#)#;#}#}#}