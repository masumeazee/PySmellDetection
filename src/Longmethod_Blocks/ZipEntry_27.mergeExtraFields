void#mergeExtraFields#(#ZipExtraField#[#]#f#,#boolean#local#)#throws#ZipException#{##if#(#extraFields#==#null#)#{#setExtraFields#(#f#)#;#}#else#{#for#(#int#i#=#0#;##i#<#f#.#length#;#i#++#)#{#ZipExtraField#existing#=#getExtraField#(#f#[#i#]#.#getHeaderId#(#)#)#;##if#(#existing#==#null#)#{#addExtraField#(#f#[#i#]#)#;#}#else#{##if#(#local#||#!#(#existing#instanceof#CentralDirectoryParsingZipExtraField#)#)#{#byte#[#]#b#=#f#[#i#]#.#getLocalFileDataData#(#)#;#existing#.#parseFromLocalFileData#(#b#,#0#,#b#.#length#)#;#}#else#{#byte#[#]#b#=#f#[#i#]#.#getCentralDirectoryData#(#)#;#(#(#CentralDirectoryParsingZipExtraField#)#existing#)#.#parseFromCentralDirectoryData#(#b#,#0#,#b#.#length#)#;#}#}#}##setExtra#(#)#;#}#}