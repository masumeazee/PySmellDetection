void#writeCentralFileHeader#(#ZipEntry#ze#)#throws#IOException#{#writeOut#(#CFH_SIG#)#;#written#+=#WORD#;##// version made by##// CheckStyle:MagicNumber OFF#writeOut#(#ZipShort#.#getBytes#(#(#ze#.#getPlatform#(#)#<#<#8#)#|#20#)#)#;#written#+=#SHORT#;#final#int#zipMethod#=#ze#.#getMethod#(#)#;#final#boolean#encodable#=#zipEncoding#.#canEncode#(#ze#.#getName#(#)#)#;#writeVersionNeededToExtractAndGeneralPurposeBits#(#zipMethod#,#!#encodable#&&#fallbackToUTF8#)#;#written#+=#WORD#;##// compression method#writeOut#(#ZipShort#.#getBytes#(#zipMethod#)#)#;#written#+=#SHORT#;##// last mod. time and date#writeOut#(#toDosTime#(#ze#.#getTime#(#)#)#)#;#written#+=#WORD#;##// CRC##// compressed length##// uncompressed length#writeOut#(#ZipLong#.#getBytes#(#ze#.#getCrc#(#)#)#)#;#writeOut#(#ZipLong#.#getBytes#(#ze#.#getCompressedSize#(#)#)#)#;#writeOut#(#ZipLong#.#getBytes#(#ze#.#getSize#(#)#)#)#;##// CheckStyle:MagicNumber OFF#written#+=#12#;##// CheckStyle:MagicNumber ON##// file name length#final#ZipEncoding#entryEncoding#;##if#(#!#encodable#&&#fallbackToUTF8#)#{#entryEncoding#=#ZipEncodingHelper#.#UTF8_ZIP_ENCODING#;#}#else#{#entryEncoding#=#zipEncoding#;#}##ByteBuffer#name#=#entryEncoding#.#encode#(#ze#.#getName#(#)#)#;#writeOut#(#ZipShort#.#getBytes#(#name#.#limit#(#)#)#)#;#written#+=#SHORT#;##// extra field length#byte#[#]#extra#=#ze#.#getCentralDirectoryExtra#(#)#;#writeOut#(#ZipShort#.#getBytes#(#extra#.#length#)#)#;#written#+=#SHORT#;##// file comment length#String#comm#=#ze#.#getComment#(#)#;##if#(#comm#==#null#)#{#comm#=#""#;#}##ByteBuffer#commentB#=#entryEncoding#.#encode#(#comm#)#;#writeOut#(#ZipShort#.#getBytes#(#commentB#.#limit#(#)#)#)#;#written#+=#SHORT#;##// disk number start#writeOut#(#ZERO#)#;#written#+=#SHORT#;##// internal file attributes#writeOut#(#ZipShort#.#getBytes#(#ze#.#getInternalAttributes#(#)#)#)#;#written#+=#SHORT#;##// external file attributes#writeOut#(#ZipLong#.#getBytes#(#ze#.#getExternalAttributes#(#)#)#)#;#written#+=#WORD#;##// relative offset of LFH#writeOut#(#(#byte#[#]#)#offsets#.#get#(#ze#)#)#;#written#+=#WORD#;##// file name#writeOut#(#name#.#array#(#)#,#name#.#arrayOffset#(#)#,#name#.#limit#(#)#)#;#written#+=#name#.#limit#(#)#;##// extra field#writeOut#(#extra#)#;#written#+=#extra#.#length#;##// file comment#writeOut#(#commentB#.#array#(#)#,#commentB#.#arrayOffset#(#)#,#commentB#.#limit#(#)#)#;#written#+=#commentB#.#limit#(#)#;#}