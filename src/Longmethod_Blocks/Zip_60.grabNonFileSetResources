Resource#[#]#[#]#grabNonFileSetResources#(#ResourceCollection#[#]#rcs#)#{#Resource#[#]#[#]#result#=#new#Resource#[#rcs#.#length#]#[#]#;##for#(#int#i#=#0#;i#<#rcs#.#length#;#i#++#)#{#Iterator#iter#=#rcs#[#i#]#.#iterator#(#)#;#ArrayList#dirs#=#new#ArrayList#(#)#;#ArrayList#files#=#new#ArrayList#(#)#;##while#(#iter#.#hasNext#(#)#)#{#Resource#r#=#(#Resource#)#iter#.#next#(#)#;##if#(#r#.#isExists#(#)#)#{##if#(#r#.#isDirectory#(#)#)#{#dirs#.#add#(#r#)#;#}#else#{#files#.#add#(#r#)#;#}#}#}##// make sure directories are in alpha-order - this also##// ensures parents come before their children#Collections#.#sort#(#dirs#,#new#Comparator#(#)#{#public#int#compare#(#Object#o1#,#Object#o2#)#{#Resource#r1#=#(#Resource#)#o1#;#Resource#r2#=#(#Resource#)#o2#;##return#r1#.#getName#(#)#.#compareTo#(#r2#.#getName#(#)#)#;#}#}#)#;#ArrayList#rs#=#new#ArrayList#(#dirs#)#;#rs#.#addAll#(#files#)#;#result#[#i#]#=#(#Resource#[#]#)#rs#.#toArray#(#new#Resource#[#rs#.#size#(#)#]#)#;#}##return#result#;#}