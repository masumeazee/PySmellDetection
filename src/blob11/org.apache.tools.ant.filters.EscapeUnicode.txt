int#read#(#)#throws#IOException#{#if#(#!#getInitialized#(#)#)#{#initialize#(#)#;#setInitialized#(#true#)#;#}#int#ch#=#-#1#;#if#(#unicodeBuf#.#length#(#)#==#0#)#{#ch#=#in#.#read#(#)#;#if#(#ch#!=#-#1#)#{#char#achar#=#(#char#)#ch#;#if#(#achar#>=#'\u0080'#)#{#unicodeBuf#=#new#StringBuffer#(#"u0000"#)#;#String#s#=#Integer#.#toHexString#(#ch#)#;#//replace the last 0s by the chars contained in s#for#(#int#i#=#0#;#i#<#s#.#length#(#)#;#i#++#)#{#unicodeBuf#.#setCharAt#(#unicodeBuf#.#length#(#)#-#s#.#length#(#)#+#i#,#s#.#charAt#(#i#)#)#;#}#ch#=#'\\'#;#}#}#}#else#{#ch#=#(#int#)#unicodeBuf#.#charAt#(#0#)#;#unicodeBuf#.#deleteCharAt#(#0#)#;#}#return#ch#;#}##Reader#chain#(#final#Reader#rdr#)#{#EscapeUnicode#newFilter#=#new#EscapeUnicode#(#rdr#)#;#newFilter#.#setInitialized#(#true#)#;#return#newFilter#;#}##void#initialize#(#)#{#}##