int#read#(#)#throws#IOException#{#if#(#!#getInitialized#(#)#)#{#initialize#(#)#;#setInitialized#(#true#)#;#}#int#ch#=#in#.#read#(#)#;#while#(#ch#!=#-#1#)#{#if#(#lineBreaks#.#indexOf#(#ch#)#==#-#1#)#{#break#;#}#else#{#ch#=#in#.#read#(#)#;#}#}#return#ch#;#}##void#setLineBreaks#(#final#String#lineBreaks#)#{#this#.#lineBreaks#=#lineBreaks#;#}##String#getLineBreaks#(#)#{#return#lineBreaks#;#}##Reader#chain#(#final#Reader#rdr#)#{#StripLineBreaks#newFilter#=#new#StripLineBreaks#(#rdr#)#;#newFilter#.#setLineBreaks#(#getLineBreaks#(#)#)#;#newFilter#.#setInitialized#(#true#)#;#return#newFilter#;#}##void#initialize#(#)#{#String#userDefinedLineBreaks#=#null#;#Parameter#[#]#params#=#getParameters#(#)#;#if#(#params#!=#null#)#{#for#(#int#i#=#0#;#i#<#params#.#length#;#i#++#)#{#if#(#LINE_BREAKS_KEY#.#equals#(#params#[#i#]#.#getName#(#)#)#)#{#userDefinedLineBreaks#=#params#[#i#]#.#getValue#(#)#;#break#;#}#}#}#if#(#userDefinedLineBreaks#!=#null#)#{#lineBreaks#=#userDefinedLineBreaks#;#}#}##