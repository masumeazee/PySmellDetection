void#setUp#(#)#throws#Exception#{#super#.#setUp#(#)#;#windows#=#Os#.#isFamily#(#Os#.#FAMILY_DOS#)#;#unix#=#Os#.#isFamily#(#Os#.#FAMILY_UNIX#)#;#}##String#resolveTo#(#String#uri#,#String#expectedUnix#,#String#expectedDos#)#{#String#result#=#Locator#.#fromURI#(#uri#)#;#assertResolved#(#uri#,#expectedUnix#,#result#,#unix#)#;#assertResolved#(#uri#,#expectedDos#,#result#,#windows#)#;#return#result#;#}##void#assertResolved#(#String#uri#,#String#expectedResult#,#String#result#,#boolean#enabled#)#{#if#(#enabled#&&#expectedResult#!=#null#&&#expectedResult#.#length#(#)#>#0#)#{#assertEquals#(#"Expected "#+#uri#+#" to resolve to \n"#+#expectedResult#+#"\n but got\n"#+#result#+#"\n"#,#expectedResult#,#result#)#;#}#}##String#assertResolves#(#String#path#)#{#String#asuri#=#new#File#(#path#)#.#toURI#(#)#.#toASCIIString#(#)#;#String#fullpath#=#System#.#getProperty#(#"user.dir"#)#+#File#.#separator#+#path#;#String#result#=#resolveTo#(#asuri#,#fullpath#,#fullpath#)#;#return#result#.#substring#(#result#.#lastIndexOf#(#File#.#separatorChar#)#+#1#)#;#}##void#testNetworkURI#(#)#throws#Exception#{#resolveTo#(#"file:\\\\PC03\\jclasses\\lib\\ant-1.7.0.jar"#,#""#+#"\\\\PC03\\jclasses\\lib\\ant-1.7.0.jar"#,#"\\\\PC03\\jclasses\\lib\\ant-1.7.0.jar"#)#;#}##void#NotestTripleForwardSlashNetworkURI#(#)#throws#Exception#{#resolveTo#(#"file:///PC03/jclasses/lib/ant-1.7.0.jar"#,#"///PC03/jclasses/lib/ant-1.7.0.jar"#,#"\\\\PC03\\jclasses\\lib\\ant-1.7.0.jar"#)#;#}##void#testUnixNetworkPath#(#)#throws#Exception#{#resolveTo#(#"file://cluster/home/ant/lib"#,#"//cluster/home/ant/lib"#,#"\\\\cluster\\home\\ant\\lib"#)#;#}##void#testUnixPath#(#)#throws#Exception#{#resolveTo#(#"file:/home/ant/lib"#,#"/home/ant/lib"#,#null#)#;#}##void#testSpacedURI#(#)#throws#Exception#{#resolveTo#(#"file:C:\\Program Files\\Ant\\lib"#,#"C:\\Program Files\\Ant\\lib"#,#"C:\\Program Files\\Ant\\lib"#)#;#}##void#testAntOnRemoteShare#(#)#throws#Throwable#{#String#resolved#=#Locator#.#fromJarURI#(#SHARED_JAR_URI#)#;#assertResolved#(#SHARED_JAR_URI#,#LAUNCHER_JAR#,#resolved#,#true#)#;#}##void#testFileFromRemoteShare#(#)#throws#Throwable#{#String#resolved#=#Locator#.#fromJarURI#(#SHARED_JAR_URI#)#;#assertResolved#(#SHARED_JAR_URI#,#LAUNCHER_JAR#,#resolved#,#true#)#;#File#f#=#new#File#(#resolved#)#;#String#path#=#f#.#getAbsolutePath#(#)#;#if#(#windows#)#{#assertEquals#(#0#,#path#.#indexOf#(#"\\\\"#)#)#;#}#}##void#testHttpURI#(#)#throws#Exception#{#String#url#=#"http://ant.apache.org"#;#try#{#Locator#.#fromURI#(#url#)#;#}#catch#(#IllegalArgumentException#e#)#{#String#message#=#e#.#getMessage#(#)#;#assertTrue#(#message#,#message#.#indexOf#(#Locator#.#ERROR_NOT_FILE_URI#)#>=#0#)#;#assertTrue#(#message#,#message#.#indexOf#(#url#)#>=#0#)#;#}#}##void#testInternationalURI#(#)#throws#Exception#{#String#result#=#assertResolves#(#"L\u00f6wenbrau.aus.M\u00fcnchen"#)#;#char#umlauted#=#result#.#charAt#(#1#)#;#assertEquals#(#"expected 0xf6 (\u00f6), but got "#+#Integer#.#toHexString#(#umlauted#)#+#" '"#+#umlauted#+#"'"#,#0xf6#,#umlauted#)#;#}##void#testOddLowAsciiURI#(#)#throws#Exception#{#assertResolves#(#"hash# and percent%"#)#;#}##