String#getBuildFailedMessage#(#)#{#return#super#.#getBuildFailedMessage#(#)#+#TimestampedLogger#.#SPACER#+#getTimestamp#(#)#;#}##String#getBuildSuccessfulMessage#(#)#{#return#super#.#getBuildSuccessfulMessage#(#)#+#TimestampedLogger#.#SPACER#+#getTimestamp#(#)#;#}##void#targetStarted#(#BuildEvent#event#)#{#maybeRaiseSubBuildStarted#(#event#)#;#super#.#targetStarted#(#event#)#;#}##void#taskStarted#(#BuildEvent#event#)#{#maybeRaiseSubBuildStarted#(#event#)#;#super#.#taskStarted#(#event#)#;#}##void#buildFinished#(#BuildEvent#event#)#{#maybeRaiseSubBuildStarted#(#event#)#;#subBuildFinished#(#event#)#;#super#.#buildFinished#(#event#)#;#}##void#messageLogged#(#BuildEvent#event#)#{#maybeRaiseSubBuildStarted#(#event#)#;#super#.#messageLogged#(#event#)#;#}##String#extractTargetName#(#BuildEvent#event#)#{#String#targetName#=#event#.#getTarget#(#)#.#getName#(#)#;#String#projectName#=#extractProjectName#(#event#)#;#if#(#projectName#!=#null#&&#targetName#!=#null#)#{#return#projectName#+#'.'#+#targetName#;#}#else#{#return#targetName#;#}#}##void#subBuildStarted#(#BuildEvent#event#)#{#String#name#=#extractNameOrDefault#(#event#)#;#Project#project#=#event#.#getProject#(#)#;#File#base#=#project#==#null#?#null#:#project#.#getBaseDir#(#)#;#String#path#=#(#base#==#null#)#?#"With no base directory"#:#"In "#+#base#.#getAbsolutePath#(#)#;#printMessage#(#StringUtils#.#LINE_SEP#+#getHeader#(#)#+#StringUtils#.#LINE_SEP#+#"Entering project "#+#name#+#StringUtils#.#LINE_SEP#+#path#+#StringUtils#.#LINE_SEP#+#getFooter#(#)#,#out#,#event#.#getPriority#(#)#)#;#}##String#extractNameOrDefault#(#BuildEvent#event#)#{#String#name#=#extractProjectName#(#event#)#;#if#(#name#==#null#)#{#name#=#""#;#}#else#{#name#=#'"'#+#name#+#'"'#;#}#return#name#;#}##void#subBuildFinished#(#BuildEvent#event#)#{#String#name#=#extractNameOrDefault#(#event#)#;#String#failed#=#event#.#getException#(#)#!=#null#?#"failing "#:#""#;#printMessage#(#StringUtils#.#LINE_SEP#+#getHeader#(#)#+#StringUtils#.#LINE_SEP#+#"Exiting "#+#failed#+#"project "#+#name#+#StringUtils#.#LINE_SEP#+#getFooter#(#)#,#out#,#event#.#getPriority#(#)#)#;#}##String#getHeader#(#)#{#return#HEADER#;#}##String#getFooter#(#)#{#return#FOOTER#;#}##void#maybeRaiseSubBuildStarted#(#BuildEvent#event#)#{#// double checked locking should be OK since the flag is write-once#if#(#!#subBuildStartedRaised#)#{#synchronized#(#subBuildLock#)#{#if#(#!#subBuildStartedRaised#)#{#subBuildStartedRaised#=#true#;#subBuildStarted#(#event#)#;#}#}#}#}##