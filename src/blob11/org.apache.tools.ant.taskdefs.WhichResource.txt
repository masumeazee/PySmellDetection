void#setClasspath#(#Path#cp#)#{#if#(#classpath#==#null#)#{#classpath#=#cp#;#}#else#{#classpath#.#append#(#cp#)#;#}#}##Path#createClasspath#(#)#{#if#(#classpath#==#null#)#{#classpath#=#new#Path#(#getProject#(#)#)#;#}#return#classpath#.#createPath#(#)#;#}##void#setClasspathRef#(#Reference#r#)#{#createClasspath#(#)#.#setRefid#(#r#)#;#}##void#validate#(#)#{#int#setcount#=#0#;#if#(#classname#!=#null#)#{#setcount#++#;#}#if#(#resource#!=#null#)#{#setcount#++#;#}#if#(#setcount#==#0#)#{#throw#new#BuildException#(#"One of classname or resource must"#+#" be specified"#)#;#}#if#(#setcount#>#1#)#{#throw#new#BuildException#(#"Only one of classname or resource can"#+#" be specified"#)#;#}#if#(#property#==#null#)#{#throw#new#BuildException#(#"No property defined"#)#;#}#}##void#execute#(#)#throws#BuildException#{#validate#(#)#;#if#(#classpath#!=#null#)#{#classpath#=#classpath#.#concatSystemClasspath#(#"ignore"#)#;#getProject#(#)#.#log#(#"using user supplied classpath: "#+#classpath#,#Project#.#MSG_DEBUG#)#;#}#else#{#classpath#=#new#Path#(#getProject#(#)#)#;#classpath#=#classpath#.#concatSystemClasspath#(#"only"#)#;#getProject#(#)#.#log#(#"using system classpath: "#+#classpath#,#Project#.#MSG_DEBUG#)#;#}#AntClassLoader#loader#=#null#;#try#{#loader#=#AntClassLoader#.#newAntClassLoader#(#getProject#(#)#.#getCoreLoader#(#)#,#getProject#(#)#,#classpath#,#false#)#;#String#loc#=#null#;#if#(#classname#!=#null#)#{#//convert a class name into a resource#resource#=#classname#.#replace#(#'.'#,#'/'#)#+#".class"#;#}#if#(#resource#==#null#)#{#throw#new#BuildException#(#"One of class or resource is required"#)#;#}#if#(#resource#.#startsWith#(#"/"#)#)#{#resource#=#resource#.#substring#(#1#)#;#}#log#(#"Searching for "#+#resource#,#Project#.#MSG_VERBOSE#)#;#URL#url#;#url#=#loader#.#getResource#(#resource#)#;#if#(#url#!=#null#)#{#//set the property#loc#=#url#.#toExternalForm#(#)#;#getProject#(#)#.#setNewProperty#(#property#,#loc#)#;#}#}#finally#{#if#(#loader#!=#null#)#{#loader#.#cleanup#(#)#;#}#}#}##void#setResource#(#String#resource#)#{#this#.#resource#=#resource#;#}##void#setClass#(#String#classname#)#{#this#.#classname#=#classname#;#}##void#setProperty#(#String#property#)#{#this#.#property#=#property#;#}##