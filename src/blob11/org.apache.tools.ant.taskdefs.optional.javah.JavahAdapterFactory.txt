String#getDefault#(#)#{#if#(#JavaEnvUtils#.#isKaffe#(#)#)#{#return#Kaffeh#.#IMPLEMENTATION_NAME#;#}#return#SunJavah#.#IMPLEMENTATION_NAME#;#}##JavahAdapter#getAdapter#(#String#choice#,#ProjectComponent#log#)#throws#BuildException#{#return#getAdapter#(#choice#,#log#,#null#)#;#}##JavahAdapter#getAdapter#(#String#choice#,#ProjectComponent#log#,#Path#classpath#)#throws#BuildException#{#if#(#(#JavaEnvUtils#.#isKaffe#(#)#&&#choice#==#null#)#||#Kaffeh#.#IMPLEMENTATION_NAME#.#equals#(#choice#)#)#{#return#new#Kaffeh#(#)#;#}#else#if#(#SunJavah#.#IMPLEMENTATION_NAME#.#equals#(#choice#)#)#{#return#new#SunJavah#(#)#;#}#else#if#(#choice#!=#null#)#{#return#resolveClassName#(#choice#,#// Memory leak in line below#log#.#getProject#(#)#.#createClassLoader#(#classpath#)#)#;#}#// This default has been good enough until Ant 1.6.3, so stick#// with it#return#new#SunJavah#(#)#;#}##JavahAdapter#resolveClassName#(#String#className#,#ClassLoader#loader#)#throws#BuildException#{#return#(#JavahAdapter#)#ClasspathUtils#.#newInstance#(#className#,#loader#!=#null#?#loader#:#JavahAdapterFactory#.#class#.#getClassLoader#(#)#,#JavahAdapter#.#class#)#;#}##