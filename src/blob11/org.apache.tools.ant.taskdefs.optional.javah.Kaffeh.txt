boolean#compile#(#Javah#javah#)#throws#BuildException#{#Commandline#cmd#=#setupKaffehCommand#(#javah#)#;#try#{#Execute#.#runCommand#(#javah#,#cmd#.#getCommandline#(#)#)#;#return#true#;#}#catch#(#BuildException#e#)#{#if#(#e#.#getMessage#(#)#.#indexOf#(#"failed with return code"#)#==#-#1#)#{#throw#e#;#}#}#return#false#;#}##Commandline#setupKaffehCommand#(#Javah#javah#)#{#Commandline#cmd#=#new#Commandline#(#)#;#cmd#.#setExecutable#(#JavaEnvUtils#.#getJdkExecutable#(#"kaffeh"#)#)#;#if#(#javah#.#getDestdir#(#)#!=#null#)#{#cmd#.#createArgument#(#)#.#setValue#(#"-d"#)#;#cmd#.#createArgument#(#)#.#setFile#(#javah#.#getDestdir#(#)#)#;#}#if#(#javah#.#getOutputfile#(#)#!=#null#)#{#cmd#.#createArgument#(#)#.#setValue#(#"-o"#)#;#cmd#.#createArgument#(#)#.#setFile#(#javah#.#getOutputfile#(#)#)#;#}#Path#cp#=#new#Path#(#javah#.#getProject#(#)#)#;#if#(#javah#.#getBootclasspath#(#)#!=#null#)#{#cp#.#append#(#javah#.#getBootclasspath#(#)#)#;#}#cp#=#cp#.#concatSystemBootClasspath#(#"ignore"#)#;#if#(#javah#.#getClasspath#(#)#!=#null#)#{#cp#.#append#(#javah#.#getClasspath#(#)#)#;#}#if#(#cp#.#size#(#)#>#0#)#{#cmd#.#createArgument#(#)#.#setValue#(#"-classpath"#)#;#cmd#.#createArgument#(#)#.#setPath#(#cp#)#;#}#if#(#!#javah#.#getOld#(#)#)#{#cmd#.#createArgument#(#)#.#setValue#(#"-jni"#)#;#}#cmd#.#addArguments#(#javah#.#getCurrentArgs#(#)#)#;#javah#.#logAndAddFiles#(#cmd#)#;#return#cmd#;#}##