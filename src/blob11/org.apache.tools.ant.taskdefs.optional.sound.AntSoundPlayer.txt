void#addBuildSuccessfulSound#(#File#file#,#int#loops#,#Long#duration#)#{#this#.#fileSuccess#=#file#;#this#.#loopsSuccess#=#loops#;#this#.#durationSuccess#=#duration#;#}##void#addBuildFailedSound#(#File#fileFail#,#int#loopsFail#,#Long#durationFail#)#{#this#.#fileFail#=#fileFail#;#this#.#loopsFail#=#loopsFail#;#this#.#durationFail#=#durationFail#;#}##void#play#(#Project#project#,#File#file#,#int#loops#,#Long#duration#)#{#Clip#audioClip#=#null#;#AudioInputStream#audioInputStream#=#null#;#try#{#audioInputStream#=#AudioSystem#.#getAudioInputStream#(#file#)#;#}#catch#(#UnsupportedAudioFileException#uafe#)#{#project#.#log#(#"Audio format is not yet supported: "#+#uafe#.#getMessage#(#)#)#;#}#catch#(#IOException#ioe#)#{#ioe#.#printStackTrace#(#)#;#}#if#(#audioInputStream#!=#null#)#{#AudioFormat#format#=#audioInputStream#.#getFormat#(#)#;#DataLine#.#Info#info#=#new#DataLine#.#Info#(#Clip#.#class#,#format#,#AudioSystem#.#NOT_SPECIFIED#)#;#try#{#audioClip#=#(#Clip#)#AudioSystem#.#getLine#(#info#)#;#audioClip#.#addLineListener#(#this#)#;#audioClip#.#open#(#audioInputStream#)#;#}#catch#(#LineUnavailableException#e#)#{#project#.#log#(#"The sound device is currently unavailable"#)#;#return#;#}#catch#(#IOException#e#)#{#e#.#printStackTrace#(#)#;#}#if#(#duration#!=#null#)#{#playClip#(#audioClip#,#duration#.#longValue#(#)#)#;#}#else#{#playClip#(#audioClip#,#loops#)#;#}#audioClip#.#drain#(#)#;#audioClip#.#close#(#)#;#}#else#{#project#.#log#(#"Can't get data from file "#+#file#.#getName#(#)#)#;#}#}##void#playClip#(#Clip#clip#,#int#loops#)#{#clip#.#loop#(#loops#)#;#do#{#try#{#long#timeLeft#=#(#clip#.#getMicrosecondLength#(#)#-#clip#.#getMicrosecondPosition#(#)#)#/#1000#;#if#(#timeLeft#>#0#)#{#Thread#.#sleep#(#timeLeft#)#;#}#}#catch#(#InterruptedException#e#)#{#break#;#}#}#while#(#clip#.#isRunning#(#)#)#;#if#(#clip#.#isRunning#(#)#)#{#clip#.#stop#(#)#;#}#}##void#playClip#(#Clip#clip#,#long#duration#)#{#clip#.#loop#(#Clip#.#LOOP_CONTINUOUSLY#)#;#try#{#Thread#.#sleep#(#duration#)#;#}#catch#(#InterruptedException#e#)#{#// Ignore Exception#}#clip#.#stop#(#)#;#}##void#update#(#LineEvent#event#)#{#if#(#event#.#getType#(#)#.#equals#(#LineEvent#.#Type#.#STOP#)#)#{#Line#line#=#event#.#getLine#(#)#;#line#.#close#(#)#;#}#}##void#buildStarted#(#BuildEvent#event#)#{#}##void#buildFinished#(#BuildEvent#event#)#{#if#(#event#.#getException#(#)#==#null#&&#fileSuccess#!=#null#)#{#// build successfull!#play#(#event#.#getProject#(#)#,#fileSuccess#,#loopsSuccess#,#durationSuccess#)#;#}#else#if#(#event#.#getException#(#)#!=#null#&&#fileFail#!=#null#)#{#play#(#event#.#getProject#(#)#,#fileFail#,#loopsFail#,#durationFail#)#;#}#}##void#targetStarted#(#BuildEvent#event#)#{#}##void#targetFinished#(#BuildEvent#event#)#{#}##void#taskStarted#(#BuildEvent#event#)#{#}##void#taskFinished#(#BuildEvent#event#)#{#}##void#messageLogged#(#BuildEvent#event#)#{#}##