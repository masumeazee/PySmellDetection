void#log#(#String#message#)#{#// do nothing;#}##Channel#openExecChannel#(#String#command#)#throws#JSchException#{#ChannelExec#channel#=#(#ChannelExec#)#session#.#openChannel#(#"exec"#)#;#channel#.#setCommand#(#command#)#;#return#channel#;#}##ChannelSftp#openSftpChannel#(#)#throws#JSchException#{#ChannelSftp#channel#=#(#ChannelSftp#)#session#.#openChannel#(#"sftp"#)#;#return#channel#;#}##void#sendAck#(#OutputStream#out#)#throws#IOException#{#byte#[#]#buf#=#new#byte#[#1#]#;#buf#[#0#]#=#0#;#out#.#write#(#buf#)#;#out#.#flush#(#)#;#}##void#waitForAck#(#InputStream#in#)#throws#IOException#,#BuildException#{#int#b#=#in#.#read#(#)#;#// b may be 0 for success,#//          1 for error,#//          2 for fatal error,#if#(#b#==#-#1#)#{#// didn't receive any response#throw#new#BuildException#(#"No response from server"#)#;#}#else#if#(#b#!=#0#)#{#StringBuffer#sb#=#new#StringBuffer#(#)#;#int#c#=#in#.#read#(#)#;#while#(#c#>#0#&&#c#!=#'\n'#)#{#sb#.#append#(#(#char#)#c#)#;#c#=#in#.#read#(#)#;#}#if#(#b#==#1#)#{#throw#new#BuildException#(#"server indicated an error: "#+#sb#.#toString#(#)#)#;#}#else#if#(#b#==#2#)#{#throw#new#BuildException#(#"server indicated a fatal error: "#+#sb#.#toString#(#)#)#;#}#else#{#throw#new#BuildException#(#"unknown response, code "#+#b#+#" message: "#+#sb#.#toString#(#)#)#;#}#}#}##void#execute#(#)#throws#IOException#,#JSchException#;##void#setLogListener#(#LogListener#aListener#)#{#listener#=#aListener#;#}##void#log#(#String#message#)#{#listener#.#log#(#message#)#;#}##void#logStats#(#long#timeStarted#,#long#timeEnded#,#long#totalLength#)#{#double#duration#=#(#timeEnded#-#timeStarted#)#/#ONE_SECOND#;#NumberFormat#format#=#NumberFormat#.#getNumberInstance#(#)#;#format#.#setMaximumFractionDigits#(#2#)#;#format#.#setMinimumFractionDigits#(#1#)#;#listener#.#log#(#"File transfer time: "#+#format#.#format#(#duration#)#+#" Average Rate: "#+#format#.#format#(#totalLength#/#duration#)#+#" B/s"#)#;#}##boolean#getVerbose#(#)#{#return#verbose#;#}##int#trackProgress#(#long#filesize#,#long#totalLength#,#int#percentTransmitted#)#{#// CheckStyle:MagicNumber OFF#int#percent#=#(#int#)#Math#.#round#(#Math#.#floor#(#(#totalLength#/#(#double#)#filesize#)#*#100#)#)#;#if#(#percent#>#percentTransmitted#)#{#if#(#filesize#<#1048576#)#{#if#(#percent#%#10#==#0#)#{#if#(#percent#==#100#)#{#System#.#out#.#println#(#" 100%"#)#;#}#else#{#System#.#out#.#print#(#"*"#)#;#}#}#}#else#{#if#(#percent#==#50#)#{#System#.#out#.#println#(#" 50%"#)#;#}#else#if#(#percent#==#100#)#{#System#.#out#.#println#(#" 100%"#)#;#}#else#{#System#.#out#.#print#(#"."#)#;#}#}#}#// CheckStyle:MagicNumber ON#return#percent#;#}##SftpProgressMonitor#getProgressMonitor#(#)#{#if#(#monitor#==#null#)#{#monitor#=#new#ProgressMonitor#(#)#;#}#return#monitor#;#}##void#init#(#int#op#,#String#src#,#String#dest#,#long#max#)#{#initFileSize#=#max#;#totalLength#=#0#;#percentTransmitted#=#0#;#}##boolean#count#(#long#len#)#{#totalLength#+=#len#;#percentTransmitted#=#trackProgress#(#initFileSize#,#totalLength#,#percentTransmitted#)#;#return#true#;#}##void#end#(#)#{#}##long#getTotalLength#(#)#{#return#totalLength#;#}##