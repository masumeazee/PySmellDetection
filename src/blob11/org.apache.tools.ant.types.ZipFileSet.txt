void#setEncoding#(#String#enc#)#{#checkZipFileSetAttributesAllowed#(#)#;#this#.#encoding#=#enc#;#}##String#getEncoding#(#)#{#if#(#isReference#(#)#)#{#AbstractFileSet#ref#=#getRef#(#getProject#(#)#)#;#if#(#ref#instanceof#ZipFileSet#)#{#return#(#(#ZipFileSet#)#ref#)#.#getEncoding#(#)#;#}#else#{#return#null#;#}#}#return#encoding#;#}##ArchiveScanner#newArchiveScanner#(#)#{#ZipScanner#zs#=#new#ZipScanner#(#)#;#zs#.#setEncoding#(#encoding#)#;#return#zs#;#}##AbstractFileSet#getRef#(#Project#p#)#{#dieOnCircularReference#(#p#)#;#Object#o#=#getRefid#(#)#.#getReferencedObject#(#p#)#;#if#(#o#instanceof#ZipFileSet#)#{#return#(#AbstractFileSet#)#o#;#}#else#if#(#o#instanceof#FileSet#)#{#ZipFileSet#zfs#=#new#ZipFileSet#(#(#FileSet#)#o#)#;#configureFileSet#(#zfs#)#;#return#zfs#;#}#else#{#String#msg#=#getRefid#(#)#.#getRefId#(#)#+#" doesn\'t denote a zipfileset or a fileset"#;#throw#new#BuildException#(#msg#)#;#}#}##Object#clone#(#)#{#if#(#isReference#(#)#)#{#return#(#(#ZipFileSet#)#getRef#(#getProject#(#)#)#)#.#clone#(#)#;#}#else#{#return#super#.#clone#(#)#;#}#}##void#checkZipFileSetAttributesAllowed#(#)#{#if#(#getProject#(#)#==#null#||#(#isReference#(#)#&&#(#getRefid#(#)#.#getReferencedObject#(#getProject#(#)#)#instanceof#ZipFileSet#)#)#)#{#checkAttributesAllowed#(#)#;#}#}##