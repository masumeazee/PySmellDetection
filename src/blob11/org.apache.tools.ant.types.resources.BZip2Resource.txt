InputStream#wrapStream#(#InputStream#in#)#throws#IOException#{#for#(#int#i#=#0#;#i#<#MAGIC#.#length#;#i#++#)#{#if#(#in#.#read#(#)#!=#MAGIC#[#i#]#)#{#throw#new#IOException#(#"Invalid bz2 stream."#)#;#}#}#return#new#CBZip2InputStream#(#in#)#;#}##OutputStream#wrapStream#(#OutputStream#out#)#throws#IOException#{#for#(#int#i#=#0#;#i#<#MAGIC#.#length#;#i#++#)#{#out#.#write#(#MAGIC#[#i#]#)#;#}#return#new#CBZip2OutputStream#(#out#)#;#}##String#getCompressionName#(#)#{#return#"Bzip2"#;#}##