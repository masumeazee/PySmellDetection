void#setCache#(#boolean#b#)#{#cache#=#b#;#}##boolean#isCache#(#)#{#return#cache#;#}##void#add#(#ResourceCollection#c#)#throws#BuildException#{#if#(#isReference#(#)#)#{#throw#noChildrenAllowed#(#)#;#}#if#(#c#==#null#)#{#return#;#}#if#(#rc#!=#null#)#{#throw#oneNested#(#)#;#}#rc#=#c#;#if#(#Project#.#getProject#(#rc#)#==#null#)#{#Project#p#=#getProject#(#)#;#if#(#p#!=#null#)#{#p#.#setProjectReference#(#rc#)#;#}#}#setChecked#(#false#)#;#}##Iterator#iterator#(#)#{#if#(#isReference#(#)#)#{#return#(#(#BaseResourceCollectionWrapper#)#getCheckedRef#(#)#)#.#iterator#(#)#;#}#dieOnCircularReference#(#)#;#return#new#FailFast#(#this#,#cacheCollection#(#)#.#iterator#(#)#)#;#}##int#size#(#)#{#if#(#isReference#(#)#)#{#return#(#(#BaseResourceCollectionWrapper#)#getCheckedRef#(#)#)#.#size#(#)#;#}#dieOnCircularReference#(#)#;#return#cacheCollection#(#)#.#size#(#)#;#}##boolean#isFilesystemOnly#(#)#{#if#(#isReference#(#)#)#{#return#(#(#BaseResourceCollectionContainer#)#getCheckedRef#(#)#)#.#isFilesystemOnly#(#)#;#}#dieOnCircularReference#(#)#;#if#(#rc#==#null#||#rc#.#isFilesystemOnly#(#)#)#{#return#true#;#}#/* now check each Resource in case the child only
           lets through files from any children IT may have: */#for#(#Iterator#i#=#cacheCollection#(#)#.#iterator#(#)#;#i#.#hasNext#(#)#;#)#{#Resource#r#=#(#Resource#)#i#.#next#(#)#;#if#(#r#.#as#(#FileProvider#.#class#)#==#null#)#{#return#false#;#}#}#return#true#;#}##void#dieOnCircularReference#(#Stack#stk#,#Project#p#)#throws#BuildException#{#if#(#isChecked#(#)#)#{#return#;#}#if#(#isReference#(#)#)#{#super#.#dieOnCircularReference#(#stk#,#p#)#;#}#else#{#if#(#rc#instanceof#DataType#)#{#pushAndInvokeCircularReferenceCheck#(#(#DataType#)#rc#,#stk#,#p#)#;#}#setChecked#(#true#)#;#}#}##ResourceCollection#getResourceCollection#(#)#{#dieOnCircularReference#(#)#;#if#(#rc#==#null#)#{#throw#oneNested#(#)#;#}#return#rc#;#}##Collection#getCollection#(#)#;##String#toString#(#)#{#if#(#isReference#(#)#)#{#return#getCheckedRef#(#)#.#toString#(#)#;#}#if#(#cacheCollection#(#)#.#size#(#)#==#0#)#{#return#""#;#}#StringBuffer#sb#=#new#StringBuffer#(#)#;#for#(#Iterator#i#=#coll#.#iterator#(#)#;#i#.#hasNext#(#)#;#)#{#if#(#sb#.#length#(#)#>#0#)#{#sb#.#append#(#File#.#pathSeparatorChar#)#;#}#sb#.#append#(#i#.#next#(#)#)#;#}#return#sb#.#toString#(#)#;#}##Collection#cacheCollection#(#)#{#if#(#coll#==#null#||#!#isCache#(#)#)#{#coll#=#getCollection#(#)#;#}#return#coll#;#}##BuildException#oneNested#(#)#{#return#new#BuildException#(#super#.#toString#(#)#+#ONE_NESTED_MESSAGE#)#;#}##