long#getSize#(#)#{#if#(#isExists#(#)#)#{#InputStream#in#=#null#;#try#{#in#=#getInputStream#(#)#;#byte#[#]#buf#=#new#byte#[#BUFFER_SIZE#]#;#int#size#=#0#;#int#readNow#;#while#(#(#readNow#=#in#.#read#(#buf#,#0#,#buf#.#length#)#)#>#0#)#{#size#+=#readNow#;#}#return#size#;#}#catch#(#IOException#ex#)#{#throw#new#BuildException#(#"caught exception while reading "#+#getName#(#)#,#ex#)#;#}#finally#{#FileUtils#.#close#(#in#)#;#}#}#else#{#return#0#;#}#}##InputStream#getInputStream#(#)#throws#IOException#{#InputStream#in#=#getResource#(#)#.#getInputStream#(#)#;#if#(#in#!=#null#)#{#in#=#wrapStream#(#in#)#;#}#return#in#;#}##OutputStream#getOutputStream#(#)#throws#IOException#{#OutputStream#out#=#getResource#(#)#.#getOutputStream#(#)#;#if#(#out#!=#null#)#{#out#=#wrapStream#(#out#)#;#}#return#out#;#}##Object#as#(#Class#clazz#)#{#if#(#Appendable#.#class#.#isAssignableFrom#(#clazz#)#)#{#if#(#isAppendSupported#(#)#)#{#final#Appendable#a#=#(#Appendable#)#getResource#(#)#.#as#(#Appendable#.#class#)#;#if#(#a#!=#null#)#{#return#new#Appendable#(#)#{#public#OutputStream#getAppendOutputStream#(#)#throws#IOException#{#OutputStream#out#=#a#.#getAppendOutputStream#(#)#;#if#(#out#!=#null#)#{#out#=#wrapStream#(#out#)#;#}#return#out#;#}#}#;#}#}#return#null#;#}#return#FileProvider#.#class#.#isAssignableFrom#(#clazz#)#?#null#:#getResource#(#)#.#as#(#clazz#)#;#}##OutputStream#getAppendOutputStream#(#)#throws#IOException#{#OutputStream#out#=#a#.#getAppendOutputStream#(#)#;#if#(#out#!=#null#)#{#out#=#wrapStream#(#out#)#;#}#return#out#;#}##boolean#isAppendSupported#(#)#{#return#false#;#}##InputStream#wrapStream#(#InputStream#in#)#throws#IOException#;##OutputStream#wrapStream#(#OutputStream#out#)#throws#IOException#;##