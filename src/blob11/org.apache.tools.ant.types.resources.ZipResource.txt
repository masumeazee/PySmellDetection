void#setZipfile#(#File#z#)#{#setArchive#(#z#)#;#}##File#getZipfile#(#)#{#FileProvider#fp#=#(#FileProvider#)#getArchive#(#)#.#as#(#FileProvider#.#class#)#;#return#fp#.#getFile#(#)#;#}##void#addConfigured#(#ResourceCollection#a#)#{#super#.#addConfigured#(#a#)#;#if#(#!#a#.#isFilesystemOnly#(#)#)#{#throw#new#BuildException#(#"only filesystem resources are supported"#)#;#}#}##void#setEncoding#(#String#enc#)#{#checkAttributesAllowed#(#)#;#encoding#=#enc#;#}##String#getEncoding#(#)#{#return#isReference#(#)#?#(#(#ZipResource#)#getCheckedRef#(#)#)#.#getEncoding#(#)#:#encoding#;#}##void#setRefid#(#Reference#r#)#{#if#(#encoding#!=#null#)#{#throw#tooManyAttributes#(#)#;#}#super#.#setRefid#(#r#)#;#}##InputStream#getInputStream#(#)#throws#IOException#{#if#(#isReference#(#)#)#{#return#(#(#Resource#)#getCheckedRef#(#)#)#.#getInputStream#(#)#;#}#final#ZipFile#z#=#new#ZipFile#(#getZipfile#(#)#,#getEncoding#(#)#)#;#ZipEntry#ze#=#z#.#getEntry#(#getName#(#)#)#;#if#(#ze#==#null#)#{#z#.#close#(#)#;#throw#new#BuildException#(#"no entry "#+#getName#(#)#+#" in "#+#getArchive#(#)#)#;#}#return#new#FilterInputStream#(#z#.#getInputStream#(#ze#)#)#{#public#void#close#(#)#throws#IOException#{#FileUtils#.#close#(#in#)#;#z#.#close#(#)#;#}#protected#void#finalize#(#)#throws#Throwable#{#try#{#close#(#)#;#}#finally#{#super#.#finalize#(#)#;#}#}#}#;#}##void#close#(#)#throws#IOException#{#FileUtils#.#close#(#in#)#;#z#.#close#(#)#;#}##void#finalize#(#)#throws#Throwable#{#try#{#close#(#)#;#}#finally#{#super#.#finalize#(#)#;#}#}##OutputStream#getOutputStream#(#)#throws#IOException#{#if#(#isReference#(#)#)#{#return#(#(#Resource#)#getCheckedRef#(#)#)#.#getOutputStream#(#)#;#}#throw#new#UnsupportedOperationException#(#"Use the zip task for zip output."#)#;#}##ZipExtraField#[#]#getExtraFields#(#)#{#if#(#isReference#(#)#)#{#return#(#(#ZipResource#)#getCheckedRef#(#)#)#.#getExtraFields#(#)#;#}#checkEntry#(#)#;#if#(#extras#==#null#)#{#return#new#ZipExtraField#[#0#]#;#}#return#extras#;#}##int#getMethod#(#)#{#return#method#;#}##void#fetchEntry#(#)#{#ZipFile#z#=#null#;#try#{#z#=#new#ZipFile#(#getZipfile#(#)#,#getEncoding#(#)#)#;#setEntry#(#z#.#getEntry#(#getName#(#)#)#)#;#}#catch#(#IOException#e#)#{#log#(#e#.#getMessage#(#)#,#Project#.#MSG_DEBUG#)#;#throw#new#BuildException#(#e#)#;#}#finally#{#ZipFile#.#closeQuietly#(#z#)#;#}#}##void#setEntry#(#ZipEntry#e#)#{#if#(#e#==#null#)#{#setExists#(#false#)#;#return#;#}#setName#(#e#.#getName#(#)#)#;#setExists#(#true#)#;#setLastModified#(#e#.#getTime#(#)#)#;#setDirectory#(#e#.#isDirectory#(#)#)#;#setSize#(#e#.#getSize#(#)#)#;#setMode#(#e#.#getUnixMode#(#)#)#;#extras#=#e#.#getExtraFields#(#)#;#method#=#e#.#getMethod#(#)#;#}##