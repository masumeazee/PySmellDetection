String#toString#(#)#{#StringBuffer#buf#=#new#StringBuffer#(#)#;#if#(#hasSelectors#(#)#)#{#buf#.#append#(#"{select"#)#;#if#(#ifCondition#!=#null#)#{#buf#.#append#(#" if: "#)#;#buf#.#append#(#ifCondition#)#;#}#if#(#unlessCondition#!=#null#)#{#buf#.#append#(#" unless: "#)#;#buf#.#append#(#unlessCondition#)#;#}#buf#.#append#(#" "#)#;#buf#.#append#(#super#.#toString#(#)#)#;#buf#.#append#(#"}"#)#;#}#return#buf#.#toString#(#)#;#}##SelectSelector#getRef#(#)#{#Object#o#=#getCheckedRef#(#this#.#getClass#(#)#,#"SelectSelector"#)#;#return#(#SelectSelector#)#o#;#}##boolean#hasSelectors#(#)#{#if#(#isReference#(#)#)#{#return#getRef#(#)#.#hasSelectors#(#)#;#}#return#super#.#hasSelectors#(#)#;#}##int#selectorCount#(#)#{#if#(#isReference#(#)#)#{#return#getRef#(#)#.#selectorCount#(#)#;#}#return#super#.#selectorCount#(#)#;#}##FileSelector#[#]#getSelectors#(#Project#p#)#{#if#(#isReference#(#)#)#{#return#getRef#(#)#.#getSelectors#(#p#)#;#}#return#super#.#getSelectors#(#p#)#;#}##Enumeration#selectorElements#(#)#{#if#(#isReference#(#)#)#{#return#getRef#(#)#.#selectorElements#(#)#;#}#return#super#.#selectorElements#(#)#;#}##void#appendSelector#(#FileSelector#selector#)#{#if#(#isReference#(#)#)#{#throw#noChildrenAllowed#(#)#;#}#super#.#appendSelector#(#selector#)#;#}##void#verifySettings#(#)#{#int#cnt#=#selectorCount#(#)#;#if#(#cnt#<#0#||#cnt#>#1#)#{#setError#(#"Only one selector is allowed within the "#+#"<selector> tag"#)#;#}#}##boolean#passesConditions#(#)#{#PropertyHelper#ph#=#PropertyHelper#.#getPropertyHelper#(#getProject#(#)#)#;#return#ph#.#testIfCondition#(#ifCondition#)#&&#ph#.#testUnlessCondition#(#unlessCondition#)#;#}##void#setIf#(#Object#ifProperty#)#{#this#.#ifCondition#=#ifProperty#;#}##void#setIf#(#String#ifProperty#)#{#setIf#(#(#Object#)#ifProperty#)#;#}##void#setUnless#(#Object#unlessProperty#)#{#this#.#unlessCondition#=#unlessProperty#;#}##void#setUnless#(#String#unlessProperty#)#{#setUnless#(#(#Object#)#unlessProperty#)#;#}##boolean#isSelected#(#File#basedir#,#String#filename#,#File#file#)#{#validate#(#)#;#// Deal with if and unless properties first#if#(#!#(#passesConditions#(#)#)#)#{#return#false#;#}#Enumeration#e#=#selectorElements#(#)#;#if#(#!#(#e#.#hasMoreElements#(#)#)#)#{#return#true#;#}#FileSelector#f#=#(#FileSelector#)#e#.#nextElement#(#)#;#return#f#.#isSelected#(#basedir#,#filename#,#file#)#;#}##