void#setProvider#(#String#className#)#{#Provider#provider#=#new#Provider#(#)#;#provider#.#setClassName#(#className#)#;#providerList#.#add#(#provider#)#;#}##void#addConfiguredProvider#(#Provider#provider#)#{#provider#.#check#(#)#;#providerList#.#add#(#provider#)#;#}##String#getType#(#)#{#return#type#;#}##void#setType#(#String#type#)#{#this#.#type#=#type#;#}##InputStream#getAsStream#(#)#throws#IOException#{#ByteArrayOutputStream#arrayOut#;#Writer#writer#;#Iterator#providerIterator#;#Provider#provider#;#arrayOut#=#new#ByteArrayOutputStream#(#)#;#writer#=#new#OutputStreamWriter#(#arrayOut#,#"UTF-8"#)#;#providerIterator#=#providerList#.#iterator#(#)#;#while#(#providerIterator#.#hasNext#(#)#)#{#provider#=#(#Provider#)#providerIterator#.#next#(#)#;#writer#.#write#(#provider#.#getClassName#(#)#)#;#writer#.#write#(#"\n"#)#;#}#writer#.#close#(#)#;#return#new#ByteArrayInputStream#(#arrayOut#.#toByteArray#(#)#)#;#}##void#check#(#)#{#if#(#type#==#null#)#{#throw#new#BuildException#(#"type attribute must be set for service element"#,#getLocation#(#)#)#;#}#if#(#type#.#length#(#)#==#0#)#{#throw#new#BuildException#(#"Invalid empty type classname"#,#getLocation#(#)#)#;#}#if#(#providerList#.#size#(#)#==#0#)#{#throw#new#BuildException#(#"provider attribute or nested provider element must be set!"#,#getLocation#(#)#)#;#}#}##