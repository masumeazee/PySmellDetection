void#setInFile#(#File#inFile#)#{#this#.#inFile#=#inFile#;#}##File#getInFile#(#)#{#return#inFile#;#}##void#setOutFile#(#File#outFile#)#{#this#.#outFile#=#outFile#;#}##File#getOutFile#(#)#{#return#outFile#;#}##void#execute#(#)#{#assertAttribute#(#inFile#,#"inFile"#)#;#assertAttribute#(#outFile#,#"outFile"#)#;#InputStream#inputStream#=#null#;#OutputStream#outputStream#=#null#;#try#{#inputStream#=#new#BufferedInputStream#(#new#FileInputStream#(#getInFile#(#)#)#)#;#outputStream#=#new#FileOutputStream#(#getOutFile#(#)#)#;#doit#(#inputStream#,#outputStream#)#;#}#catch#(#Exception#ex#)#{#throw#new#BuildException#(#ex#)#;#}#finally#{#FILE_UTILS#.#close#(#inputStream#)#;#FILE_UTILS#.#close#(#outputStream#)#;#}#}##void#doit#(#InputStream#is#,#OutputStream#os#)#throws#Exception#;##void#assertAttribute#(#File#file#,#String#attributeName#)#{#if#(#file#==#null#)#{#throw#new#BuildException#(#"Required attribute "#+#attributeName#+#" not set"#)#;#}#}##