ModuleId#newInstance#(#String#org#,#String#name#)#{#return#intern#(#new#ModuleId#(#org#,#name#)#)#;#}##ModuleId#intern#(#ModuleId#moduleId#)#{#ModuleId#r#=#(#ModuleId#)#CACHE#.#get#(#moduleId#)#;#if#(#r#==#null#)#{#r#=#moduleId#;#CACHE#.#put#(#r#,#r#)#;#}#return#r#;#}##String#getName#(#)#{#return#name#;#}##String#getOrganisation#(#)#{#return#organisation#;#}##boolean#equals#(#Object#obj#)#{#if#(#!#(#obj#instanceof#ModuleId#)#)#{#return#false#;#}#ModuleId#other#=#(#ModuleId#)#obj#;#if#(#other#.#organisation#==#null#)#{#return#organisation#==#null#&&#other#.#name#.#equals#(#name#)#;#}#else#{#return#other#.#organisation#.#equals#(#organisation#)#&&#other#.#name#.#equals#(#name#)#;#}#}##int#hashCode#(#)#{#if#(#hash#==#0#)#{#//CheckStyle:MagicNumber| OFF#hash#=#31#;#hash#=#hash#*#13#+#(#organisation#==#null#?#0#:#organisation#.#hashCode#(#)#)#;#hash#=#hash#*#13#+#name#.#hashCode#(#)#;#//CheckStyle:MagicNumber| ON#}#return#hash#;#}##String#toString#(#)#{#return#organisation#+#"#"#+#name#;#}##int#compareTo#(#Object#obj#)#{#ModuleId#that#=#(#ModuleId#)#obj#;#int#result#=#organisation#.#compareTo#(#that#.#organisation#)#;#if#(#result#==#0#)#{#result#=#name#.#compareTo#(#that#.#name#)#;#}#return#result#;#}##String#encodeToString#(#)#{#return#getOrganisation#(#)#+#ENCODE_SEPARATOR#+#getName#(#)#;#}##Map#getAttributes#(#)#{#return#attributes#;#}##ModuleId#decode#(#String#encoded#)#{#String#[#]#parts#=#encoded#.#split#(#ENCODE_SEPARATOR#)#;#if#(#parts#.#length#!=#2#)#{#throw#new#IllegalArgumentException#(#"badly encoded module id: '"#+#encoded#+#"'"#)#;#}#return#new#ModuleId#(#parts#[#0#]#,#parts#[#1#]#)#;#}##ModuleId#parse#(#String#mid#)#{#Matcher#m#=#MID_PATTERN#.#matcher#(#mid#)#;#if#(#!#m#.#matches#(#)#)#{#throw#new#IllegalArgumentException#(#"module text representation do not match expected pattern."#+#" given mid='"#+#mid#+#"' expected form="#+#MID_PATTERN#.#pattern#(#)#)#;#}#//CheckStyle:MagicNumber| OFF#return#newInstance#(#m#.#group#(#1#)#,#m#.#group#(#2#)#)#;#//CheckStyle:MagicNumber| ON#}##