String#toString#(#)#{#if#(#selected#!=#null#)#{#return#selected#+#" in "#+#parent#+#(#detail#==#null#?#""#:#" "#+#detail#)#+#" ("#+#conflictManager#+#") ["#+#rootModuleConf#+#"]"#;#}#else#{#return#"transitively ["#+#rootModuleConf#+#"]"#;#}#}##ConflictManager#getConflictManager#(#)#{#return#conflictManager#;#}##IvyNode#getParent#(#)#{#return#parent#;#}##Collection#getSelected#(#)#{#return#selected#;#}##String#getRootModuleConf#(#)#{#return#rootModuleConf#;#}##boolean#isTransitivelyEvicted#(#)#{#return#parent#==#null#;#}##String#getDetail#(#)#{#return#detail#;#}##String#getConf#(#)#{#return#conf#;#}##ModuleId#getModuleId#(#)#{#return#moduleId#;#}##boolean#equals#(#Object#obj#)#{#if#(#!#(#obj#instanceof#ModuleIdConf#)#)#{#return#false#;#}#return#getModuleId#(#)#.#equals#(#(#(#ModuleIdConf#)#obj#)#.#getModuleId#(#)#)#&&#getConf#(#)#.#equals#(#(#(#ModuleIdConf#)#obj#)#.#getConf#(#)#)#;#}##int#hashCode#(#)#{#//CheckStyle:MagicNumber| OFF#int#hash#=#33#;#hash#+=#getModuleId#(#)#.#hashCode#(#)#*#17#;#hash#+=#getConf#(#)#.#hashCode#(#)#*#17#;#//CheckStyle:MagicNumber| ON#return#hash#;#}##Set#getResolvedNodes#(#ModuleId#mid#,#String#rootModuleConf#)#{#Collection#resolved#=#(#Collection#)#selectedDeps#.#get#(#new#ModuleIdConf#(#mid#,#rootModuleConf#)#)#;#Set#ret#=#new#HashSet#(#)#;#if#(#resolved#!=#null#)#{#for#(#Iterator#iter#=#resolved#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#IvyNode#node#=#(#IvyNode#)#iter#.#next#(#)#;#ret#.#add#(#node#.#getRealNode#(#)#)#;#}#}#return#ret#;#}##Collection#getResolvedRevisions#(#ModuleId#mid#,#String#rootModuleConf#)#{#Collection#resolved#=#(#Collection#)#selectedDeps#.#get#(#new#ModuleIdConf#(#mid#,#rootModuleConf#)#)#;#if#(#resolved#==#null#)#{#return#new#HashSet#(#)#;#}#else#{#Collection#resolvedRevs#=#new#HashSet#(#)#;#for#(#Iterator#iter#=#resolved#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#IvyNode#node#=#(#IvyNode#)#iter#.#next#(#)#;#resolvedRevs#.#add#(#node#.#getId#(#)#)#;#resolvedRevs#.#add#(#node#.#getResolvedId#(#)#)#;#}#return#resolvedRevs#;#}#}##void#setResolvedNodes#(#ModuleId#moduleId#,#String#rootModuleConf#,#Collection#resolved#)#{#ModuleIdConf#moduleIdConf#=#new#ModuleIdConf#(#moduleId#,#rootModuleConf#)#;#selectedDeps#.#put#(#moduleIdConf#,#new#HashSet#(#resolved#)#)#;#}##Collection#getEvictedNodes#(#ModuleId#mid#,#String#rootModuleConf#)#{#Collection#resolved#=#(#Collection#)#evictedDeps#.#get#(#new#ModuleIdConf#(#mid#,#rootModuleConf#)#)#;#Set#ret#=#new#HashSet#(#)#;#if#(#resolved#!=#null#)#{#for#(#Iterator#iter#=#resolved#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#IvyNode#node#=#(#IvyNode#)#iter#.#next#(#)#;#ret#.#add#(#node#.#getRealNode#(#)#)#;#}#}#return#ret#;#}##Collection#getEvictedRevisions#(#ModuleId#mid#,#String#rootModuleConf#)#{#Collection#evicted#=#(#Collection#)#evictedRevs#.#get#(#new#ModuleIdConf#(#mid#,#rootModuleConf#)#)#;#if#(#evicted#==#null#)#{#return#new#HashSet#(#)#;#}#else#{#return#new#HashSet#(#evicted#)#;#}#}##void#setEvictedNodes#(#ModuleId#moduleId#,#String#rootModuleConf#,#Collection#evicted#)#{#ModuleIdConf#moduleIdConf#=#new#ModuleIdConf#(#moduleId#,#rootModuleConf#)#;#evictedDeps#.#put#(#moduleIdConf#,#new#HashSet#(#evicted#)#)#;#Collection#evictedRevs#=#new#HashSet#(#)#;#for#(#Iterator#iter#=#evicted#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#IvyNode#node#=#(#IvyNode#)#iter#.#next#(#)#;#evictedRevs#.#add#(#node#.#getId#(#)#)#;#evictedRevs#.#add#(#node#.#getResolvedId#(#)#)#;#}#this#.#evictedRevs#.#put#(#moduleIdConf#,#evictedRevs#)#;#}##boolean#isEvicted#(#String#rootModuleConf#)#{#cleanEvicted#(#)#;#IvyNode#root#=#node#.#getRoot#(#)#;#ModuleId#moduleId#=#node#.#getId#(#)#.#getModuleId#(#)#;#Collection#resolvedRevisions#=#root#.#getResolvedRevisions#(#moduleId#,#rootModuleConf#)#;#EvictionData#evictedData#=#getEvictedData#(#rootModuleConf#)#;#return#root#!=#node#&&#evictedData#!=#null#&&#(#!#resolvedRevisions#.#contains#(#node#.#getResolvedId#(#)#)#||#evictedData#.#isTransitivelyEvicted#(#)#)#;#}##boolean#isCompletelyEvicted#(#)#{#cleanEvicted#(#)#;#if#(#node#.#isRoot#(#)#)#{#return#false#;#}#String#[#]#rootModuleConfigurations#=#node#.#getRootModuleConfigurations#(#)#;#for#(#int#i#=#0#;#i#<#rootModuleConfigurations#.#length#;#i#++#)#{#if#(#!#isEvicted#(#rootModuleConfigurations#[#i#]#)#)#{#return#false#;#}#}#return#true#;#}##void#cleanEvicted#(#)#{#// check if it was evicted by a node that we are now the real node for#for#(#Iterator#iter#=#evicted#.#keySet#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#String#rootModuleConf#=#(#String#)#iter#.#next#(#)#;#EvictionData#ed#=#(#EvictionData#)#evicted#.#get#(#rootModuleConf#)#;#Collection#sel#=#ed#.#getSelected#(#)#;#if#(#sel#!=#null#)#{#for#(#Iterator#iterator#=#sel#.#iterator#(#)#;#iterator#.#hasNext#(#)#;#)#{#IvyNode#n#=#(#IvyNode#)#iterator#.#next#(#)#;#if#(#n#.#getRealNode#(#)#.#equals#(#this#)#)#{#// yes, we are the real node for a selected one !#// we are no more evicted in this conf !#iter#.#remove#(#)#;#}#}#}#}#}##void#markEvicted#(#EvictionData#evictionData#)#{#evicted#.#put#(#evictionData#.#getRootModuleConf#(#)#,#evictionData#)#;#}##EvictionData#getEvictedData#(#String#rootModuleConf#)#{#cleanEvicted#(#)#;#return#(#EvictionData#)#evicted#.#get#(#rootModuleConf#)#;#}##String#[#]#getEvictedConfs#(#)#{#cleanEvicted#(#)#;#return#(#String#[#]#)#evicted#.#keySet#(#)#.#toArray#(#new#String#[#evicted#.#keySet#(#)#.#size#(#)#]#)#;#}##Collection#getAllEvictingNodes#(#)#{#Collection#allEvictingNodes#=#null#;#for#(#Iterator#iter#=#evicted#.#values#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#EvictionData#ed#=#(#EvictionData#)#iter#.#next#(#)#;#Collection#selected#=#ed#.#getSelected#(#)#;#if#(#selected#!=#null#)#{#if#(#allEvictingNodes#==#null#)#{#allEvictingNodes#=#new#HashSet#(#)#;#}#allEvictingNodes#.#addAll#(#selected#)#;#}#}#return#allEvictingNodes#;#}##Collection#/*<String>*/#getAllEvictingNodesDetails#(#)#{#Collection#ret#=#null#;#for#(#Iterator#iter#=#evicted#.#values#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#EvictionData#ed#=#(#EvictionData#)#iter#.#next#(#)#;#Collection#selected#=#ed#.#getSelected#(#)#;#if#(#selected#!=#null#)#{#if#(#ret#==#null#)#{#ret#=#new#HashSet#(#)#;#}#if#(#selected#.#size#(#)#==#1#)#{#ret#.#add#(#selected#.#iterator#(#)#.#next#(#)#+#(#ed#.#getDetail#(#)#==#null#?#""#:#" "#+#ed#.#getDetail#(#)#)#)#;#}#else#if#(#selected#.#size#(#)#>#1#)#{#ret#.#add#(#selected#+#(#ed#.#getDetail#(#)#==#null#?#""#:#" "#+#ed#.#getDetail#(#)#)#)#;#}#}#}#return#ret#;#}##Collection#getAllEvictingConflictManagers#(#)#{#Collection#ret#=#new#HashSet#(#)#;#for#(#Iterator#iter#=#evicted#.#values#(#)#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#EvictionData#ed#=#(#EvictionData#)#iter#.#next#(#)#;#ret#.#add#(#ed#.#getConflictManager#(#)#)#;#}#return#ret#;#}##EvictionData#getEvictionDataInRoot#(#String#rootModuleConf#,#IvyNode#ancestor#)#{#Collection#selectedNodes#=#node#.#getRoot#(#)#.#getResolvedNodes#(#node#.#getModuleId#(#)#,#rootModuleConf#)#;#for#(#Iterator#iter#=#selectedNodes#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#IvyNode#node#=#(#IvyNode#)#iter#.#next#(#)#;#if#(#node#.#getResolvedId#(#)#.#equals#(#this#.#node#.#getResolvedId#(#)#)#)#{#// the node is part of the selected ones for the root: no eviction data to return#return#null#;#}#}#// we didn't find this mrid in the selected ones for the root: it has been previously#// evicted#return#new#EvictionData#(#rootModuleConf#,#ancestor#,#node#.#getRoot#(#)#.#getConflictManager#(#node#.#getModuleId#(#)#)#,#selectedNodes#)#;#}##Collection#getPendingConflicts#(#String#rootModuleConf#,#ModuleId#mid#)#{#Collection#resolved#=#(#Collection#)#pendingConflicts#.#get#(#new#ModuleIdConf#(#mid#,#rootModuleConf#)#)#;#Set#ret#=#new#HashSet#(#)#;#if#(#resolved#!=#null#)#{#for#(#Iterator#iter#=#resolved#.#iterator#(#)#;#iter#.#hasNext#(#)#;#)#{#IvyNode#node#=#(#IvyNode#)#iter#.#next#(#)#;#ret#.#add#(#node#.#getRealNode#(#)#)#;#}#}#return#ret#;#}##void#setPendingConflicts#(#ModuleId#moduleId#,#String#rootModuleConf#,#Collection#conflicts#)#{#ModuleIdConf#moduleIdConf#=#new#ModuleIdConf#(#moduleId#,#rootModuleConf#)#;#pendingConflicts#.#put#(#moduleIdConf#,#new#HashSet#(#conflicts#)#)#;#}##