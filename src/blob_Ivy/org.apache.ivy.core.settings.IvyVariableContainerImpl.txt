void#setVariable#(#String#varName#,#String#value#,#boolean#overwrite#)#{#if#(#overwrite#||#!#variables#.#containsKey#(#varName#)#)#{#Message#.#debug#(#"setting '"#+#varName#+#"' to '"#+#value#+#"'"#)#;#variables#.#put#(#varName#,#substitute#(#value#)#)#;#}#else#{#Message#.#debug#(#"'"#+#varName#+#"' already set: discarding '"#+#value#+#"'"#)#;#}#}##void#setEnvironmentPrefix#(#String#prefix#)#{#if#(#(#prefix#!=#null#)#&&#!#prefix#.#endsWith#(#"."#)#)#{#this#.#envPrefix#=#prefix#+#"."#;#}#else#{#this#.#envPrefix#=#prefix#;#}#}##String#substitute#(#String#value#)#{#return#IvyPatternHelper#.#substituteVariables#(#value#,#this#)#;#}##Map#getVariables#(#)#{#return#variables#;#}##String#getEnvironmentPrefix#(#)#{#return#envPrefix#;#}##String#getVariable#(#String#name#)#{#String#val#=#null#;#if#(#(#envPrefix#!=#null#)#&&#name#.#startsWith#(#envPrefix#)#)#{#val#=#System#.#getenv#(#name#.#substring#(#envPrefix#.#length#(#)#)#)#;#}#else#{#val#=#(#String#)#variables#.#get#(#name#)#;#}#return#val#;#}##Object#clone#(#)#{#IvyVariableContainerImpl#clone#;#try#{#clone#=#(#IvyVariableContainerImpl#)#super#.#clone#(#)#;#}#catch#(#CloneNotSupportedException#e#)#{#throw#new#RuntimeException#(#"unable to clone a "#+#this#.#getClass#(#)#)#;#}#clone#.#variables#=#new#HashMap#(#this#.#variables#)#;#return#clone#;#}##