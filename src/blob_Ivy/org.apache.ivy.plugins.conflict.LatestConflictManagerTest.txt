void#setUp#(#)#throws#Exception#{#ivy#=#new#Ivy#(#)#;#ivy#.#configure#(#LatestConflictManagerTest#.#class#.#getResource#(#"ivysettings-latest.xml"#)#)#;#_cache#=#new#File#(#"build/cache"#)#;#_cache#.#mkdirs#(#)#;#}##void#tearDown#(#)#throws#Exception#{#FileUtil#.#forceDelete#(#_cache#)#;#}##void#testIvy388#(#)#throws#Exception#{#ResolveReport#report#=#ivy#.#resolve#(#LatestConflictManagerTest#.#class#.#getResource#(#"ivy-388.xml"#)#,#getResolveOptions#(#)#)#;#List#deps#=#report#.#getDependencies#(#)#;#Iterator#dependencies#=#deps#.#iterator#(#)#;#String#[#]#confs#=#report#.#getConfigurations#(#)#;#while#(#dependencies#.#hasNext#(#)#)#{#IvyNode#node#=#(#IvyNode#)#dependencies#.#next#(#)#;#for#(#int#i#=#0#;#i#<#confs#.#length#;#i#++#)#{#String#conf#=#confs#[#i#]#;#if#(#!#node#.#isEvicted#(#conf#)#)#{#boolean#flag1#=#report#.#getConfigurationReport#(#conf#)#.#getDependency#(#node#.#getResolvedId#(#)#)#!=#null#;#boolean#flag2#=#report#.#getConfigurationReport#(#conf#)#.#getModuleRevisionIds#(#)#.#contains#(#node#.#getResolvedId#(#)#)#;#assertEquals#(#"Inconsistent data for node "#+#node#+#" in conf "#+#conf#,#flag1#,#flag2#)#;#}#}#}#}##void#testIvy383#(#)#throws#Exception#{#ResolveReport#report#=#ivy#.#resolve#(#LatestConflictManagerTest#.#class#.#getResource#(#"ivy-383.xml"#)#,#getResolveOptions#(#)#)#;#ConfigurationResolveReport#defaultReport#=#report#.#getConfigurationReport#(#"default"#)#;#Iterator#iter#=#defaultReport#.#getModuleRevisionIds#(#)#.#iterator#(#)#;#while#(#iter#.#hasNext#(#)#)#{#ModuleRevisionId#mrid#=#(#ModuleRevisionId#)#iter#.#next#(#)#;#if#(#mrid#.#getName#(#)#.#equals#(#"mod1.1"#)#)#{#assertEquals#(#"1.0"#,#mrid#.#getRevision#(#)#)#;#}#else#if#(#mrid#.#getName#(#)#.#equals#(#"mod1.2"#)#)#{#assertEquals#(#"2.2"#,#mrid#.#getRevision#(#)#)#;#}#}#}##void#testLatestTime1#(#)#throws#Exception#{#ivy#=#new#Ivy#(#)#;#ivy#.#configure#(#LatestConflictManagerTest#.#class#.#getResource#(#"ivysettings-latest-time.xml"#)#)#;#ivy#.#getSettings#(#)#.#setVariable#(#"ivy.log.conflict.resolution"#,#"true"#,#true#)#;#// set timestamps, because svn is not preserving this information,#// and the latest time strategy is relying on it#long#time#=#System#.#currentTimeMillis#(#)#-#10000#;#new#File#(#"test/repositories/1/org1/mod1.2/jars/mod1.2-2.0.jar"#)#.#setLastModified#(#time#)#;#new#File#(#"test/repositories/1/org1/mod1.2/jars/mod1.2-2.2.jar"#)#.#setLastModified#(#time#+#2000#)#;#ResolveReport#report#=#ivy#.#resolve#(#LatestConflictManagerTest#.#class#.#getResource#(#"ivy-latest-time-1.xml"#)#,#getResolveOptions#(#)#)#;#ConfigurationResolveReport#defaultReport#=#report#.#getConfigurationReport#(#"default"#)#;#Iterator#iter#=#defaultReport#.#getModuleRevisionIds#(#)#.#iterator#(#)#;#while#(#iter#.#hasNext#(#)#)#{#ModuleRevisionId#mrid#=#(#ModuleRevisionId#)#iter#.#next#(#)#;#if#(#mrid#.#getName#(#)#.#equals#(#"mod1.1"#)#)#{#assertEquals#(#"1.0"#,#mrid#.#getRevision#(#)#)#;#}#else#if#(#mrid#.#getName#(#)#.#equals#(#"mod1.2"#)#)#{#assertEquals#(#"2.2"#,#mrid#.#getRevision#(#)#)#;#}#}#}##void#testLatestTime2#(#)#throws#Exception#{#ivy#=#new#Ivy#(#)#;#ivy#.#configure#(#LatestConflictManagerTest#.#class#.#getResource#(#"ivysettings-latest-time.xml"#)#)#;#ivy#.#getSettings#(#)#.#setVariable#(#"ivy.log.conflict.resolution"#,#"true"#,#true#)#;#// set timestamps, because svn is not preserving this information,#// and the latest time strategy is relying on it#long#time#=#System#.#currentTimeMillis#(#)#-#10000#;#new#File#(#"test/repositories/1/org1/mod1.2/jars/mod1.2-2.0.jar"#)#.#setLastModified#(#time#)#;#new#File#(#"test/repositories/1/org1/mod1.2/jars/mod1.2-2.2.jar"#)#.#setLastModified#(#time#+#2000#)#;#ResolveReport#report#=#ivy#.#resolve#(#LatestConflictManagerTest#.#class#.#getResource#(#"ivy-latest-time-2.xml"#)#,#getResolveOptions#(#)#)#;#ConfigurationResolveReport#defaultReport#=#report#.#getConfigurationReport#(#"default"#)#;#Iterator#iter#=#defaultReport#.#getModuleRevisionIds#(#)#.#iterator#(#)#;#while#(#iter#.#hasNext#(#)#)#{#ModuleRevisionId#mrid#=#(#ModuleRevisionId#)#iter#.#next#(#)#;#if#(#mrid#.#getName#(#)#.#equals#(#"mod1.1"#)#)#{#assertEquals#(#"1.0"#,#mrid#.#getRevision#(#)#)#;#}#else#if#(#mrid#.#getName#(#)#.#equals#(#"mod1.2"#)#)#{#assertEquals#(#"2.2"#,#mrid#.#getRevision#(#)#)#;#}#}#}##void#testLatestTimeTransitivity#(#)#throws#Exception#{#ivy#=#new#Ivy#(#)#;#ivy#.#configure#(#LatestConflictManagerTest#.#class#.#getResource#(#"ivysettings-latest-time-transitivity.xml"#)#)#;#ivy#.#getSettings#(#)#.#setVariable#(#"ivy.log.conflict.resolution"#,#"true"#,#true#)#;#// set timestamps, because svn is not preserving this information,#// and the latest time strategy is relying on it#long#time#=#System#.#currentTimeMillis#(#)#-#10000#;#new#File#(#"test/repositories/IVY-407/MyCompany/C/ivy-1.0.0.xml"#)#.#setLastModified#(#time#)#;#new#File#(#"test/repositories/IVY-407/MyCompany/C/ivy-1.0.1.xml"#)#.#setLastModified#(#time#+#2000#)#;#new#File#(#"test/repositories/IVY-407/MyCompany/C/ivy-1.0.2.xml"#)#.#setLastModified#(#time#+#4000#)#;#ResolveReport#report#=#ivy#.#resolve#(#LatestConflictManagerTest#.#class#.#getResource#(#"ivy-latest-time-transitivity.xml"#)#,#getResolveOptions#(#)#)#;#ConfigurationResolveReport#defaultReport#=#report#.#getConfigurationReport#(#"default"#)#;#Iterator#iter#=#defaultReport#.#getModuleRevisionIds#(#)#.#iterator#(#)#;#while#(#iter#.#hasNext#(#)#)#{#ModuleRevisionId#mrid#=#(#ModuleRevisionId#)#iter#.#next#(#)#;#if#(#mrid#.#getName#(#)#.#equals#(#"A"#)#)#{#assertEquals#(#"A revision should be 1.0.0"#,#"1.0.0"#,#mrid#.#getRevision#(#)#)#;#}#else#if#(#mrid#.#getName#(#)#.#equals#(#"D"#)#)#{#assertEquals#(#"D revision should be 1.0.0"#,#"1.0.0"#,#mrid#.#getRevision#(#)#)#;#}#// by transitivity#else#if#(#mrid#.#getName#(#)#.#equals#(#"B"#)#)#{#assertEquals#(#"B revision should be 1.0.0"#,#"1.0.0"#,#mrid#.#getRevision#(#)#)#;#}#else#if#(#mrid#.#getName#(#)#.#equals#(#"C"#)#)#{#assertEquals#(#"C revision should be 1.0.2"#,#"1.0.2"#,#mrid#.#getRevision#(#)#)#;#}#}#}##ResolveOptions#getResolveOptions#(#)#{#return#new#ResolveOptions#(#)#.#setValidate#(#false#)#;#}##