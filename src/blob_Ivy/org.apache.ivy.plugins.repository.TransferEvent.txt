String#getName#(#int#eventType#)#{#switch#(#eventType#)#{#case#TRANSFER_INITIATED#:#return#TRANSFER_INITIATED_NAME#;#case#TRANSFER_STARTED#:#return#TRANSFER_STARTED_NAME#;#case#TRANSFER_PROGRESS#:#return#TRANSFER_PROGRESS_NAME#;#case#TRANSFER_COMPLETED#:#return#TRANSFER_COMPLETED_NAME#;#case#TRANSFER_ERROR#:#return#TRANSFER_ERROR_NAME#;#default#:#return#null#;#}#}##Resource#getResource#(#)#{#return#resource#;#}##Exception#getException#(#)#{#return#exception#;#}##int#getRequestType#(#)#{#return#requestType#;#}##void#setRequestType#(#final#int#requestType#)#{#switch#(#requestType#)#{#case#REQUEST_PUT#:#break#;#case#REQUEST_GET#:#break#;#default#:#throw#new#IllegalArgumentException#(#"Illegal request type: "#+#requestType#)#;#}#this#.#requestType#=#requestType#;#addAttribute#(#"request-type"#,#requestType#==#REQUEST_GET#?#"get"#:#"put"#)#;#}##int#getEventType#(#)#{#return#eventType#;#}##void#setEventType#(#final#int#eventType#)#{#checkEventType#(#eventType#)#;#if#(#this#.#eventType#!=#eventType#)#{#this#.#eventType#=#eventType#;#timeTracking#[#eventType#]#=#System#.#currentTimeMillis#(#)#;#if#(#eventType#>#TRANSFER_INITIATED#)#{#addAttribute#(#"total-duration"#,#String#.#valueOf#(#getElapsedTime#(#TRANSFER_INITIATED#,#eventType#)#)#)#;#if#(#eventType#>#TRANSFER_STARTED#)#{#addAttribute#(#"duration"#,#String#.#valueOf#(#getElapsedTime#(#TRANSFER_STARTED#,#eventType#)#)#)#;#}#}#}#}##void#setResource#(#final#Resource#resource#)#{#this#.#resource#=#resource#;#addAttribute#(#"resource"#,#this#.#resource#.#getName#(#)#)#;#}##File#getLocalFile#(#)#{#return#localFile#;#}##void#setLocalFile#(#File#localFile#)#{#this#.#localFile#=#localFile#;#}##long#getLength#(#)#{#return#length#;#}##void#setLength#(#long#length#)#{#this#.#length#=#length#;#}##long#getTotalLength#(#)#{#return#totalLength#;#}##void#setTotalLength#(#long#totalLength#)#{#this#.#totalLength#=#totalLength#;#}##void#setException#(#Exception#exception#)#{#this#.#exception#=#exception#;#}##boolean#isTotalLengthSet#(#)#{#return#isTotalLengthSet#;#}##void#setTotalLengthSet#(#boolean#isTotalLengthSet#)#{#this#.#isTotalLengthSet#=#isTotalLengthSet#;#}##Repository#getRepository#(#)#{#return#repository#;#}##long#getElapsedTime#(#int#fromEventType#,#int#toEventType#)#{#checkEventType#(#fromEventType#)#;#checkEventType#(#toEventType#)#;#long#start#=#timeTracking#[#fromEventType#]#;#long#end#=#timeTracking#[#toEventType#]#;#if#(#start#==#0#||#end#==#0#)#{#return#-#1#;#}#else#if#(#end#<#start#)#{#return#0#;#}#else#{#return#end#-#start#;#}#}##void#checkEventType#(#int#eventType#)#{#if#(#eventType#<#0#||#eventType#>#LAST_EVENT_TYPE#)#{#throw#new#IllegalArgumentException#(#"invalid event type "#+#eventType#)#;#}#}##